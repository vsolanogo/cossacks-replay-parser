import{D as t,n as a,G as e}from"./index-DBYzvTaR.js";const n=new class{constructor(t){this._canvasPool=Object.create(null),this.canvasOptions=t||{},this.enableFullScreen=!1}_createCanvasAndContext(a,e){const n=t.get().createCanvas();n.width=a,n.height=e;const s=n.getContext("2d");return{canvas:n,context:s}}getOptimalCanvasAndContext(t,e,n=1){t=Math.ceil(t*n-1e-6),e=Math.ceil(e*n-1e-6);const s=((t=a(t))<<17)+((e=a(e))<<1);this._canvasPool[s]||(this._canvasPool[s]=[]);let o=this._canvasPool[s].pop();return o||(o=this._createCanvasAndContext(t,e)),o}returnCanvasAndContext(t){const a=t.canvas,{width:e,height:n}=a,s=(e<<17)+(n<<1);t.context.resetTransform(),t.context.clearRect(0,0,e,n),this._canvasPool[s].push(t)}clear(){this._canvasPool={}}};e.register(n);export{n as C};
