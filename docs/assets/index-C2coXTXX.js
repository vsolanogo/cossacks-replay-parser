const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browserAll-D-gOCgfh.js","assets/webworkerAll-CxTGYGrH.js","assets/WebGPURenderer-B8II6iGH.js","assets/BufferResource-BWnU2AYx.js","assets/RenderTargetSystem-bm6ElWJa.js","assets/WebGLRenderer-B4tlK1EM.js","assets/CanvasRenderer-DTC-4uGY.js"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))s(u);new MutationObserver(u=>{for(const o of u)if(o.type==="childList")for(const f of o.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function i(u){const o={};return u.integrity&&(o.integrity=u.integrity),u.referrerPolicy&&(o.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?o.credentials="include":u.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(u){if(u.ep)return;u.ep=!0;const o=i(u);fetch(u.href,o)}})();var Ss=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Is(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var sc={exports:{}},As={};var bp;function Ux(){if(bp)return As;bp=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(s,u,o){var f=null;if(o!==void 0&&(f=""+o),u.key!==void 0&&(f=""+u.key),"key"in u){o={};for(var m in u)m!=="key"&&(o[m]=u[m])}else o=u;return u=o.ref,{$$typeof:r,type:s,key:f,ref:u!==void 0?u:null,props:o}}return As.Fragment=t,As.jsx=i,As.jsxs=i,As}var Sp;function Hx(){return Sp||(Sp=1,sc.exports=Ux()),sc.exports}var tt=Hx(),rc={exports:{}},rt={};var Ap;function Nx(){if(Ap)return rt;Ap=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),c=Symbol.for("react.activity"),y=Symbol.iterator;function g(z){return z===null||typeof z!="object"?null:(z=y&&z[y]||z["@@iterator"],typeof z=="function"?z:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,M={};function A(z,j,F){this.props=z,this.context=j,this.refs=M,this.updater=F||b}A.prototype.isReactComponent={},A.prototype.setState=function(z,j){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,j,"setState")},A.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function E(){}E.prototype=A.prototype;function C(z,j,F){this.props=z,this.context=j,this.refs=M,this.updater=F||b}var B=C.prototype=new E;B.constructor=C,T(B,A.prototype),B.isPureReactComponent=!0;var X=Array.isArray;function P(){}var k={H:null,A:null,T:null,S:null},it=Object.prototype.hasOwnProperty;function Q(z,j,F){var K=F.ref;return{$$typeof:r,type:z,key:j,ref:K!==void 0?K:null,props:F}}function Z(z,j){return Q(z.type,j,z.props)}function I(z){return typeof z=="object"&&z!==null&&z.$$typeof===r}function ot(z){var j={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(F){return j[F]})}var xt=/\/+/g;function ht(z,j){return typeof z=="object"&&z!==null&&z.key!=null?ot(""+z.key):j.toString(36)}function Pt(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(P,P):(z.status="pending",z.then(function(j){z.status==="pending"&&(z.status="fulfilled",z.value=j)},function(j){z.status==="pending"&&(z.status="rejected",z.reason=j)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function D(z,j,F,K,st){var lt=typeof z;(lt==="undefined"||lt==="boolean")&&(z=null);var bt=!1;if(z===null)bt=!0;else switch(lt){case"bigint":case"string":case"number":bt=!0;break;case"object":switch(z.$$typeof){case r:case t:bt=!0;break;case x:return bt=z._init,D(bt(z._payload),j,F,K,st)}}if(bt)return st=st(z),bt=K===""?"."+ht(z,0):K,X(st)?(F="",bt!=null&&(F=bt.replace(xt,"$&/")+"/"),D(st,j,F,"",function(rn){return rn})):st!=null&&(I(st)&&(st=Z(st,F+(st.key==null||z&&z.key===st.key?"":(""+st.key).replace(xt,"$&/")+"/")+bt)),j.push(st)),1;bt=0;var $t=K===""?".":K+":";if(X(z))for(var Gt=0;Gt<z.length;Gt++)K=z[Gt],lt=$t+ht(K,Gt),bt+=D(K,j,F,lt,st);else if(Gt=g(z),typeof Gt=="function")for(z=Gt.call(z),Gt=0;!(K=z.next()).done;)K=K.value,lt=$t+ht(K,Gt++),bt+=D(K,j,F,lt,st);else if(lt==="object"){if(typeof z.then=="function")return D(Pt(z),j,F,K,st);throw j=String(z),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.")}return bt}function Y(z,j,F){if(z==null)return z;var K=[],st=0;return D(z,K,"","",function(lt){return j.call(F,lt,st++)}),K}function nt(z){if(z._status===-1){var j=z._result;j=j(),j.then(function(F){(z._status===0||z._status===-1)&&(z._status=1,z._result=F)},function(F){(z._status===0||z._status===-1)&&(z._status=2,z._result=F)}),z._status===-1&&(z._status=0,z._result=j)}if(z._status===1)return z._result.default;throw z._result}var W=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var j=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(j))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},mt={map:Y,forEach:function(z,j,F){Y(z,function(){j.apply(this,arguments)},F)},count:function(z){var j=0;return Y(z,function(){j++}),j},toArray:function(z){return Y(z,function(j){return j})||[]},only:function(z){if(!I(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return rt.Activity=c,rt.Children=mt,rt.Component=A,rt.Fragment=i,rt.Profiler=u,rt.PureComponent=C,rt.StrictMode=s,rt.Suspense=p,rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,rt.__COMPILER_RUNTIME={__proto__:null,c:function(z){return k.H.useMemoCache(z)}},rt.cache=function(z){return function(){return z.apply(null,arguments)}},rt.cacheSignal=function(){return null},rt.cloneElement=function(z,j,F){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var K=T({},z.props),st=z.key;if(j!=null)for(lt in j.key!==void 0&&(st=""+j.key),j)!it.call(j,lt)||lt==="key"||lt==="__self"||lt==="__source"||lt==="ref"&&j.ref===void 0||(K[lt]=j[lt]);var lt=arguments.length-2;if(lt===1)K.children=F;else if(1<lt){for(var bt=Array(lt),$t=0;$t<lt;$t++)bt[$t]=arguments[$t+2];K.children=bt}return Q(z.type,st,K)},rt.createContext=function(z){return z={$$typeof:f,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:o,_context:z},z},rt.createElement=function(z,j,F){var K,st={},lt=null;if(j!=null)for(K in j.key!==void 0&&(lt=""+j.key),j)it.call(j,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(st[K]=j[K]);var bt=arguments.length-2;if(bt===1)st.children=F;else if(1<bt){for(var $t=Array(bt),Gt=0;Gt<bt;Gt++)$t[Gt]=arguments[Gt+2];st.children=$t}if(z&&z.defaultProps)for(K in bt=z.defaultProps,bt)st[K]===void 0&&(st[K]=bt[K]);return Q(z,lt,st)},rt.createRef=function(){return{current:null}},rt.forwardRef=function(z){return{$$typeof:m,render:z}},rt.isValidElement=I,rt.lazy=function(z){return{$$typeof:x,_payload:{_status:-1,_result:z},_init:nt}},rt.memo=function(z,j){return{$$typeof:_,type:z,compare:j===void 0?null:j}},rt.startTransition=function(z){var j=k.T,F={};k.T=F;try{var K=z(),st=k.S;st!==null&&st(F,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(P,W)}catch(lt){W(lt)}finally{j!==null&&F.types!==null&&(j.types=F.types),k.T=j}},rt.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},rt.use=function(z){return k.H.use(z)},rt.useActionState=function(z,j,F){return k.H.useActionState(z,j,F)},rt.useCallback=function(z,j){return k.H.useCallback(z,j)},rt.useContext=function(z){return k.H.useContext(z)},rt.useDebugValue=function(){},rt.useDeferredValue=function(z,j){return k.H.useDeferredValue(z,j)},rt.useEffect=function(z,j){return k.H.useEffect(z,j)},rt.useEffectEvent=function(z){return k.H.useEffectEvent(z)},rt.useId=function(){return k.H.useId()},rt.useImperativeHandle=function(z,j,F){return k.H.useImperativeHandle(z,j,F)},rt.useInsertionEffect=function(z,j){return k.H.useInsertionEffect(z,j)},rt.useLayoutEffect=function(z,j){return k.H.useLayoutEffect(z,j)},rt.useMemo=function(z,j){return k.H.useMemo(z,j)},rt.useOptimistic=function(z,j){return k.H.useOptimistic(z,j)},rt.useReducer=function(z,j,F){return k.H.useReducer(z,j,F)},rt.useRef=function(z){return k.H.useRef(z)},rt.useState=function(z){return k.H.useState(z)},rt.useSyncExternalStore=function(z,j,F){return k.H.useSyncExternalStore(z,j,F)},rt.useTransition=function(){return k.H.useTransition()},rt.version="19.2.4",rt}var Tp;function ah(){return Tp||(Tp=1,rc.exports=Nx()),rc.exports}var oe=ah();const F_=Is(oe);var lc={exports:{}},Ts={},uc={exports:{}},oc={};var Mp;function kx(){return Mp||(Mp=1,(function(r){function t(D,Y){var nt=D.length;D.push(Y);t:for(;0<nt;){var W=nt-1>>>1,mt=D[W];if(0<u(mt,Y))D[W]=Y,D[nt]=mt,nt=W;else break t}}function i(D){return D.length===0?null:D[0]}function s(D){if(D.length===0)return null;var Y=D[0],nt=D.pop();if(nt!==Y){D[0]=nt;t:for(var W=0,mt=D.length,z=mt>>>1;W<z;){var j=2*(W+1)-1,F=D[j],K=j+1,st=D[K];if(0>u(F,nt))K<mt&&0>u(st,F)?(D[W]=st,D[K]=nt,W=K):(D[W]=F,D[j]=nt,W=j);else if(K<mt&&0>u(st,nt))D[W]=st,D[K]=nt,W=K;else break t}}return Y}function u(D,Y){var nt=D.sortIndex-Y.sortIndex;return nt!==0?nt:D.id-Y.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;r.unstable_now=function(){return o.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],_=[],x=1,c=null,y=3,g=!1,b=!1,T=!1,M=!1,A=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function B(D){for(var Y=i(_);Y!==null;){if(Y.callback===null)s(_);else if(Y.startTime<=D)s(_),Y.sortIndex=Y.expirationTime,t(p,Y);else break;Y=i(_)}}function X(D){if(T=!1,B(D),!b)if(i(p)!==null)b=!0,P||(P=!0,ot());else{var Y=i(_);Y!==null&&Pt(X,Y.startTime-D)}}var P=!1,k=-1,it=5,Q=-1;function Z(){return M?!0:!(r.unstable_now()-Q<it)}function I(){if(M=!1,P){var D=r.unstable_now();Q=D;var Y=!0;try{t:{b=!1,T&&(T=!1,E(k),k=-1),g=!0;var nt=y;try{e:{for(B(D),c=i(p);c!==null&&!(c.expirationTime>D&&Z());){var W=c.callback;if(typeof W=="function"){c.callback=null,y=c.priorityLevel;var mt=W(c.expirationTime<=D);if(D=r.unstable_now(),typeof mt=="function"){c.callback=mt,B(D),Y=!0;break e}c===i(p)&&s(p),B(D)}else s(p);c=i(p)}if(c!==null)Y=!0;else{var z=i(_);z!==null&&Pt(X,z.startTime-D),Y=!1}}break t}finally{c=null,y=nt,g=!1}Y=void 0}}finally{Y?ot():P=!1}}}var ot;if(typeof C=="function")ot=function(){C(I)};else if(typeof MessageChannel<"u"){var xt=new MessageChannel,ht=xt.port2;xt.port1.onmessage=I,ot=function(){ht.postMessage(null)}}else ot=function(){A(I,0)};function Pt(D,Y){k=A(function(){D(r.unstable_now())},Y)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(D){D.callback=null},r.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):it=0<D?Math.floor(1e3/D):5},r.unstable_getCurrentPriorityLevel=function(){return y},r.unstable_next=function(D){switch(y){case 1:case 2:case 3:var Y=3;break;default:Y=y}var nt=y;y=Y;try{return D()}finally{y=nt}},r.unstable_requestPaint=function(){M=!0},r.unstable_runWithPriority=function(D,Y){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var nt=y;y=D;try{return Y()}finally{y=nt}},r.unstable_scheduleCallback=function(D,Y,nt){var W=r.unstable_now();switch(typeof nt=="object"&&nt!==null?(nt=nt.delay,nt=typeof nt=="number"&&0<nt?W+nt:W):nt=W,D){case 1:var mt=-1;break;case 2:mt=250;break;case 5:mt=1073741823;break;case 4:mt=1e4;break;default:mt=5e3}return mt=nt+mt,D={id:x++,callback:Y,priorityLevel:D,startTime:nt,expirationTime:mt,sortIndex:-1},nt>W?(D.sortIndex=nt,t(_,D),i(p)===null&&D===i(_)&&(T?(E(k),k=-1):T=!0,Pt(X,nt-W))):(D.sortIndex=mt,t(p,D),b||g||(b=!0,P||(P=!0,ot()))),D},r.unstable_shouldYield=Z,r.unstable_wrapCallback=function(D){var Y=y;return function(){var nt=y;y=Y;try{return D.apply(this,arguments)}finally{y=nt}}}})(oc)),oc}var wp;function Lx(){return wp||(wp=1,uc.exports=kx()),uc.exports}var cc={exports:{}},he={};var Cp;function Yx(){if(Cp)return he;Cp=1;var r=ah();function t(p){var _="https://react.dev/errors/"+p;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)_+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+p+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function o(p,_,x){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:c==null?null:""+c,children:p,containerInfo:_,implementation:x}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,_){if(p==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return he.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,he.createPortal=function(p,_){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return o(p,_,null,x)},he.flushSync=function(p){var _=f.T,x=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=_,s.p=x,s.d.f()}},he.preconnect=function(p,_){typeof p=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(p,_))},he.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},he.preinit=function(p,_){if(typeof p=="string"&&_&&typeof _.as=="string"){var x=_.as,c=m(x,_.crossOrigin),y=typeof _.integrity=="string"?_.integrity:void 0,g=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;x==="style"?s.d.S(p,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:c,integrity:y,fetchPriority:g}):x==="script"&&s.d.X(p,{crossOrigin:c,integrity:y,fetchPriority:g,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},he.preinitModule=function(p,_){if(typeof p=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var x=m(_.as,_.crossOrigin);s.d.M(p,{crossOrigin:x,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(p)},he.preload=function(p,_){if(typeof p=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var x=_.as,c=m(x,_.crossOrigin);s.d.L(p,x,{crossOrigin:c,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},he.preloadModule=function(p,_){if(typeof p=="string")if(_){var x=m(_.as,_.crossOrigin);s.d.m(p,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:x,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(p)},he.requestFormReset=function(p){s.d.r(p)},he.unstable_batchedUpdates=function(p,_){return p(_)},he.useFormState=function(p,_,x){return f.H.useFormState(p,_,x)},he.useFormStatus=function(){return f.H.useHostTransitionStatus()},he.version="19.2.4",he}var Ep;function qx(){if(Ep)return cc.exports;Ep=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),cc.exports=Yx(),cc.exports}var Rp;function Xx(){if(Rp)return Ts;Rp=1;var r=Lx(),t=ah(),i=qx();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function o(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function f(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function m(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(o(e)!==e)throw Error(s(188))}function _(e){var n=e.alternate;if(!n){if(n=o(e),n===null)throw Error(s(188));return n!==e?null:e}for(var a=e,l=n;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),e;if(d===l)return p(h),n;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,S=h.child;S;){if(S===a){v=!0,a=h,l=d;break}if(S===l){v=!0,l=h,a=d;break}S=S.sibling}if(!v){for(S=d.child;S;){if(S===a){v=!0,a=d,l=h;break}if(S===l){v=!0,l=d,a=h;break}S=S.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:n}function x(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=x(e),n!==null)return n;e=e.sibling}return null}var c=Object.assign,y=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),E=Symbol.for("react.consumer"),C=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),it=Symbol.for("react.lazy"),Q=Symbol.for("react.activity"),Z=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function ot(e){return e===null||typeof e!="object"?null:(e=I&&e[I]||e["@@iterator"],typeof e=="function"?e:null)}var xt=Symbol.for("react.client.reference");function ht(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===xt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case T:return"Fragment";case A:return"Profiler";case M:return"StrictMode";case X:return"Suspense";case P:return"SuspenseList";case Q:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case b:return"Portal";case C:return e.displayName||"Context";case E:return(e._context.displayName||"Context")+".Consumer";case B:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case k:return n=e.displayName||null,n!==null?n:ht(e.type)||"Memo";case it:n=e._payload,e=e._init;try{return ht(e(n))}catch{}}return null}var Pt=Array.isArray,D=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt={pending:!1,data:null,method:null,action:null},W=[],mt=-1;function z(e){return{current:e}}function j(e){0>mt||(e.current=W[mt],W[mt]=null,mt--)}function F(e,n){mt++,W[mt]=e.current,e.current=n}var K=z(null),st=z(null),lt=z(null),bt=z(null);function $t(e,n){switch(F(lt,n),F(st,e),F(K,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Vm(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Vm(n),e=Pm(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}j(K),F(K,e)}function Gt(){j(K),j(st),j(lt)}function rn(e){e.memoizedState!==null&&F(bt,e);var n=K.current,a=Pm(n,e.type);n!==a&&(F(st,e),F(K,a))}function Nn(e){st.current===e&&(j(K),j(st)),bt.current===e&&(j(bt),gs._currentValue=nt)}var Ke,ln;function de(e){if(Ke===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Ke=n&&n[1]||"",ln=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ke+e+ln}var Je=!1;function Ra(e,n){if(!e||Je)return"";Je=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var V=function(){throw Error()};if(Object.defineProperty(V.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(V,[])}catch(N){var H=N}Reflect.construct(e,[],V)}else{try{V.call()}catch(N){H=N}e.call(V.prototype)}}else{try{throw Error()}catch(N){H=N}(V=e())&&typeof V.catch=="function"&&V.catch(function(){})}}catch(N){if(N&&H&&typeof N.stack=="string")return[N.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],S=d[1];if(v&&S){var w=v.split(`
`),U=S.split(`
`);for(h=l=0;l<w.length&&!w[l].includes("DetermineComponentFrameRoot");)l++;for(;h<U.length&&!U[h].includes("DetermineComponentFrameRoot");)h++;if(l===w.length||h===U.length)for(l=w.length-1,h=U.length-1;1<=l&&0<=h&&w[l]!==U[h];)h--;for(;1<=l&&0<=h;l--,h--)if(w[l]!==U[h]){if(l!==1||h!==1)do if(l--,h--,0>h||w[l]!==U[h]){var L=`
`+w[l].replace(" at new "," at ");return e.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",e.displayName)),L}while(1<=l&&0<=h);break}}}finally{Je=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?de(a):""}function Js(e,n){switch(e.tag){case 26:case 27:case 5:return de(e.type);case 16:return de("Lazy");case 13:return e.child!==n&&n!==null?de("Suspense Fallback"):de("Suspense");case 19:return de("SuspenseList");case 0:case 15:return Ra(e.type,!1);case 11:return Ra(e.type.render,!1);case 1:return Ra(e.type,!0);case 31:return de("Activity");default:return""}}function $s(e){try{var n="",a=null;do n+=Js(e,a),a=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Ws=Object.prototype.hasOwnProperty,Vl=r.unstable_scheduleCallback,Pl=r.unstable_cancelCallback,dg=r.unstable_shouldYield,mg=r.unstable_requestPaint,we=r.unstable_now,pg=r.unstable_getCurrentPriorityLevel,bh=r.unstable_ImmediatePriority,Sh=r.unstable_UserBlockingPriority,tr=r.unstable_NormalPriority,_g=r.unstable_LowPriority,Ah=r.unstable_IdlePriority,yg=r.log,gg=r.unstable_setDisableYieldValue,za=null,Ce=null;function kn(e){if(typeof yg=="function"&&gg(e),Ce&&typeof Ce.setStrictMode=="function")try{Ce.setStrictMode(za,e)}catch{}}var Ee=Math.clz32?Math.clz32:bg,xg=Math.log,vg=Math.LN2;function bg(e){return e>>>=0,e===0?32:31-(xg(e)/vg|0)|0}var er=256,nr=262144,ir=4194304;function fi(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ar(e,n,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?h=fi(l):(v&=S,v!==0?h=fi(v):a||(a=S&~e,a!==0&&(h=fi(a))))):(S=l&~d,S!==0?h=fi(S):v!==0?h=fi(v):a||(a=l&~e,a!==0&&(h=fi(a)))),h===0?0:n!==0&&n!==h&&(n&d)===0&&(d=h&-h,a=n&-n,d>=a||d===32&&(a&4194048)!==0)?n:h}function Da(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Sg(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Th(){var e=ir;return ir<<=1,(ir&62914560)===0&&(ir=4194304),e}function Fl(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function Oa(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ag(e,n,a,l,h,d){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var S=e.entanglements,w=e.expirationTimes,U=e.hiddenUpdates;for(a=v&~a;0<a;){var L=31-Ee(a),V=1<<L;S[L]=0,w[L]=-1;var H=U[L];if(H!==null)for(U[L]=null,L=0;L<H.length;L++){var N=H[L];N!==null&&(N.lane&=-536870913)}a&=~V}l!==0&&Mh(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~n))}function Mh(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-Ee(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function wh(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var l=31-Ee(a),h=1<<l;h&n|e[l]&n&&(e[l]|=n),a&=~h}}function Ch(e,n){var a=n&-n;return a=(a&42)!==0?1:Ql(a),(a&(e.suspendedLanes|n))!==0?0:a}function Ql(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Zl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Eh(){var e=Y.p;return e!==0?e:(e=window.event,e===void 0?32:mp(e.type))}function Rh(e,n){var a=Y.p;try{return Y.p=e,n()}finally{Y.p=a}}var Ln=Math.random().toString(36).slice(2),ae="__reactFiber$"+Ln,ye="__reactProps$"+Ln,Ni="__reactContainer$"+Ln,Il="__reactEvents$"+Ln,Tg="__reactListeners$"+Ln,Mg="__reactHandles$"+Ln,zh="__reactResources$"+Ln,Ba="__reactMarker$"+Ln;function Kl(e){delete e[ae],delete e[ye],delete e[Il],delete e[Tg],delete e[Mg]}function ki(e){var n=e[ae];if(n)return n;for(var a=e.parentNode;a;){if(n=a[Ni]||a[ae]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=$m(e);e!==null;){if(a=e[ae])return a;e=$m(e)}return n}e=a,a=e.parentNode}return null}function Li(e){if(e=e[ae]||e[Ni]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Ga(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function Yi(e){var n=e[zh];return n||(n=e[zh]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Wt(e){e[Ba]=!0}var Dh=new Set,Oh={};function di(e,n){qi(e,n),qi(e+"Capture",n)}function qi(e,n){for(Oh[e]=n,e=0;e<n.length;e++)Dh.add(n[e])}var wg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bh={},Gh={};function Cg(e){return Ws.call(Gh,e)?!0:Ws.call(Bh,e)?!1:wg.test(e)?Gh[e]=!0:(Bh[e]=!0,!1)}function sr(e,n,a){if(Cg(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function rr(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function mn(e,n,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+l)}}function ke(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Uh(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Eg(e,n,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(v){a=""+v,d.call(this,v)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Jl(e){if(!e._valueTracker){var n=Uh(e)?"checked":"value";e._valueTracker=Eg(e,n,""+e[n])}}function Hh(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return e&&(l=Uh(e)?e.checked?"true":"false":e.value),e=l,e!==a?(n.setValue(e),!0):!1}function lr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Rg=/[\n"\\]/g;function Le(e){return e.replace(Rg,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function $l(e,n,a,l,h,d,v,S){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),n!=null?v==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+ke(n)):e.value!==""+ke(n)&&(e.value=""+ke(n)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),n!=null?Wl(e,v,ke(n)):a!=null?Wl(e,v,ke(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.name=""+ke(S):e.removeAttribute("name")}function Nh(e,n,a,l,h,d,v,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),n!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||n!=null)){Jl(e);return}a=a!=null?""+ke(a):"",n=n!=null?""+ke(n):a,S||n===e.value||(e.value=n),e.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=S?e.checked:!!l,e.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v),Jl(e)}function Wl(e,n,a){n==="number"&&lr(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Xi(e,n,a,l){if(e=e.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=n.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+ke(a),n=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function kh(e,n,a){if(n!=null&&(n=""+ke(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+ke(a):""}function Lh(e,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(Pt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=ke(n),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),Jl(e)}function ji(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var zg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Yh(e,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,a):typeof a!="number"||a===0||zg.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function qh(e,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&a[h]!==l&&Yh(e,h,l)}else for(var d in n)n.hasOwnProperty(d)&&Yh(e,d,n[d])}function tu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Og=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ur(e){return Og.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function pn(){}var eu=null;function nu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Vi=null,Pi=null;function Xh(e){var n=Li(e);if(n&&(e=n.stateNode)){var a=e[ye]||null;t:switch(e=n.stateNode,n.type){case"input":if($l(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Le(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==e&&l.form===e.form){var h=l[ye]||null;if(!h)throw Error(s(90));$l(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===e.form&&Hh(l)}break t;case"textarea":kh(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Xi(e,!!a.multiple,n,!1)}}}var iu=!1;function jh(e,n,a){if(iu)return e(n,a);iu=!0;try{var l=e(n);return l}finally{if(iu=!1,(Vi!==null||Pi!==null)&&(Ir(),Vi&&(n=Vi,e=Pi,Pi=Vi=null,Xh(n),e)))for(n=0;n<e.length;n++)Xh(e[n])}}function Ua(e,n){var a=e.stateNode;if(a===null)return null;var l=a[ye]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var _n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),au=!1;if(_n)try{var Ha={};Object.defineProperty(Ha,"passive",{get:function(){au=!0}}),window.addEventListener("test",Ha,Ha),window.removeEventListener("test",Ha,Ha)}catch{au=!1}var Yn=null,su=null,or=null;function Vh(){if(or)return or;var e,n=su,a=n.length,l,h="value"in Yn?Yn.value:Yn.textContent,d=h.length;for(e=0;e<a&&n[e]===h[e];e++);var v=a-e;for(l=1;l<=v&&n[a-l]===h[d-l];l++);return or=h.slice(e,1<l?1-l:void 0)}function cr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function hr(){return!0}function Ph(){return!1}function ge(e){function n(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(a=e[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?hr:Ph,this.isPropagationStopped=Ph,this}return c(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=hr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=hr)},persist:function(){},isPersistent:hr}),n}var mi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fr=ge(mi),Na=c({},mi,{view:0,detail:0}),Bg=ge(Na),ru,lu,ka,dr=c({},Na,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ou,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ka&&(ka&&e.type==="mousemove"?(ru=e.screenX-ka.screenX,lu=e.screenY-ka.screenY):lu=ru=0,ka=e),ru)},movementY:function(e){return"movementY"in e?e.movementY:lu}}),Fh=ge(dr),Gg=c({},dr,{dataTransfer:0}),Ug=ge(Gg),Hg=c({},Na,{relatedTarget:0}),uu=ge(Hg),Ng=c({},mi,{animationName:0,elapsedTime:0,pseudoElement:0}),kg=ge(Ng),Lg=c({},mi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Yg=ge(Lg),qg=c({},mi,{data:0}),Qh=ge(qg),Xg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pg(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Vg[e])?!!n[e]:!1}function ou(){return Pg}var Fg=c({},Na,{key:function(e){if(e.key){var n=Xg[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=cr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?jg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ou,charCode:function(e){return e.type==="keypress"?cr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?cr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Qg=ge(Fg),Zg=c({},dr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zh=ge(Zg),Ig=c({},Na,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ou}),Kg=ge(Ig),Jg=c({},mi,{propertyName:0,elapsedTime:0,pseudoElement:0}),$g=ge(Jg),Wg=c({},dr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),t0=ge(Wg),e0=c({},mi,{newState:0,oldState:0}),n0=ge(e0),i0=[9,13,27,32],cu=_n&&"CompositionEvent"in window,La=null;_n&&"documentMode"in document&&(La=document.documentMode);var a0=_n&&"TextEvent"in window&&!La,Ih=_n&&(!cu||La&&8<La&&11>=La),Kh=" ",Jh=!1;function $h(e,n){switch(e){case"keyup":return i0.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Fi=!1;function s0(e,n){switch(e){case"compositionend":return Wh(n);case"keypress":return n.which!==32?null:(Jh=!0,Kh);case"textInput":return e=n.data,e===Kh&&Jh?null:e;default:return null}}function r0(e,n){if(Fi)return e==="compositionend"||!cu&&$h(e,n)?(e=Vh(),or=su=Yn=null,Fi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ih&&n.locale!=="ko"?null:n.data;default:return null}}var l0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tf(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!l0[e.type]:n==="textarea"}function ef(e,n,a,l){Vi?Pi?Pi.push(l):Pi=[l]:Vi=l,n=nl(n,"onChange"),0<n.length&&(a=new fr("onChange","change",null,a,l),e.push({event:a,listeners:n}))}var Ya=null,qa=null;function u0(e){km(e,0)}function mr(e){var n=Ga(e);if(Hh(n))return e}function nf(e,n){if(e==="change")return n}var af=!1;if(_n){var hu;if(_n){var fu="oninput"in document;if(!fu){var sf=document.createElement("div");sf.setAttribute("oninput","return;"),fu=typeof sf.oninput=="function"}hu=fu}else hu=!1;af=hu&&(!document.documentMode||9<document.documentMode)}function rf(){Ya&&(Ya.detachEvent("onpropertychange",lf),qa=Ya=null)}function lf(e){if(e.propertyName==="value"&&mr(qa)){var n=[];ef(n,qa,e,nu(e)),jh(u0,n)}}function o0(e,n,a){e==="focusin"?(rf(),Ya=n,qa=a,Ya.attachEvent("onpropertychange",lf)):e==="focusout"&&rf()}function c0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return mr(qa)}function h0(e,n){if(e==="click")return mr(n)}function f0(e,n){if(e==="input"||e==="change")return mr(n)}function d0(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Re=typeof Object.is=="function"?Object.is:d0;function Xa(e,n){if(Re(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Ws.call(n,h)||!Re(e[h],n[h]))return!1}return!0}function uf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function of(e,n){var a=uf(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=n&&l>=n)return{node:a,offset:n-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=uf(a)}}function cf(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?cf(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function hf(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=lr(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=lr(e.document)}return n}function du(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var m0=_n&&"documentMode"in document&&11>=document.documentMode,Qi=null,mu=null,ja=null,pu=!1;function ff(e,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;pu||Qi==null||Qi!==lr(l)||(l=Qi,"selectionStart"in l&&du(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ja&&Xa(ja,l)||(ja=l,l=nl(mu,"onSelect"),0<l.length&&(n=new fr("onSelect","select",null,n,a),e.push({event:n,listeners:l}),n.target=Qi)))}function pi(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var Zi={animationend:pi("Animation","AnimationEnd"),animationiteration:pi("Animation","AnimationIteration"),animationstart:pi("Animation","AnimationStart"),transitionrun:pi("Transition","TransitionRun"),transitionstart:pi("Transition","TransitionStart"),transitioncancel:pi("Transition","TransitionCancel"),transitionend:pi("Transition","TransitionEnd")},_u={},df={};_n&&(df=document.createElement("div").style,"AnimationEvent"in window||(delete Zi.animationend.animation,delete Zi.animationiteration.animation,delete Zi.animationstart.animation),"TransitionEvent"in window||delete Zi.transitionend.transition);function _i(e){if(_u[e])return _u[e];if(!Zi[e])return e;var n=Zi[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in df)return _u[e]=n[a];return e}var mf=_i("animationend"),pf=_i("animationiteration"),_f=_i("animationstart"),p0=_i("transitionrun"),_0=_i("transitionstart"),y0=_i("transitioncancel"),yf=_i("transitionend"),gf=new Map,yu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yu.push("scrollEnd");function $e(e,n){gf.set(e,n),di(n,[e])}var pr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ye=[],Ii=0,gu=0;function _r(){for(var e=Ii,n=gu=Ii=0;n<e;){var a=Ye[n];Ye[n++]=null;var l=Ye[n];Ye[n++]=null;var h=Ye[n];Ye[n++]=null;var d=Ye[n];if(Ye[n++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&xf(a,h,d)}}function yr(e,n,a,l){Ye[Ii++]=e,Ye[Ii++]=n,Ye[Ii++]=a,Ye[Ii++]=l,gu|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function xu(e,n,a,l){return yr(e,n,a,l),gr(e)}function yi(e,n){return yr(e,null,null,n),gr(e)}function xf(e,n,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&n!==null&&(h=31-Ee(a),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[n]:l.push(n),n.lane=a|536870912),d):null}function gr(e){if(50<hs)throw hs=0,Ro=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Ki={};function g0(e,n,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ze(e,n,a,l){return new g0(e,n,a,l)}function vu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function yn(e,n){var a=e.alternate;return a===null?(a=ze(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function vf(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function xr(e,n,a,l,h,d){var v=0;if(l=e,typeof e=="function")vu(e)&&(v=1);else if(typeof e=="string")v=Ax(e,a,K.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case Q:return e=ze(31,a,n,h),e.elementType=Q,e.lanes=d,e;case T:return gi(a.children,h,d,n);case M:v=8,h|=24;break;case A:return e=ze(12,a,n,h|2),e.elementType=A,e.lanes=d,e;case X:return e=ze(13,a,n,h),e.elementType=X,e.lanes=d,e;case P:return e=ze(19,a,n,h),e.elementType=P,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case C:v=10;break t;case E:v=9;break t;case B:v=11;break t;case k:v=14;break t;case it:v=16,l=null;break t}v=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return n=ze(v,a,n,h),n.elementType=e,n.type=l,n.lanes=d,n}function gi(e,n,a,l){return e=ze(7,e,l,n),e.lanes=a,e}function bu(e,n,a){return e=ze(6,e,null,n),e.lanes=a,e}function bf(e){var n=ze(18,null,null,0);return n.stateNode=e,n}function Su(e,n,a){return n=ze(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Sf=new WeakMap;function qe(e,n){if(typeof e=="object"&&e!==null){var a=Sf.get(e);return a!==void 0?a:(n={value:e,source:n,stack:$s(n)},Sf.set(e,n),n)}return{value:e,source:n,stack:$s(n)}}var Ji=[],$i=0,vr=null,Va=0,Xe=[],je=0,qn=null,un=1,on="";function gn(e,n){Ji[$i++]=Va,Ji[$i++]=vr,vr=e,Va=n}function Af(e,n,a){Xe[je++]=un,Xe[je++]=on,Xe[je++]=qn,qn=e;var l=un;e=on;var h=32-Ee(l)-1;l&=~(1<<h),a+=1;var d=32-Ee(n)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,un=1<<32-Ee(n)+h|a<<h|l,on=d+e}else un=1<<d|a<<h|l,on=e}function Au(e){e.return!==null&&(gn(e,1),Af(e,1,0))}function Tu(e){for(;e===vr;)vr=Ji[--$i],Ji[$i]=null,Va=Ji[--$i],Ji[$i]=null;for(;e===qn;)qn=Xe[--je],Xe[je]=null,on=Xe[--je],Xe[je]=null,un=Xe[--je],Xe[je]=null}function Tf(e,n){Xe[je++]=un,Xe[je++]=on,Xe[je++]=qn,un=n.id,on=n.overflow,qn=e}var se=null,Ut=null,yt=!1,Xn=null,Ve=!1,Mu=Error(s(519));function jn(e){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Pa(qe(n,e)),Mu}function Mf(e){var n=e.stateNode,a=e.type,l=e.memoizedProps;switch(n[ae]=e,n[ye]=l,a){case"dialog":dt("cancel",n),dt("close",n);break;case"iframe":case"object":case"embed":dt("load",n);break;case"video":case"audio":for(a=0;a<ds.length;a++)dt(ds[a],n);break;case"source":dt("error",n);break;case"img":case"image":case"link":dt("error",n),dt("load",n);break;case"details":dt("toggle",n);break;case"input":dt("invalid",n),Nh(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":dt("invalid",n);break;case"textarea":dt("invalid",n),Lh(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||Xm(n.textContent,a)?(l.popover!=null&&(dt("beforetoggle",n),dt("toggle",n)),l.onScroll!=null&&dt("scroll",n),l.onScrollEnd!=null&&dt("scrollend",n),l.onClick!=null&&(n.onclick=pn),n=!0):n=!1,n||jn(e,!0)}function wf(e){for(se=e.return;se;)switch(se.tag){case 5:case 31:case 13:Ve=!1;return;case 27:case 3:Ve=!0;return;default:se=se.return}}function Wi(e){if(e!==se)return!1;if(!yt)return wf(e),yt=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Vo(e.type,e.memoizedProps)),a=!a),a&&Ut&&jn(e),wf(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Ut=Jm(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Ut=Jm(e)}else n===27?(n=Ut,ii(e.type)?(e=Io,Io=null,Ut=e):Ut=n):Ut=se?Fe(e.stateNode.nextSibling):null;return!0}function xi(){Ut=se=null,yt=!1}function wu(){var e=Xn;return e!==null&&(Se===null?Se=e:Se.push.apply(Se,e),Xn=null),e}function Pa(e){Xn===null?Xn=[e]:Xn.push(e)}var Cu=z(null),vi=null,xn=null;function Vn(e,n,a){F(Cu,n._currentValue),n._currentValue=a}function vn(e){e._currentValue=Cu.current,j(Cu)}function Eu(e,n,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===a)break;e=e.return}}function Ru(e,n,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;t:for(;d!==null;){var S=d;d=h;for(var w=0;w<n.length;w++)if(S.context===n[w]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),Eu(d.return,a,e),l||(v=null);break t}d=S.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Eu(v,a,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function ta(e,n,a,l){e=null;for(var h=n,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var S=h.type;Re(h.pendingProps.value,v.value)||(e!==null?e.push(S):e=[S])}}else if(h===bt.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(gs):e=[gs])}h=h.return}e!==null&&Ru(n,e,a,l),n.flags|=262144}function br(e){for(e=e.firstContext;e!==null;){if(!Re(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function bi(e){vi=e,xn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function re(e){return Cf(vi,e)}function Sr(e,n){return vi===null&&bi(e),Cf(e,n)}function Cf(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},xn===null){if(e===null)throw Error(s(308));xn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else xn=xn.next=n;return a}var x0=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},v0=r.unstable_scheduleCallback,b0=r.unstable_NormalPriority,Ft={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zu(){return{controller:new x0,data:new Map,refCount:0}}function Fa(e){e.refCount--,e.refCount===0&&v0(b0,function(){e.controller.abort()})}var Qa=null,Du=0,ea=0,na=null;function S0(e,n){if(Qa===null){var a=Qa=[];Du=0,ea=Uo(),na={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Du++,n.then(Ef,Ef),n}function Ef(){if(--Du===0&&Qa!==null){na!==null&&(na.status="fulfilled");var e=Qa;Qa=null,ea=0,na=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function A0(e,n){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Rf=D.S;D.S=function(e,n){fm=we(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&S0(e,n),Rf!==null&&Rf(e,n)};var Si=z(null);function Ou(){var e=Si.current;return e!==null?e:Ot.pooledCache}function Ar(e,n){n===null?F(Si,Si.current):F(Si,n.pool)}function zf(){var e=Ou();return e===null?null:{parent:Ft._currentValue,pool:e}}var ia=Error(s(460)),Bu=Error(s(474)),Tr=Error(s(542)),Mr={then:function(){}};function Df(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Of(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(pn,pn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Gf(e),e;default:if(typeof n.status=="string")n.then(pn,pn);else{if(e=Ot,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Gf(e),e}throw Ti=n,ia}}function Ai(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ti=a,ia):a}}var Ti=null;function Bf(){if(Ti===null)throw Error(s(459));var e=Ti;return Ti=null,e}function Gf(e){if(e===ia||e===Tr)throw Error(s(483))}var aa=null,Za=0;function wr(e){var n=Za;return Za+=1,aa===null&&(aa=[]),Of(aa,e,n)}function Ia(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Cr(e,n){throw n.$$typeof===y?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Uf(e){function n(O,R){if(e){var G=O.deletions;G===null?(O.deletions=[R],O.flags|=16):G.push(R)}}function a(O,R){if(!e)return null;for(;R!==null;)n(O,R),R=R.sibling;return null}function l(O){for(var R=new Map;O!==null;)O.key!==null?R.set(O.key,O):R.set(O.index,O),O=O.sibling;return R}function h(O,R){return O=yn(O,R),O.index=0,O.sibling=null,O}function d(O,R,G){return O.index=G,e?(G=O.alternate,G!==null?(G=G.index,G<R?(O.flags|=67108866,R):G):(O.flags|=67108866,R)):(O.flags|=1048576,R)}function v(O){return e&&O.alternate===null&&(O.flags|=67108866),O}function S(O,R,G,q){return R===null||R.tag!==6?(R=bu(G,O.mode,q),R.return=O,R):(R=h(R,G),R.return=O,R)}function w(O,R,G,q){var et=G.type;return et===T?L(O,R,G.props.children,q,G.key):R!==null&&(R.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===it&&Ai(et)===R.type)?(R=h(R,G.props),Ia(R,G),R.return=O,R):(R=xr(G.type,G.key,G.props,null,O.mode,q),Ia(R,G),R.return=O,R)}function U(O,R,G,q){return R===null||R.tag!==4||R.stateNode.containerInfo!==G.containerInfo||R.stateNode.implementation!==G.implementation?(R=Su(G,O.mode,q),R.return=O,R):(R=h(R,G.children||[]),R.return=O,R)}function L(O,R,G,q,et){return R===null||R.tag!==7?(R=gi(G,O.mode,q,et),R.return=O,R):(R=h(R,G),R.return=O,R)}function V(O,R,G){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=bu(""+R,O.mode,G),R.return=O,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case g:return G=xr(R.type,R.key,R.props,null,O.mode,G),Ia(G,R),G.return=O,G;case b:return R=Su(R,O.mode,G),R.return=O,R;case it:return R=Ai(R),V(O,R,G)}if(Pt(R)||ot(R))return R=gi(R,O.mode,G,null),R.return=O,R;if(typeof R.then=="function")return V(O,wr(R),G);if(R.$$typeof===C)return V(O,Sr(O,R),G);Cr(O,R)}return null}function H(O,R,G,q){var et=R!==null?R.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return et!==null?null:S(O,R,""+G,q);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case g:return G.key===et?w(O,R,G,q):null;case b:return G.key===et?U(O,R,G,q):null;case it:return G=Ai(G),H(O,R,G,q)}if(Pt(G)||ot(G))return et!==null?null:L(O,R,G,q,null);if(typeof G.then=="function")return H(O,R,wr(G),q);if(G.$$typeof===C)return H(O,R,Sr(O,G),q);Cr(O,G)}return null}function N(O,R,G,q,et){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return O=O.get(G)||null,S(R,O,""+q,et);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case g:return O=O.get(q.key===null?G:q.key)||null,w(R,O,q,et);case b:return O=O.get(q.key===null?G:q.key)||null,U(R,O,q,et);case it:return q=Ai(q),N(O,R,G,q,et)}if(Pt(q)||ot(q))return O=O.get(G)||null,L(R,O,q,et,null);if(typeof q.then=="function")return N(O,R,G,wr(q),et);if(q.$$typeof===C)return N(O,R,G,Sr(R,q),et);Cr(R,q)}return null}function J(O,R,G,q){for(var et=null,St=null,$=R,ct=R=0,_t=null;$!==null&&ct<G.length;ct++){$.index>ct?(_t=$,$=null):_t=$.sibling;var At=H(O,$,G[ct],q);if(At===null){$===null&&($=_t);break}e&&$&&At.alternate===null&&n(O,$),R=d(At,R,ct),St===null?et=At:St.sibling=At,St=At,$=_t}if(ct===G.length)return a(O,$),yt&&gn(O,ct),et;if($===null){for(;ct<G.length;ct++)$=V(O,G[ct],q),$!==null&&(R=d($,R,ct),St===null?et=$:St.sibling=$,St=$);return yt&&gn(O,ct),et}for($=l($);ct<G.length;ct++)_t=N($,O,ct,G[ct],q),_t!==null&&(e&&_t.alternate!==null&&$.delete(_t.key===null?ct:_t.key),R=d(_t,R,ct),St===null?et=_t:St.sibling=_t,St=_t);return e&&$.forEach(function(ui){return n(O,ui)}),yt&&gn(O,ct),et}function at(O,R,G,q){if(G==null)throw Error(s(151));for(var et=null,St=null,$=R,ct=R=0,_t=null,At=G.next();$!==null&&!At.done;ct++,At=G.next()){$.index>ct?(_t=$,$=null):_t=$.sibling;var ui=H(O,$,At.value,q);if(ui===null){$===null&&($=_t);break}e&&$&&ui.alternate===null&&n(O,$),R=d(ui,R,ct),St===null?et=ui:St.sibling=ui,St=ui,$=_t}if(At.done)return a(O,$),yt&&gn(O,ct),et;if($===null){for(;!At.done;ct++,At=G.next())At=V(O,At.value,q),At!==null&&(R=d(At,R,ct),St===null?et=At:St.sibling=At,St=At);return yt&&gn(O,ct),et}for($=l($);!At.done;ct++,At=G.next())At=N($,O,ct,At.value,q),At!==null&&(e&&At.alternate!==null&&$.delete(At.key===null?ct:At.key),R=d(At,R,ct),St===null?et=At:St.sibling=At,St=At);return e&&$.forEach(function(Gx){return n(O,Gx)}),yt&&gn(O,ct),et}function zt(O,R,G,q){if(typeof G=="object"&&G!==null&&G.type===T&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case g:t:{for(var et=G.key;R!==null;){if(R.key===et){if(et=G.type,et===T){if(R.tag===7){a(O,R.sibling),q=h(R,G.props.children),q.return=O,O=q;break t}}else if(R.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===it&&Ai(et)===R.type){a(O,R.sibling),q=h(R,G.props),Ia(q,G),q.return=O,O=q;break t}a(O,R);break}else n(O,R);R=R.sibling}G.type===T?(q=gi(G.props.children,O.mode,q,G.key),q.return=O,O=q):(q=xr(G.type,G.key,G.props,null,O.mode,q),Ia(q,G),q.return=O,O=q)}return v(O);case b:t:{for(et=G.key;R!==null;){if(R.key===et)if(R.tag===4&&R.stateNode.containerInfo===G.containerInfo&&R.stateNode.implementation===G.implementation){a(O,R.sibling),q=h(R,G.children||[]),q.return=O,O=q;break t}else{a(O,R);break}else n(O,R);R=R.sibling}q=Su(G,O.mode,q),q.return=O,O=q}return v(O);case it:return G=Ai(G),zt(O,R,G,q)}if(Pt(G))return J(O,R,G,q);if(ot(G)){if(et=ot(G),typeof et!="function")throw Error(s(150));return G=et.call(G),at(O,R,G,q)}if(typeof G.then=="function")return zt(O,R,wr(G),q);if(G.$$typeof===C)return zt(O,R,Sr(O,G),q);Cr(O,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,R!==null&&R.tag===6?(a(O,R.sibling),q=h(R,G),q.return=O,O=q):(a(O,R),q=bu(G,O.mode,q),q.return=O,O=q),v(O)):a(O,R)}return function(O,R,G,q){try{Za=0;var et=zt(O,R,G,q);return aa=null,et}catch($){if($===ia||$===Tr)throw $;var St=ze(29,$,null,O.mode);return St.lanes=q,St.return=O,St}}}var Mi=Uf(!0),Hf=Uf(!1),Pn=!1;function Gu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Uu(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Fn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Qn(e,n,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Tt&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=gr(e),xf(e,null,a),n}return yr(e,l,n,a),gr(e)}function Ka(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,a|=l,n.lanes=a,wh(e,a)}}function Hu(e,n){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=n:d=d.next=n}else h=d=n;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var Nu=!1;function Ja(){if(Nu){var e=na;if(e!==null)throw e}}function $a(e,n,a,l){Nu=!1;var h=e.updateQueue;Pn=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var w=S,U=w.next;w.next=null,v===null?d=U:v.next=U,v=w;var L=e.alternate;L!==null&&(L=L.updateQueue,S=L.lastBaseUpdate,S!==v&&(S===null?L.firstBaseUpdate=U:S.next=U,L.lastBaseUpdate=w))}if(d!==null){var V=h.baseState;v=0,L=U=w=null,S=d;do{var H=S.lane&-536870913,N=H!==S.lane;if(N?(pt&H)===H:(l&H)===H){H!==0&&H===ea&&(Nu=!0),L!==null&&(L=L.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var J=e,at=S;H=n;var zt=a;switch(at.tag){case 1:if(J=at.payload,typeof J=="function"){V=J.call(zt,V,H);break t}V=J;break t;case 3:J.flags=J.flags&-65537|128;case 0:if(J=at.payload,H=typeof J=="function"?J.call(zt,V,H):J,H==null)break t;V=c({},V,H);break t;case 2:Pn=!0}}H=S.callback,H!==null&&(e.flags|=64,N&&(e.flags|=8192),N=h.callbacks,N===null?h.callbacks=[H]:N.push(H))}else N={lane:H,tag:S.tag,payload:S.payload,callback:S.callback,next:null},L===null?(U=L=N,w=V):L=L.next=N,v|=H;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;N=S,S=N.next,N.next=null,h.lastBaseUpdate=N,h.shared.pending=null}}while(!0);L===null&&(w=V),h.baseState=w,h.firstBaseUpdate=U,h.lastBaseUpdate=L,d===null&&(h.shared.lanes=0),$n|=v,e.lanes=v,e.memoizedState=V}}function Nf(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function kf(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Nf(a[e],n)}var sa=z(null),Er=z(0);function Lf(e,n){e=Rn,F(Er,e),F(sa,n),Rn=e|n.baseLanes}function ku(){F(Er,Rn),F(sa,sa.current)}function Lu(){Rn=Er.current,j(sa),j(Er)}var De=z(null),Pe=null;function Zn(e){var n=e.alternate;F(Xt,Xt.current&1),F(De,e),Pe===null&&(n===null||sa.current!==null||n.memoizedState!==null)&&(Pe=e)}function Yu(e){F(Xt,Xt.current),F(De,e),Pe===null&&(Pe=e)}function Yf(e){e.tag===22?(F(Xt,Xt.current),F(De,e),Pe===null&&(Pe=e)):In()}function In(){F(Xt,Xt.current),F(De,De.current)}function Oe(e){j(De),Pe===e&&(Pe=null),j(Xt)}var Xt=z(0);function Rr(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Qo(a)||Zo(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var bn=0,ut=null,Et=null,Qt=null,zr=!1,ra=!1,wi=!1,Dr=0,Wa=0,la=null,T0=0;function Lt(){throw Error(s(321))}function qu(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!Re(e[a],n[a]))return!1;return!0}function Xu(e,n,a,l,h,d){return bn=d,ut=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,D.H=e===null||e.memoizedState===null?Ad:io,wi=!1,d=a(l,h),wi=!1,ra&&(d=Xf(n,a,l,h)),qf(e),d}function qf(e){D.H=ns;var n=Et!==null&&Et.next!==null;if(bn=0,Qt=Et=ut=null,zr=!1,Wa=0,la=null,n)throw Error(s(300));e===null||Zt||(e=e.dependencies,e!==null&&br(e)&&(Zt=!0))}function Xf(e,n,a,l){ut=e;var h=0;do{if(ra&&(la=null),Wa=0,ra=!1,25<=h)throw Error(s(301));if(h+=1,Qt=Et=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}D.H=Td,d=n(a,l)}while(ra);return d}function M0(){var e=D.H,n=e.useState()[0];return n=typeof n.then=="function"?ts(n):n,e=e.useState()[0],(Et!==null?Et.memoizedState:null)!==e&&(ut.flags|=1024),n}function ju(){var e=Dr!==0;return Dr=0,e}function Vu(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function Pu(e){if(zr){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}zr=!1}bn=0,Qt=Et=ut=null,ra=!1,Wa=Dr=0,la=null}function me(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qt===null?ut.memoizedState=Qt=e:Qt=Qt.next=e,Qt}function jt(){if(Et===null){var e=ut.alternate;e=e!==null?e.memoizedState:null}else e=Et.next;var n=Qt===null?ut.memoizedState:Qt.next;if(n!==null)Qt=n,Et=e;else{if(e===null)throw ut.alternate===null?Error(s(467)):Error(s(310));Et=e,e={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},Qt===null?ut.memoizedState=Qt=e:Qt=Qt.next=e}return Qt}function Or(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ts(e){var n=Wa;return Wa+=1,la===null&&(la=[]),e=Of(la,e,n),n=ut,(Qt===null?n.memoizedState:Qt.next)===null&&(n=n.alternate,D.H=n===null||n.memoizedState===null?Ad:io),e}function Br(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ts(e);if(e.$$typeof===C)return re(e)}throw Error(s(438,String(e)))}function Fu(e){var n=null,a=ut.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=ut.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Or(),ut.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),l=0;l<e;l++)a[l]=Z;return n.index++,a}function Sn(e,n){return typeof n=="function"?n(e):n}function Gr(e){var n=jt();return Qu(n,Et,e)}function Qu(e,n,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}n.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{n=h.next;var S=v=null,w=null,U=n,L=!1;do{var V=U.lane&-536870913;if(V!==U.lane?(pt&V)===V:(bn&V)===V){var H=U.revertLane;if(H===0)w!==null&&(w=w.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),V===ea&&(L=!0);else if((bn&H)===H){U=U.next,H===ea&&(L=!0);continue}else V={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},w===null?(S=w=V,v=d):w=w.next=V,ut.lanes|=H,$n|=H;V=U.action,wi&&a(d,V),d=U.hasEagerState?U.eagerState:a(d,V)}else H={lane:V,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},w===null?(S=w=H,v=d):w=w.next=H,ut.lanes|=V,$n|=V;U=U.next}while(U!==null&&U!==n);if(w===null?v=d:w.next=S,!Re(d,e.memoizedState)&&(Zt=!0,L&&(a=na,a!==null)))throw a;e.memoizedState=d,e.baseState=v,e.baseQueue=w,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Zu(e){var n=jt(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=n.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=e(d,v.action),v=v.next;while(v!==h);Re(d,n.memoizedState)||(Zt=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),a.lastRenderedState=d}return[d,l]}function jf(e,n,a){var l=ut,h=jt(),d=yt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=n();var v=!Re((Et||h).memoizedState,a);if(v&&(h.memoizedState=a,Zt=!0),h=h.queue,Ju(Ff.bind(null,l,h,e),[e]),h.getSnapshot!==n||v||Qt!==null&&Qt.memoizedState.tag&1){if(l.flags|=2048,ua(9,{destroy:void 0},Pf.bind(null,l,h,a,n),null),Ot===null)throw Error(s(349));d||(bn&127)!==0||Vf(l,n,a)}return a}function Vf(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=ut.updateQueue,n===null?(n=Or(),ut.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function Pf(e,n,a,l){n.value=a,n.getSnapshot=l,Qf(n)&&Zf(e)}function Ff(e,n,a){return a(function(){Qf(n)&&Zf(e)})}function Qf(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!Re(e,a)}catch{return!0}}function Zf(e){var n=yi(e,2);n!==null&&Ae(n,e,2)}function Iu(e){var n=me();if(typeof e=="function"){var a=e;if(e=a(),wi){kn(!0);try{a()}finally{kn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sn,lastRenderedState:e},n}function If(e,n,a,l){return e.baseState=a,Qu(e,Et,typeof l=="function"?l:Sn)}function w0(e,n,a,l,h){if(Nr(e))throw Error(s(485));if(e=n.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};D.T!==null?a(!0):d.isTransition=!1,l(d),a=n.pending,a===null?(d.next=n.pending=d,Kf(n,d)):(d.next=a.next,n.pending=a.next=d)}}function Kf(e,n){var a=n.action,l=n.payload,h=e.state;if(n.isTransition){var d=D.T,v={};D.T=v;try{var S=a(h,l),w=D.S;w!==null&&w(v,S),Jf(e,n,S)}catch(U){Ku(e,n,U)}finally{d!==null&&v.types!==null&&(d.types=v.types),D.T=d}}else try{d=a(h,l),Jf(e,n,d)}catch(U){Ku(e,n,U)}}function Jf(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){$f(e,n,l)},function(l){return Ku(e,n,l)}):$f(e,n,a)}function $f(e,n,a){n.status="fulfilled",n.value=a,Wf(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,Kf(e,a)))}function Ku(e,n,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Wf(n),n=n.next;while(n!==l)}e.action=null}function Wf(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function td(e,n){return n}function ed(e,n){if(yt){var a=Ot.formState;if(a!==null){t:{var l=ut;if(yt){if(Ut){e:{for(var h=Ut,d=Ve;h.nodeType!==8;){if(!d){h=null;break e}if(h=Fe(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){Ut=Fe(h.nextSibling),l=h.data==="F!";break t}}jn(l)}l=!1}l&&(n=a[0])}}return a=me(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:td,lastRenderedState:n},a.queue=l,a=vd.bind(null,ut,l),l.dispatch=a,l=Iu(!1),d=no.bind(null,ut,!1,l.queue),l=me(),h={state:n,dispatch:null,action:e,pending:null},l.queue=h,a=w0.bind(null,ut,h,d,a),h.dispatch=a,l.memoizedState=e,[n,a,!1]}function nd(e){var n=jt();return id(n,Et,e)}function id(e,n,a){if(n=Qu(e,n,td)[0],e=Gr(Sn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=ts(n)}catch(v){throw v===ia?Tr:v}else l=n;n=jt();var h=n.queue,d=h.dispatch;return a!==n.memoizedState&&(ut.flags|=2048,ua(9,{destroy:void 0},C0.bind(null,h,a),null)),[l,d,e]}function C0(e,n){e.action=n}function ad(e){var n=jt(),a=Et;if(a!==null)return id(n,a,e);jt(),n=n.memoizedState,a=jt();var l=a.queue.dispatch;return a.memoizedState=e,[n,l,!1]}function ua(e,n,a,l){return e={tag:e,create:a,deps:l,inst:n,next:null},n=ut.updateQueue,n===null&&(n=Or(),ut.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,n.lastEffect=e),e}function sd(){return jt().memoizedState}function Ur(e,n,a,l){var h=me();ut.flags|=e,h.memoizedState=ua(1|n,{destroy:void 0},a,l===void 0?null:l)}function Hr(e,n,a,l){var h=jt();l=l===void 0?null:l;var d=h.memoizedState.inst;Et!==null&&l!==null&&qu(l,Et.memoizedState.deps)?h.memoizedState=ua(n,d,a,l):(ut.flags|=e,h.memoizedState=ua(1|n,d,a,l))}function rd(e,n){Ur(8390656,8,e,n)}function Ju(e,n){Hr(2048,8,e,n)}function E0(e){ut.flags|=4;var n=ut.updateQueue;if(n===null)n=Or(),ut.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function ld(e){var n=jt().memoizedState;return E0({ref:n,nextImpl:e}),function(){if((Tt&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function ud(e,n){return Hr(4,2,e,n)}function od(e,n){return Hr(4,4,e,n)}function cd(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function hd(e,n,a){a=a!=null?a.concat([e]):null,Hr(4,4,cd.bind(null,n,e),a)}function $u(){}function fd(e,n){var a=jt();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&qu(n,l[1])?l[0]:(a.memoizedState=[e,n],e)}function dd(e,n){var a=jt();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&qu(n,l[1]))return l[0];if(l=e(),wi){kn(!0);try{e()}finally{kn(!1)}}return a.memoizedState=[l,n],l}function Wu(e,n,a){return a===void 0||(bn&1073741824)!==0&&(pt&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=mm(),ut.lanes|=e,$n|=e,a)}function md(e,n,a,l){return Re(a,n)?a:sa.current!==null?(e=Wu(e,a,l),Re(e,n)||(Zt=!0),e):(bn&42)===0||(bn&1073741824)!==0&&(pt&261930)===0?(Zt=!0,e.memoizedState=a):(e=mm(),ut.lanes|=e,$n|=e,n)}function pd(e,n,a,l,h){var d=Y.p;Y.p=d!==0&&8>d?d:8;var v=D.T,S={};D.T=S,no(e,!1,n,a);try{var w=h(),U=D.S;if(U!==null&&U(S,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var L=A0(w,l);es(e,n,L,Ue(e))}else es(e,n,l,Ue(e))}catch(V){es(e,n,{then:function(){},status:"rejected",reason:V},Ue())}finally{Y.p=d,v!==null&&S.types!==null&&(v.types=S.types),D.T=v}}function R0(){}function to(e,n,a,l){if(e.tag!==5)throw Error(s(476));var h=_d(e).queue;pd(e,h,n,nt,a===null?R0:function(){return yd(e),a(l)})}function _d(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:nt,baseState:nt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sn,lastRenderedState:nt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sn,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function yd(e){var n=_d(e);n.next===null&&(n=e.alternate.memoizedState),es(e,n.next.queue,{},Ue())}function eo(){return re(gs)}function gd(){return jt().memoizedState}function xd(){return jt().memoizedState}function z0(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=Ue();e=Fn(a);var l=Qn(n,e,a);l!==null&&(Ae(l,n,a),Ka(l,n,a)),n={cache:zu()},e.payload=n;return}n=n.return}}function D0(e,n,a){var l=Ue();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Nr(e)?bd(n,a):(a=xu(e,n,a,l),a!==null&&(Ae(a,e,l),Sd(a,n,l)))}function vd(e,n,a){var l=Ue();es(e,n,a,l)}function es(e,n,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Nr(e))bd(n,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var v=n.lastRenderedState,S=d(v,a);if(h.hasEagerState=!0,h.eagerState=S,Re(S,v))return yr(e,n,h,0),Ot===null&&_r(),!1}catch{}if(a=xu(e,n,h,l),a!==null)return Ae(a,e,l),Sd(a,n,l),!0}return!1}function no(e,n,a,l){if(l={lane:2,revertLane:Uo(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Nr(e)){if(n)throw Error(s(479))}else n=xu(e,a,l,2),n!==null&&Ae(n,e,2)}function Nr(e){var n=e.alternate;return e===ut||n!==null&&n===ut}function bd(e,n){ra=zr=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function Sd(e,n,a){if((a&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,a|=l,n.lanes=a,wh(e,a)}}var ns={readContext:re,use:Br,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useLayoutEffect:Lt,useInsertionEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useSyncExternalStore:Lt,useId:Lt,useHostTransitionStatus:Lt,useFormState:Lt,useActionState:Lt,useOptimistic:Lt,useMemoCache:Lt,useCacheRefresh:Lt};ns.useEffectEvent=Lt;var Ad={readContext:re,use:Br,useCallback:function(e,n){return me().memoizedState=[e,n===void 0?null:n],e},useContext:re,useEffect:rd,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,Ur(4194308,4,cd.bind(null,n,e),a)},useLayoutEffect:function(e,n){return Ur(4194308,4,e,n)},useInsertionEffect:function(e,n){Ur(4,2,e,n)},useMemo:function(e,n){var a=me();n=n===void 0?null:n;var l=e();if(wi){kn(!0);try{e()}finally{kn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(e,n,a){var l=me();if(a!==void 0){var h=a(n);if(wi){kn(!0);try{a(n)}finally{kn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=D0.bind(null,ut,e),[l.memoizedState,e]},useRef:function(e){var n=me();return e={current:e},n.memoizedState=e},useState:function(e){e=Iu(e);var n=e.queue,a=vd.bind(null,ut,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:$u,useDeferredValue:function(e,n){var a=me();return Wu(a,e,n)},useTransition:function(){var e=Iu(!1);return e=pd.bind(null,ut,e.queue,!0,!1),me().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var l=ut,h=me();if(yt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),Ot===null)throw Error(s(349));(pt&127)!==0||Vf(l,n,a)}h.memoizedState=a;var d={value:a,getSnapshot:n};return h.queue=d,rd(Ff.bind(null,l,d,e),[e]),l.flags|=2048,ua(9,{destroy:void 0},Pf.bind(null,l,d,a,n),null),a},useId:function(){var e=me(),n=Ot.identifierPrefix;if(yt){var a=on,l=un;a=(l&~(1<<32-Ee(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Dr++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=T0++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:eo,useFormState:ed,useActionState:ed,useOptimistic:function(e){var n=me();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=no.bind(null,ut,!0,a),a.dispatch=n,[e,n]},useMemoCache:Fu,useCacheRefresh:function(){return me().memoizedState=z0.bind(null,ut)},useEffectEvent:function(e){var n=me(),a={impl:e};return n.memoizedState=a,function(){if((Tt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},io={readContext:re,use:Br,useCallback:fd,useContext:re,useEffect:Ju,useImperativeHandle:hd,useInsertionEffect:ud,useLayoutEffect:od,useMemo:dd,useReducer:Gr,useRef:sd,useState:function(){return Gr(Sn)},useDebugValue:$u,useDeferredValue:function(e,n){var a=jt();return md(a,Et.memoizedState,e,n)},useTransition:function(){var e=Gr(Sn)[0],n=jt().memoizedState;return[typeof e=="boolean"?e:ts(e),n]},useSyncExternalStore:jf,useId:gd,useHostTransitionStatus:eo,useFormState:nd,useActionState:nd,useOptimistic:function(e,n){var a=jt();return If(a,Et,e,n)},useMemoCache:Fu,useCacheRefresh:xd};io.useEffectEvent=ld;var Td={readContext:re,use:Br,useCallback:fd,useContext:re,useEffect:Ju,useImperativeHandle:hd,useInsertionEffect:ud,useLayoutEffect:od,useMemo:dd,useReducer:Zu,useRef:sd,useState:function(){return Zu(Sn)},useDebugValue:$u,useDeferredValue:function(e,n){var a=jt();return Et===null?Wu(a,e,n):md(a,Et.memoizedState,e,n)},useTransition:function(){var e=Zu(Sn)[0],n=jt().memoizedState;return[typeof e=="boolean"?e:ts(e),n]},useSyncExternalStore:jf,useId:gd,useHostTransitionStatus:eo,useFormState:ad,useActionState:ad,useOptimistic:function(e,n){var a=jt();return Et!==null?If(a,Et,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Fu,useCacheRefresh:xd};Td.useEffectEvent=ld;function ao(e,n,a,l){n=e.memoizedState,a=a(l,n),a=a==null?n:c({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var so={enqueueSetState:function(e,n,a){e=e._reactInternals;var l=Ue(),h=Fn(l);h.payload=n,a!=null&&(h.callback=a),n=Qn(e,h,l),n!==null&&(Ae(n,e,l),Ka(n,e,l))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var l=Ue(),h=Fn(l);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Qn(e,h,l),n!==null&&(Ae(n,e,l),Ka(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=Ue(),l=Fn(a);l.tag=2,n!=null&&(l.callback=n),n=Qn(e,l,a),n!==null&&(Ae(n,e,a),Ka(n,e,a))}};function Md(e,n,a,l,h,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,v):n.prototype&&n.prototype.isPureReactComponent?!Xa(a,l)||!Xa(h,d):!0}function wd(e,n,a,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==e&&so.enqueueReplaceState(n,n.state,null)}function Ci(e,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(e=e.defaultProps){a===n&&(a=c({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function Cd(e){pr(e)}function Ed(e){console.error(e)}function Rd(e){pr(e)}function kr(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function zd(e,n,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function ro(e,n,a){return a=Fn(a),a.tag=3,a.payload={element:null},a.callback=function(){kr(e,n)},a}function Dd(e){return e=Fn(e),e.tag=3,e}function Od(e,n,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){zd(n,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){zd(n,a,l),typeof h!="function"&&(Wn===null?Wn=new Set([this]):Wn.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function O0(e,n,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&ta(n,a,h,!0),a=De.current,a!==null){switch(a.tag){case 31:case 13:return Pe===null?Kr():a.alternate===null&&Yt===0&&(Yt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Mr?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),Oo(e,l,h)),!1;case 22:return a.flags|=65536,l===Mr?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),Oo(e,l,h)),!1}throw Error(s(435,a.tag))}return Oo(e,l,h),Kr(),!1}if(yt)return n=De.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Mu&&(e=Error(s(422),{cause:l}),Pa(qe(e,a)))):(l!==Mu&&(n=Error(s(423),{cause:l}),Pa(qe(n,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=qe(l,a),h=ro(e.stateNode,l,h),Hu(e,h),Yt!==4&&(Yt=2)),!1;var d=Error(s(520),{cause:l});if(d=qe(d,a),cs===null?cs=[d]:cs.push(d),Yt!==4&&(Yt=2),n===null)return!0;l=qe(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=ro(a.stateNode,l,e),Hu(a,e),!1;case 1:if(n=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Wn===null||!Wn.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Dd(h),Od(h,e,a,l),Hu(a,h),!1}a=a.return}while(a!==null);return!1}var lo=Error(s(461)),Zt=!1;function le(e,n,a,l){n.child=e===null?Hf(n,null,a,l):Mi(n,e.child,a,l)}function Bd(e,n,a,l,h){a=a.render;var d=n.ref;if("ref"in l){var v={};for(var S in l)S!=="ref"&&(v[S]=l[S])}else v=l;return bi(n),l=Xu(e,n,a,v,d,h),S=ju(),e!==null&&!Zt?(Vu(e,n,h),An(e,n,h)):(yt&&S&&Au(n),n.flags|=1,le(e,n,l,h),n.child)}function Gd(e,n,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!vu(d)&&d.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=d,Ud(e,n,d,l,h)):(e=xr(a.type,null,l,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,!_o(e,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Xa,a(v,l)&&e.ref===n.ref)return An(e,n,h)}return n.flags|=1,e=yn(d,l),e.ref=n.ref,e.return=n,n.child=e}function Ud(e,n,a,l,h){if(e!==null){var d=e.memoizedProps;if(Xa(d,l)&&e.ref===n.ref)if(Zt=!1,n.pendingProps=l=d,_o(e,h))(e.flags&131072)!==0&&(Zt=!0);else return n.lanes=e.lanes,An(e,n,h)}return uo(e,n,a,l,h)}function Hd(e,n,a,l){var h=l.children,d=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(l=n.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,n.child=null;return Nd(e,n,d,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ar(n,d!==null?d.cachePool:null),d!==null?Lf(n,d):ku(),Yf(n);else return l=n.lanes=536870912,Nd(e,n,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Ar(n,d.cachePool),Lf(n,d),In(),n.memoizedState=null):(e!==null&&Ar(n,null),ku(),In());return le(e,n,h,a),n.child}function is(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Nd(e,n,a,l,h){var d=Ou();return d=d===null?null:{parent:Ft._currentValue,pool:d},n.memoizedState={baseLanes:a,cachePool:d},e!==null&&Ar(n,null),ku(),Yf(n),e!==null&&ta(e,n,l,!0),n.childLanes=h,null}function Lr(e,n){return n=qr({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function kd(e,n,a){return Mi(n,e.child,null,a),e=Lr(n,n.pendingProps),e.flags|=2,Oe(n),n.memoizedState=null,e}function B0(e,n,a){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(yt){if(l.mode==="hidden")return e=Lr(n,l),n.lanes=536870912,is(null,e);if(Yu(n),(e=Ut)?(e=Km(e,Ve),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:qn!==null?{id:un,overflow:on}:null,retryLane:536870912,hydrationErrors:null},a=bf(e),a.return=n,n.child=a,se=n,Ut=null)):e=null,e===null)throw jn(n);return n.lanes=536870912,null}return Lr(n,l)}var d=e.memoizedState;if(d!==null){var v=d.dehydrated;if(Yu(n),h)if(n.flags&256)n.flags&=-257,n=kd(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(s(558));else if(Zt||ta(e,n,a,!1),h=(a&e.childLanes)!==0,Zt||h){if(l=Ot,l!==null&&(v=Ch(l,a),v!==0&&v!==d.retryLane))throw d.retryLane=v,yi(e,v),Ae(l,e,v),lo;Kr(),n=kd(e,n,a)}else e=d.treeContext,Ut=Fe(v.nextSibling),se=n,yt=!0,Xn=null,Ve=!1,e!==null&&Tf(n,e),n=Lr(n,l),n.flags|=4096;return n}return e=yn(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Yr(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function uo(e,n,a,l,h){return bi(n),a=Xu(e,n,a,l,void 0,h),l=ju(),e!==null&&!Zt?(Vu(e,n,h),An(e,n,h)):(yt&&l&&Au(n),n.flags|=1,le(e,n,a,h),n.child)}function Ld(e,n,a,l,h,d){return bi(n),n.updateQueue=null,a=Xf(n,l,a,h),qf(e),l=ju(),e!==null&&!Zt?(Vu(e,n,d),An(e,n,d)):(yt&&l&&Au(n),n.flags|=1,le(e,n,a,d),n.child)}function Yd(e,n,a,l,h){if(bi(n),n.stateNode===null){var d=Ki,v=a.contextType;typeof v=="object"&&v!==null&&(d=re(v)),d=new a(l,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=so,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=l,d.state=n.memoizedState,d.refs={},Gu(n),v=a.contextType,d.context=typeof v=="object"&&v!==null?re(v):Ki,d.state=n.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(ao(n,a,v,l),d.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&so.enqueueReplaceState(d,d.state,null),$a(n,l,d,h),Ja(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){d=n.stateNode;var S=n.memoizedProps,w=Ci(a,S);d.props=w;var U=d.context,L=a.contextType;v=Ki,typeof L=="object"&&L!==null&&(v=re(L));var V=a.getDerivedStateFromProps;L=typeof V=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=n.pendingProps!==S,L||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||U!==v)&&wd(n,d,l,v),Pn=!1;var H=n.memoizedState;d.state=H,$a(n,l,d,h),Ja(),U=n.memoizedState,S||H!==U||Pn?(typeof V=="function"&&(ao(n,a,V,l),U=n.memoizedState),(w=Pn||Md(n,a,w,l,H,U,v))?(L||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=U),d.props=l,d.state=U,d.context=v,l=w):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{d=n.stateNode,Uu(e,n),v=n.memoizedProps,L=Ci(a,v),d.props=L,V=n.pendingProps,H=d.context,U=a.contextType,w=Ki,typeof U=="object"&&U!==null&&(w=re(U)),S=a.getDerivedStateFromProps,(U=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==V||H!==w)&&wd(n,d,l,w),Pn=!1,H=n.memoizedState,d.state=H,$a(n,l,d,h),Ja();var N=n.memoizedState;v!==V||H!==N||Pn||e!==null&&e.dependencies!==null&&br(e.dependencies)?(typeof S=="function"&&(ao(n,a,S,l),N=n.memoizedState),(L=Pn||Md(n,a,L,l,H,N,w)||e!==null&&e.dependencies!==null&&br(e.dependencies))?(U||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,N,w),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,N,w)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&H===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&H===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=N),d.props=l,d.state=N,d.context=w,l=L):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&H===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&H===e.memoizedState||(n.flags|=1024),l=!1)}return d=l,Yr(e,n),l=(n.flags&128)!==0,d||l?(d=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,e!==null&&l?(n.child=Mi(n,e.child,null,h),n.child=Mi(n,null,a,h)):le(e,n,a,h),n.memoizedState=d.state,e=n.child):e=An(e,n,h),e}function qd(e,n,a,l){return xi(),n.flags|=256,le(e,n,a,l),n.child}var oo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function co(e){return{baseLanes:e,cachePool:zf()}}function ho(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=Ge),e}function Xd(e,n,a){var l=n.pendingProps,h=!1,d=(n.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(Xt.current&2)!==0),v&&(h=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,e===null){if(yt){if(h?Zn(n):In(),(e=Ut)?(e=Km(e,Ve),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:qn!==null?{id:un,overflow:on}:null,retryLane:536870912,hydrationErrors:null},a=bf(e),a.return=n,n.child=a,se=n,Ut=null)):e=null,e===null)throw jn(n);return Zo(e)?n.lanes=32:n.lanes=536870912,null}var S=l.children;return l=l.fallback,h?(In(),h=n.mode,S=qr({mode:"hidden",children:S},h),l=gi(l,h,a,null),S.return=n,l.return=n,S.sibling=l,n.child=S,l=n.child,l.memoizedState=co(a),l.childLanes=ho(e,v,a),n.memoizedState=oo,is(null,l)):(Zn(n),fo(n,S))}var w=e.memoizedState;if(w!==null&&(S=w.dehydrated,S!==null)){if(d)n.flags&256?(Zn(n),n.flags&=-257,n=mo(e,n,a)):n.memoizedState!==null?(In(),n.child=e.child,n.flags|=128,n=null):(In(),S=l.fallback,h=n.mode,l=qr({mode:"visible",children:l.children},h),S=gi(S,h,a,null),S.flags|=2,l.return=n,S.return=n,l.sibling=S,n.child=l,Mi(n,e.child,null,a),l=n.child,l.memoizedState=co(a),l.childLanes=ho(e,v,a),n.memoizedState=oo,n=is(null,l));else if(Zn(n),Zo(S)){if(v=S.nextSibling&&S.nextSibling.dataset,v)var U=v.dgst;v=U,l=Error(s(419)),l.stack="",l.digest=v,Pa({value:l,source:null,stack:null}),n=mo(e,n,a)}else if(Zt||ta(e,n,a,!1),v=(a&e.childLanes)!==0,Zt||v){if(v=Ot,v!==null&&(l=Ch(v,a),l!==0&&l!==w.retryLane))throw w.retryLane=l,yi(e,l),Ae(v,e,l),lo;Qo(S)||Kr(),n=mo(e,n,a)}else Qo(S)?(n.flags|=192,n.child=e.child,n=null):(e=w.treeContext,Ut=Fe(S.nextSibling),se=n,yt=!0,Xn=null,Ve=!1,e!==null&&Tf(n,e),n=fo(n,l.children),n.flags|=4096);return n}return h?(In(),S=l.fallback,h=n.mode,w=e.child,U=w.sibling,l=yn(w,{mode:"hidden",children:l.children}),l.subtreeFlags=w.subtreeFlags&65011712,U!==null?S=yn(U,S):(S=gi(S,h,a,null),S.flags|=2),S.return=n,l.return=n,l.sibling=S,n.child=l,is(null,l),l=n.child,S=e.child.memoizedState,S===null?S=co(a):(h=S.cachePool,h!==null?(w=Ft._currentValue,h=h.parent!==w?{parent:w,pool:w}:h):h=zf(),S={baseLanes:S.baseLanes|a,cachePool:h}),l.memoizedState=S,l.childLanes=ho(e,v,a),n.memoizedState=oo,is(e.child,l)):(Zn(n),a=e.child,e=a.sibling,a=yn(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,e!==null&&(v=n.deletions,v===null?(n.deletions=[e],n.flags|=16):v.push(e)),n.child=a,n.memoizedState=null,a)}function fo(e,n){return n=qr({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function qr(e,n){return e=ze(22,e,null,n),e.lanes=0,e}function mo(e,n,a){return Mi(n,e.child,null,a),e=fo(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function jd(e,n,a){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Eu(e.return,n,a)}function po(e,n,a,l,h,d){var v=e.memoizedState;v===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(v.isBackwards=n,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=h,v.treeForkCount=d)}function Vd(e,n,a){var l=n.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var v=Xt.current,S=(v&2)!==0;if(S?(v=v&1|2,n.flags|=128):v&=1,F(Xt,v),le(e,n,l,a),l=yt?Va:0,!S&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&jd(e,a,n);else if(e.tag===19)jd(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)e=a.alternate,e!==null&&Rr(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),po(n,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Rr(e)===null){n.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}po(n,!0,a,null,d,l);break;case"together":po(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function An(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),$n|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(ta(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,a=yn(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=yn(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function _o(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&br(e)))}function G0(e,n,a){switch(n.tag){case 3:$t(n,n.stateNode.containerInfo),Vn(n,Ft,e.memoizedState.cache),xi();break;case 27:case 5:rn(n);break;case 4:$t(n,n.stateNode.containerInfo);break;case 10:Vn(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Yu(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Zn(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Xd(e,n,a):(Zn(n),e=An(e,n,a),e!==null?e.sibling:null);Zn(n);break;case 19:var h=(e.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(ta(e,n,a,!1),l=(a&n.childLanes)!==0),h){if(l)return Vd(e,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),F(Xt,Xt.current),l)break;return null;case 22:return n.lanes=0,Hd(e,n,a,n.pendingProps);case 24:Vn(n,Ft,e.memoizedState.cache)}return An(e,n,a)}function Pd(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)Zt=!0;else{if(!_o(e,a)&&(n.flags&128)===0)return Zt=!1,G0(e,n,a);Zt=(e.flags&131072)!==0}else Zt=!1,yt&&(n.flags&1048576)!==0&&Af(n,Va,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(e=Ai(n.elementType),n.type=e,typeof e=="function")vu(e)?(l=Ci(e,l),n.tag=1,n=Yd(null,n,e,l,a)):(n.tag=0,n=uo(null,n,e,l,a));else{if(e!=null){var h=e.$$typeof;if(h===B){n.tag=11,n=Bd(null,n,e,l,a);break t}else if(h===k){n.tag=14,n=Gd(null,n,e,l,a);break t}}throw n=ht(e)||e,Error(s(306,n,""))}}return n;case 0:return uo(e,n,n.type,n.pendingProps,a);case 1:return l=n.type,h=Ci(l,n.pendingProps),Yd(e,n,l,h,a);case 3:t:{if($t(n,n.stateNode.containerInfo),e===null)throw Error(s(387));l=n.pendingProps;var d=n.memoizedState;h=d.element,Uu(e,n),$a(n,l,null,a);var v=n.memoizedState;if(l=v.cache,Vn(n,Ft,l),l!==d.cache&&Ru(n,[Ft],a,!0),Ja(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=qd(e,n,l,a);break t}else if(l!==h){h=qe(Error(s(424)),n),Pa(h),n=qd(e,n,l,a);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Ut=Fe(e.firstChild),se=n,yt=!0,Xn=null,Ve=!0,a=Hf(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(xi(),l===h){n=An(e,n,a);break t}le(e,n,l,a)}n=n.child}return n;case 26:return Yr(e,n),e===null?(a=np(n.type,null,n.pendingProps,null))?n.memoizedState=a:yt||(a=n.type,e=n.pendingProps,l=il(lt.current).createElement(a),l[ae]=n,l[ye]=e,ue(l,a,e),Wt(l),n.stateNode=l):n.memoizedState=np(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return rn(n),e===null&&yt&&(l=n.stateNode=Wm(n.type,n.pendingProps,lt.current),se=n,Ve=!0,h=Ut,ii(n.type)?(Io=h,Ut=Fe(l.firstChild)):Ut=h),le(e,n,n.pendingProps.children,a),Yr(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&yt&&((h=l=Ut)&&(l=cx(l,n.type,n.pendingProps,Ve),l!==null?(n.stateNode=l,se=n,Ut=Fe(l.firstChild),Ve=!1,h=!0):h=!1),h||jn(n)),rn(n),h=n.type,d=n.pendingProps,v=e!==null?e.memoizedProps:null,l=d.children,Vo(h,d)?l=null:v!==null&&Vo(h,v)&&(n.flags|=32),n.memoizedState!==null&&(h=Xu(e,n,M0,null,null,a),gs._currentValue=h),Yr(e,n),le(e,n,l,a),n.child;case 6:return e===null&&yt&&((e=a=Ut)&&(a=hx(a,n.pendingProps,Ve),a!==null?(n.stateNode=a,se=n,Ut=null,e=!0):e=!1),e||jn(n)),null;case 13:return Xd(e,n,a);case 4:return $t(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Mi(n,null,l,a):le(e,n,l,a),n.child;case 11:return Bd(e,n,n.type,n.pendingProps,a);case 7:return le(e,n,n.pendingProps,a),n.child;case 8:return le(e,n,n.pendingProps.children,a),n.child;case 12:return le(e,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,Vn(n,n.type,l.value),le(e,n,l.children,a),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,bi(n),h=re(h),l=l(h),n.flags|=1,le(e,n,l,a),n.child;case 14:return Gd(e,n,n.type,n.pendingProps,a);case 15:return Ud(e,n,n.type,n.pendingProps,a);case 19:return Vd(e,n,a);case 31:return B0(e,n,a);case 22:return Hd(e,n,a,n.pendingProps);case 24:return bi(n),l=re(Ft),e===null?(h=Ou(),h===null&&(h=Ot,d=zu(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),n.memoizedState={parent:l,cache:h},Gu(n),Vn(n,Ft,h)):((e.lanes&a)!==0&&(Uu(e,n),$a(n,null,null,a),Ja()),h=e.memoizedState,d=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Vn(n,Ft,l)):(l=d.cache,Vn(n,Ft,l),l!==h.cache&&Ru(n,[Ft],a,!0))),le(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Tn(e){e.flags|=4}function yo(e,n,a,l,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(gm())e.flags|=8192;else throw Ti=Mr,Bu}else e.flags&=-16777217}function Fd(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!lp(n))if(gm())e.flags|=8192;else throw Ti=Mr,Bu}function Xr(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Th():536870912,e.lanes|=n,fa|=n)}function as(e,n){if(!yt)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Ht(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(n)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,n}function U0(e,n,a){var l=n.pendingProps;switch(Tu(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ht(n),null;case 1:return Ht(n),null;case 3:return a=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),vn(Ft),Gt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Wi(n)?Tn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,wu())),Ht(n),null;case 26:var h=n.type,d=n.memoizedState;return e===null?(Tn(n),d!==null?(Ht(n),Fd(n,d)):(Ht(n),yo(n,h,null,l,a))):d?d!==e.memoizedState?(Tn(n),Ht(n),Fd(n,d)):(Ht(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&Tn(n),Ht(n),yo(n,h,e,l,a)),null;case 27:if(Nn(n),a=lt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Tn(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return Ht(n),null}e=K.current,Wi(n)?Mf(n):(e=Wm(h,l,a),n.stateNode=e,Tn(n))}return Ht(n),null;case 5:if(Nn(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Tn(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return Ht(n),null}if(d=K.current,Wi(n))Mf(n);else{var v=il(lt.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?v.createElement(h,{is:l.is}):v.createElement(h)}}d[ae]=n,d[ye]=l;t:for(v=n.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===n)break t;for(;v.sibling===null;){if(v.return===null||v.return===n)break t;v=v.return}v.sibling.return=v.return,v=v.sibling}n.stateNode=d;t:switch(ue(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Tn(n)}}return Ht(n),yo(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&Tn(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(e=lt.current,Wi(n)){if(e=n.stateNode,a=n.memoizedProps,l=null,h=se,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[ae]=n,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Xm(e.nodeValue,a)),e||jn(n,!0)}else e=il(e).createTextNode(l),e[ae]=n,n.stateNode=e}return Ht(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(l=Wi(n),a!==null){if(e===null){if(!l)throw Error(s(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[ae]=n}else xi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ht(n),e=!1}else a=wu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(Oe(n),n):(Oe(n),null);if((n.flags&128)!==0)throw Error(s(558))}return Ht(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Wi(n),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[ae]=n}else xi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ht(n),h=!1}else h=wu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Oe(n),n):(Oe(n),null)}return Oe(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),Xr(n,n.updateQueue),Ht(n),null);case 4:return Gt(),e===null&&Lo(n.stateNode.containerInfo),Ht(n),null;case 10:return vn(n.type),Ht(n),null;case 19:if(j(Xt),l=n.memoizedState,l===null)return Ht(n),null;if(h=(n.flags&128)!==0,d=l.rendering,d===null)if(h)as(l,!1);else{if(Yt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(d=Rr(e),d!==null){for(n.flags|=128,as(l,!1),e=d.updateQueue,n.updateQueue=e,Xr(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)vf(a,e),a=a.sibling;return F(Xt,Xt.current&1|2),yt&&gn(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&we()>Qr&&(n.flags|=128,h=!0,as(l,!1),n.lanes=4194304)}else{if(!h)if(e=Rr(d),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Xr(n,e),as(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!yt)return Ht(n),null}else 2*we()-l.renderingStartTime>Qr&&a!==536870912&&(n.flags|=128,h=!0,as(l,!1),n.lanes=4194304);l.isBackwards?(d.sibling=n.child,n.child=d):(e=l.last,e!==null?e.sibling=d:n.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=we(),e.sibling=null,a=Xt.current,F(Xt,h?a&1|2:a&1),yt&&gn(n,l.treeForkCount),e):(Ht(n),null);case 22:case 23:return Oe(n),Lu(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(Ht(n),n.subtreeFlags&6&&(n.flags|=8192)):Ht(n),a=n.updateQueue,a!==null&&Xr(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),e!==null&&j(Si),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),vn(Ft),Ht(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function H0(e,n){switch(Tu(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return vn(Ft),Gt(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Nn(n),null;case 31:if(n.memoizedState!==null){if(Oe(n),n.alternate===null)throw Error(s(340));xi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Oe(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));xi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return j(Xt),null;case 4:return Gt(),null;case 10:return vn(n.type),null;case 22:case 23:return Oe(n),Lu(),e!==null&&j(Si),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return vn(Ft),null;case 25:return null;default:return null}}function Qd(e,n){switch(Tu(n),n.tag){case 3:vn(Ft),Gt();break;case 26:case 27:case 5:Nn(n);break;case 4:Gt();break;case 31:n.memoizedState!==null&&Oe(n);break;case 13:Oe(n);break;case 19:j(Xt);break;case 10:vn(n.type);break;case 22:case 23:Oe(n),Lu(),e!==null&&j(Si);break;case 24:vn(Ft)}}function ss(e,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(S){wt(n,n.return,S)}}function Kn(e,n,a){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var v=l.inst,S=v.destroy;if(S!==void 0){v.destroy=void 0,h=n;var w=a,U=S;try{U()}catch(L){wt(h,w,L)}}}l=l.next}while(l!==d)}}catch(L){wt(n,n.return,L)}}function Zd(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{kf(n,a)}catch(l){wt(e,e.return,l)}}}function Id(e,n,a){a.props=Ci(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){wt(e,n,l)}}function rs(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){wt(e,n,h)}}function cn(e,n){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){wt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){wt(e,n,h)}else a.current=null}function Kd(e){var n=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){wt(e,e.return,h)}}function go(e,n,a){try{var l=e.stateNode;ax(l,e.type,a,n),l[ye]=n}catch(h){wt(e,e.return,h)}}function Jd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ii(e.type)||e.tag===4}function xo(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Jd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ii(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function vo(e,n,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=pn));else if(l!==4&&(l===27&&ii(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(vo(e,n,a),e=e.sibling;e!==null;)vo(e,n,a),e=e.sibling}function jr(e,n,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(l!==4&&(l===27&&ii(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(jr(e,n,a),e=e.sibling;e!==null;)jr(e,n,a),e=e.sibling}function $d(e){var n=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);ue(n,l,a),n[ae]=e,n[ye]=a}catch(d){wt(e,e.return,d)}}var Mn=!1,It=!1,bo=!1,Wd=typeof WeakSet=="function"?WeakSet:Set,te=null;function N0(e,n){if(e=e.containerInfo,Xo=cl,e=hf(e),du(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var v=0,S=-1,w=-1,U=0,L=0,V=e,H=null;e:for(;;){for(var N;V!==a||h!==0&&V.nodeType!==3||(S=v+h),V!==d||l!==0&&V.nodeType!==3||(w=v+l),V.nodeType===3&&(v+=V.nodeValue.length),(N=V.firstChild)!==null;)H=V,V=N;for(;;){if(V===e)break e;if(H===a&&++U===h&&(S=v),H===d&&++L===l&&(w=v),(N=V.nextSibling)!==null)break;V=H,H=V.parentNode}V=N}a=S===-1||w===-1?null:{start:S,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for(jo={focusedElem:e,selectionRange:a},cl=!1,te=n;te!==null;)if(n=te,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,te=e;else for(;te!==null;){switch(n=te,d=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=n,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var J=Ci(a.type,h);e=l.getSnapshotBeforeUpdate(J,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(at){wt(a,a.return,at)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)Fo(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Fo(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,te=e;break}te=n.return}}function tm(e,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Cn(e,a),l&4&&ss(5,a);break;case 1:if(Cn(e,a),l&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(v){wt(a,a.return,v)}else{var h=Ci(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(v){wt(a,a.return,v)}}l&64&&Zd(a),l&512&&rs(a,a.return);break;case 3:if(Cn(e,a),l&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{kf(e,n)}catch(v){wt(a,a.return,v)}}break;case 27:n===null&&l&4&&$d(a);case 26:case 5:Cn(e,a),n===null&&l&4&&Kd(a),l&512&&rs(a,a.return);break;case 12:Cn(e,a);break;case 31:Cn(e,a),l&4&&im(e,a);break;case 13:Cn(e,a),l&4&&am(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=F0.bind(null,a),fx(e,a))));break;case 22:if(l=a.memoizedState!==null||Mn,!l){n=n!==null&&n.memoizedState!==null||It,h=Mn;var d=It;Mn=l,(It=n)&&!d?En(e,a,(a.subtreeFlags&8772)!==0):Cn(e,a),Mn=h,It=d}break;case 30:break;default:Cn(e,a)}}function em(e){var n=e.alternate;n!==null&&(e.alternate=null,em(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Kl(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Nt=null,xe=!1;function wn(e,n,a){for(a=a.child;a!==null;)nm(e,n,a),a=a.sibling}function nm(e,n,a){if(Ce&&typeof Ce.onCommitFiberUnmount=="function")try{Ce.onCommitFiberUnmount(za,a)}catch{}switch(a.tag){case 26:It||cn(a,n),wn(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:It||cn(a,n);var l=Nt,h=xe;ii(a.type)&&(Nt=a.stateNode,xe=!1),wn(e,n,a),ps(a.stateNode),Nt=l,xe=h;break;case 5:It||cn(a,n);case 6:if(l=Nt,h=xe,Nt=null,wn(e,n,a),Nt=l,xe=h,Nt!==null)if(xe)try{(Nt.nodeType===9?Nt.body:Nt.nodeName==="HTML"?Nt.ownerDocument.body:Nt).removeChild(a.stateNode)}catch(d){wt(a,n,d)}else try{Nt.removeChild(a.stateNode)}catch(d){wt(a,n,d)}break;case 18:Nt!==null&&(xe?(e=Nt,Zm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),va(e)):Zm(Nt,a.stateNode));break;case 4:l=Nt,h=xe,Nt=a.stateNode.containerInfo,xe=!0,wn(e,n,a),Nt=l,xe=h;break;case 0:case 11:case 14:case 15:Kn(2,a,n),It||Kn(4,a,n),wn(e,n,a);break;case 1:It||(cn(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Id(a,n,l)),wn(e,n,a);break;case 21:wn(e,n,a);break;case 22:It=(l=It)||a.memoizedState!==null,wn(e,n,a),It=l;break;default:wn(e,n,a)}}function im(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{va(e)}catch(a){wt(n,n.return,a)}}}function am(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{va(e)}catch(a){wt(n,n.return,a)}}function k0(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Wd),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Wd),n;default:throw Error(s(435,e.tag))}}function Vr(e,n){var a=k0(e);n.forEach(function(l){if(!a.has(l)){a.add(l);var h=Q0.bind(null,e,l);l.then(h,h)}})}function ve(e,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,v=n,S=v;t:for(;S!==null;){switch(S.tag){case 27:if(ii(S.type)){Nt=S.stateNode,xe=!1;break t}break;case 5:Nt=S.stateNode,xe=!1;break t;case 3:case 4:Nt=S.stateNode.containerInfo,xe=!0;break t}S=S.return}if(Nt===null)throw Error(s(160));nm(d,v,h),Nt=null,xe=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)sm(n,e),n=n.sibling}var We=null;function sm(e,n){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ve(n,e),be(e),l&4&&(Kn(3,e,e.return),ss(3,e),Kn(5,e,e.return));break;case 1:ve(n,e),be(e),l&512&&(It||a===null||cn(a,a.return)),l&64&&Mn&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=We;if(ve(n,e),be(e),l&512&&(It||a===null||cn(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Ba]||d[ae]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),ue(d,l,a),d[ae]=e,Wt(d),l=d;break t;case"link":var v=sp("link","href",h).get(l+(a.href||""));if(v){for(var S=0;S<v.length;S++)if(d=v[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(S,1);break e}}d=h.createElement(l),ue(d,l,a),h.head.appendChild(d);break;case"meta":if(v=sp("meta","content",h).get(l+(a.content||""))){for(S=0;S<v.length;S++)if(d=v[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(S,1);break e}}d=h.createElement(l),ue(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[ae]=e,Wt(d),l=d}e.stateNode=l}else rp(h,e.type,e.stateNode);else e.stateNode=ap(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?rp(h,e.type,e.stateNode):ap(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&go(e,e.memoizedProps,a.memoizedProps)}break;case 27:ve(n,e),be(e),l&512&&(It||a===null||cn(a,a.return)),a!==null&&l&4&&go(e,e.memoizedProps,a.memoizedProps);break;case 5:if(ve(n,e),be(e),l&512&&(It||a===null||cn(a,a.return)),e.flags&32){h=e.stateNode;try{ji(h,"")}catch(J){wt(e,e.return,J)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,go(e,h,a!==null?a.memoizedProps:h)),l&1024&&(bo=!0);break;case 6:if(ve(n,e),be(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(J){wt(e,e.return,J)}}break;case 3:if(rl=null,h=We,We=al(n.containerInfo),ve(n,e),We=h,be(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{va(n.containerInfo)}catch(J){wt(e,e.return,J)}bo&&(bo=!1,rm(e));break;case 4:l=We,We=al(e.stateNode.containerInfo),ve(n,e),be(e),We=l;break;case 12:ve(n,e),be(e);break;case 31:ve(n,e),be(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Vr(e,l)));break;case 13:ve(n,e),be(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Fr=we()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Vr(e,l)));break;case 22:h=e.memoizedState!==null;var w=a!==null&&a.memoizedState!==null,U=Mn,L=It;if(Mn=U||h,It=L||w,ve(n,e),It=L,Mn=U,be(e),l&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||w||Mn||It||Ei(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){w=a=n;try{if(d=w.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{S=w.stateNode;var V=w.memoizedProps.style,H=V!=null&&V.hasOwnProperty("display")?V.display:null;S.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(J){wt(w,w.return,J)}}}else if(n.tag===6){if(a===null){w=n;try{w.stateNode.nodeValue=h?"":w.memoizedProps}catch(J){wt(w,w.return,J)}}}else if(n.tag===18){if(a===null){w=n;try{var N=w.stateNode;h?Im(N,!0):Im(w.stateNode,!1)}catch(J){wt(w,w.return,J)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Vr(e,a))));break;case 19:ve(n,e),be(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Vr(e,l)));break;case 30:break;case 21:break;default:ve(n,e),be(e)}}function be(e){var n=e.flags;if(n&2){try{for(var a,l=e.return;l!==null;){if(Jd(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=xo(e);jr(e,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(ji(v,""),a.flags&=-33);var S=xo(e);jr(e,S,v);break;case 3:case 4:var w=a.stateNode.containerInfo,U=xo(e);vo(e,U,w);break;default:throw Error(s(161))}}catch(L){wt(e,e.return,L)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function rm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;rm(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Cn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)tm(e,n.alternate,n),n=n.sibling}function Ei(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Kn(4,n,n.return),Ei(n);break;case 1:cn(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Id(n,n.return,a),Ei(n);break;case 27:ps(n.stateNode);case 26:case 5:cn(n,n.return),Ei(n);break;case 22:n.memoizedState===null&&Ei(n);break;case 30:Ei(n);break;default:Ei(n)}e=e.sibling}}function En(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=e,d=n,v=d.flags;switch(d.tag){case 0:case 11:case 15:En(h,d,a),ss(4,d);break;case 1:if(En(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(U){wt(l,l.return,U)}if(l=d,h=l.updateQueue,h!==null){var S=l.stateNode;try{var w=h.shared.hiddenCallbacks;if(w!==null)for(h.shared.hiddenCallbacks=null,h=0;h<w.length;h++)Nf(w[h],S)}catch(U){wt(l,l.return,U)}}a&&v&64&&Zd(d),rs(d,d.return);break;case 27:$d(d);case 26:case 5:En(h,d,a),a&&l===null&&v&4&&Kd(d),rs(d,d.return);break;case 12:En(h,d,a);break;case 31:En(h,d,a),a&&v&4&&im(h,d);break;case 13:En(h,d,a),a&&v&4&&am(h,d);break;case 22:d.memoizedState===null&&En(h,d,a),rs(d,d.return);break;case 30:break;default:En(h,d,a)}n=n.sibling}}function So(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Fa(a))}function Ao(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Fa(e))}function tn(e,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)lm(e,n,a,l),n=n.sibling}function lm(e,n,a,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:tn(e,n,a,l),h&2048&&ss(9,n);break;case 1:tn(e,n,a,l);break;case 3:tn(e,n,a,l),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Fa(e)));break;case 12:if(h&2048){tn(e,n,a,l),e=n.stateNode;try{var d=n.memoizedProps,v=d.id,S=d.onPostCommit;typeof S=="function"&&S(v,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){wt(n,n.return,w)}}else tn(e,n,a,l);break;case 31:tn(e,n,a,l);break;case 13:tn(e,n,a,l);break;case 23:break;case 22:d=n.stateNode,v=n.alternate,n.memoizedState!==null?d._visibility&2?tn(e,n,a,l):ls(e,n):d._visibility&2?tn(e,n,a,l):(d._visibility|=2,oa(e,n,a,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&So(v,n);break;case 24:tn(e,n,a,l),h&2048&&Ao(n.alternate,n);break;default:tn(e,n,a,l)}}function oa(e,n,a,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var d=e,v=n,S=a,w=l,U=v.flags;switch(v.tag){case 0:case 11:case 15:oa(d,v,S,w,h),ss(8,v);break;case 23:break;case 22:var L=v.stateNode;v.memoizedState!==null?L._visibility&2?oa(d,v,S,w,h):ls(d,v):(L._visibility|=2,oa(d,v,S,w,h)),h&&U&2048&&So(v.alternate,v);break;case 24:oa(d,v,S,w,h),h&&U&2048&&Ao(v.alternate,v);break;default:oa(d,v,S,w,h)}n=n.sibling}}function ls(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,l=n,h=l.flags;switch(l.tag){case 22:ls(a,l),h&2048&&So(l.alternate,l);break;case 24:ls(a,l),h&2048&&Ao(l.alternate,l);break;default:ls(a,l)}n=n.sibling}}var us=8192;function ca(e,n,a){if(e.subtreeFlags&us)for(e=e.child;e!==null;)um(e,n,a),e=e.sibling}function um(e,n,a){switch(e.tag){case 26:ca(e,n,a),e.flags&us&&e.memoizedState!==null&&Tx(a,We,e.memoizedState,e.memoizedProps);break;case 5:ca(e,n,a);break;case 3:case 4:var l=We;We=al(e.stateNode.containerInfo),ca(e,n,a),We=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=us,us=16777216,ca(e,n,a),us=l):ca(e,n,a));break;default:ca(e,n,a)}}function om(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function os(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];te=l,hm(l,e)}om(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)cm(e),e=e.sibling}function cm(e){switch(e.tag){case 0:case 11:case 15:os(e),e.flags&2048&&Kn(9,e,e.return);break;case 3:os(e);break;case 12:os(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Pr(e)):os(e);break;default:os(e)}}function Pr(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];te=l,hm(l,e)}om(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Kn(8,n,n.return),Pr(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Pr(n));break;default:Pr(n)}e=e.sibling}}function hm(e,n){for(;te!==null;){var a=te;switch(a.tag){case 0:case 11:case 15:Kn(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Fa(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,te=l;else t:for(a=e;te!==null;){l=te;var h=l.sibling,d=l.return;if(em(l),l===a){te=null;break t}if(h!==null){h.return=d,te=h;break t}te=d}}}var L0={getCacheForType:function(e){var n=re(Ft),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return re(Ft).controller.signal}},Y0=typeof WeakMap=="function"?WeakMap:Map,Tt=0,Ot=null,ft=null,pt=0,Mt=0,Be=null,Jn=!1,ha=!1,To=!1,Rn=0,Yt=0,$n=0,Ri=0,Mo=0,Ge=0,fa=0,cs=null,Se=null,wo=!1,Fr=0,fm=0,Qr=1/0,Zr=null,Wn=null,Jt=0,ti=null,da=null,zn=0,Co=0,Eo=null,dm=null,hs=0,Ro=null;function Ue(){return(Tt&2)!==0&&pt!==0?pt&-pt:D.T!==null?Uo():Eh()}function mm(){if(Ge===0)if((pt&536870912)===0||yt){var e=nr;nr<<=1,(nr&3932160)===0&&(nr=262144),Ge=e}else Ge=536870912;return e=De.current,e!==null&&(e.flags|=32),Ge}function Ae(e,n,a){(e===Ot&&(Mt===2||Mt===9)||e.cancelPendingCommit!==null)&&(ma(e,0),ei(e,pt,Ge,!1)),Oa(e,a),((Tt&2)===0||e!==Ot)&&(e===Ot&&((Tt&2)===0&&(Ri|=a),Yt===4&&ei(e,pt,Ge,!1)),hn(e))}function pm(e,n,a){if((Tt&6)!==0)throw Error(s(327));var l=!a&&(n&127)===0&&(n&e.expiredLanes)===0||Da(e,n),h=l?j0(e,n):Do(e,n,!0),d=l;do{if(h===0){ha&&!l&&ei(e,n,0,!1);break}else{if(a=e.current.alternate,d&&!q0(a)){h=Do(e,n,!1),d=!1;continue}if(h===2){if(d=n,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;t:{var S=e;h=cs;var w=S.current.memoizedState.isDehydrated;if(w&&(ma(S,v).flags|=256),v=Do(S,v,!1),v!==2){if(To&&!w){S.errorRecoveryDisabledLanes|=d,Ri|=d,h=4;break t}d=Se,Se=h,d!==null&&(Se===null?Se=d:Se.push.apply(Se,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){ma(e,0),ei(e,n,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:ei(l,n,Ge,!Jn);break t;case 2:Se=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=Fr+300-we(),10<h)){if(ei(l,n,Ge,!Jn),ar(l,0,!0)!==0)break t;zn=n,l.timeoutHandle=Fm(_m.bind(null,l,a,Se,Zr,wo,n,Ge,Ri,fa,Jn,d,"Throttled",-0,0),h);break t}_m(l,a,Se,Zr,wo,n,Ge,Ri,fa,Jn,d,null,-0,0)}}break}while(!0);hn(e)}function _m(e,n,a,l,h,d,v,S,w,U,L,V,H,N){if(e.timeoutHandle=-1,V=n.subtreeFlags,V&8192||(V&16785408)===16785408){V={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:pn},um(n,d,V);var J=(d&62914560)===d?Fr-we():(d&4194048)===d?fm-we():0;if(J=Mx(V,J),J!==null){zn=d,e.cancelPendingCommit=J(Tm.bind(null,e,n,d,a,l,h,v,S,w,L,V,null,H,N)),ei(e,d,v,!U);return}}Tm(e,n,d,a,l,h,v,S,w)}function q0(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!Re(d(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ei(e,n,a,l){n&=~Mo,n&=~Ri,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var h=n;0<h;){var d=31-Ee(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&Mh(e,a,n)}function Ir(){return(Tt&6)===0?(fs(0),!1):!0}function zo(){if(ft!==null){if(Mt===0)var e=ft.return;else e=ft,xn=vi=null,Pu(e),aa=null,Za=0,e=ft;for(;e!==null;)Qd(e.alternate,e),e=e.return;ft=null}}function ma(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,lx(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),zn=0,zo(),Ot=e,ft=a=yn(e.current,null),pt=n,Mt=0,Be=null,Jn=!1,ha=Da(e,n),To=!1,fa=Ge=Mo=Ri=$n=Yt=0,Se=cs=null,wo=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var h=31-Ee(l),d=1<<h;n|=e[h],l&=~d}return Rn=n,_r(),a}function ym(e,n){ut=null,D.H=ns,n===ia||n===Tr?(n=Bf(),Mt=3):n===Bu?(n=Bf(),Mt=4):Mt=n===lo?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Be=n,ft===null&&(Yt=1,kr(e,qe(n,e.current)))}function gm(){var e=De.current;return e===null?!0:(pt&4194048)===pt?Pe===null:(pt&62914560)===pt||(pt&536870912)!==0?e===Pe:!1}function xm(){var e=D.H;return D.H=ns,e===null?ns:e}function vm(){var e=D.A;return D.A=L0,e}function Kr(){Yt=4,Jn||(pt&4194048)!==pt&&De.current!==null||(ha=!0),($n&134217727)===0&&(Ri&134217727)===0||Ot===null||ei(Ot,pt,Ge,!1)}function Do(e,n,a){var l=Tt;Tt|=2;var h=xm(),d=vm();(Ot!==e||pt!==n)&&(Zr=null,ma(e,n)),n=!1;var v=Yt;t:do try{if(Mt!==0&&ft!==null){var S=ft,w=Be;switch(Mt){case 8:zo(),v=6;break t;case 3:case 2:case 9:case 6:De.current===null&&(n=!0);var U=Mt;if(Mt=0,Be=null,pa(e,S,w,U),a&&ha){v=0;break t}break;default:U=Mt,Mt=0,Be=null,pa(e,S,w,U)}}X0(),v=Yt;break}catch(L){ym(e,L)}while(!0);return n&&e.shellSuspendCounter++,xn=vi=null,Tt=l,D.H=h,D.A=d,ft===null&&(Ot=null,pt=0,_r()),v}function X0(){for(;ft!==null;)bm(ft)}function j0(e,n){var a=Tt;Tt|=2;var l=xm(),h=vm();Ot!==e||pt!==n?(Zr=null,Qr=we()+500,ma(e,n)):ha=Da(e,n);t:do try{if(Mt!==0&&ft!==null){n=ft;var d=Be;e:switch(Mt){case 1:Mt=0,Be=null,pa(e,n,d,1);break;case 2:case 9:if(Df(d)){Mt=0,Be=null,Sm(n);break}n=function(){Mt!==2&&Mt!==9||Ot!==e||(Mt=7),hn(e)},d.then(n,n);break t;case 3:Mt=7;break t;case 4:Mt=5;break t;case 7:Df(d)?(Mt=0,Be=null,Sm(n)):(Mt=0,Be=null,pa(e,n,d,7));break;case 5:var v=null;switch(ft.tag){case 26:v=ft.memoizedState;case 5:case 27:var S=ft;if(v?lp(v):S.stateNode.complete){Mt=0,Be=null;var w=S.sibling;if(w!==null)ft=w;else{var U=S.return;U!==null?(ft=U,Jr(U)):ft=null}break e}}Mt=0,Be=null,pa(e,n,d,5);break;case 6:Mt=0,Be=null,pa(e,n,d,6);break;case 8:zo(),Yt=6;break t;default:throw Error(s(462))}}V0();break}catch(L){ym(e,L)}while(!0);return xn=vi=null,D.H=l,D.A=h,Tt=a,ft!==null?0:(Ot=null,pt=0,_r(),Yt)}function V0(){for(;ft!==null&&!dg();)bm(ft)}function bm(e){var n=Pd(e.alternate,e,Rn);e.memoizedProps=e.pendingProps,n===null?Jr(e):ft=n}function Sm(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=Ld(a,n,n.pendingProps,n.type,void 0,pt);break;case 11:n=Ld(a,n,n.pendingProps,n.type.render,n.ref,pt);break;case 5:Pu(n);default:Qd(a,n),n=ft=vf(n,Rn),n=Pd(a,n,Rn)}e.memoizedProps=e.pendingProps,n===null?Jr(e):ft=n}function pa(e,n,a,l){xn=vi=null,Pu(n),aa=null,Za=0;var h=n.return;try{if(O0(e,h,n,a,pt)){Yt=1,kr(e,qe(a,e.current)),ft=null;return}}catch(d){if(h!==null)throw ft=h,d;Yt=1,kr(e,qe(a,e.current)),ft=null;return}n.flags&32768?(yt||l===1?e=!0:ha||(pt&536870912)!==0?e=!1:(Jn=e=!0,(l===2||l===9||l===3||l===6)&&(l=De.current,l!==null&&l.tag===13&&(l.flags|=16384))),Am(n,e)):Jr(n)}function Jr(e){var n=e;do{if((n.flags&32768)!==0){Am(n,Jn);return}e=n.return;var a=U0(n.alternate,n,Rn);if(a!==null){ft=a;return}if(n=n.sibling,n!==null){ft=n;return}ft=n=e}while(n!==null);Yt===0&&(Yt=5)}function Am(e,n){do{var a=H0(e.alternate,e);if(a!==null){a.flags&=32767,ft=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){ft=e;return}ft=e=a}while(e!==null);Yt=6,ft=null}function Tm(e,n,a,l,h,d,v,S,w){e.cancelPendingCommit=null;do $r();while(Jt!==0);if((Tt&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(d=n.lanes|n.childLanes,d|=gu,Ag(e,a,d,v,S,w),e===Ot&&(ft=Ot=null,pt=0),da=n,ti=e,zn=a,Co=d,Eo=h,dm=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Z0(tr,function(){return Rm(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=D.T,D.T=null,h=Y.p,Y.p=2,v=Tt,Tt|=4;try{N0(e,n,a)}finally{Tt=v,Y.p=h,D.T=l}}Jt=1,Mm(),wm(),Cm()}}function Mm(){if(Jt===1){Jt=0;var e=ti,n=da,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=D.T,D.T=null;var l=Y.p;Y.p=2;var h=Tt;Tt|=4;try{sm(n,e);var d=jo,v=hf(e.containerInfo),S=d.focusedElem,w=d.selectionRange;if(v!==S&&S&&S.ownerDocument&&cf(S.ownerDocument.documentElement,S)){if(w!==null&&du(S)){var U=w.start,L=w.end;if(L===void 0&&(L=U),"selectionStart"in S)S.selectionStart=U,S.selectionEnd=Math.min(L,S.value.length);else{var V=S.ownerDocument||document,H=V&&V.defaultView||window;if(H.getSelection){var N=H.getSelection(),J=S.textContent.length,at=Math.min(w.start,J),zt=w.end===void 0?at:Math.min(w.end,J);!N.extend&&at>zt&&(v=zt,zt=at,at=v);var O=of(S,at),R=of(S,zt);if(O&&R&&(N.rangeCount!==1||N.anchorNode!==O.node||N.anchorOffset!==O.offset||N.focusNode!==R.node||N.focusOffset!==R.offset)){var G=V.createRange();G.setStart(O.node,O.offset),N.removeAllRanges(),at>zt?(N.addRange(G),N.extend(R.node,R.offset)):(G.setEnd(R.node,R.offset),N.addRange(G))}}}}for(V=[],N=S;N=N.parentNode;)N.nodeType===1&&V.push({element:N,left:N.scrollLeft,top:N.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<V.length;S++){var q=V[S];q.element.scrollLeft=q.left,q.element.scrollTop=q.top}}cl=!!Xo,jo=Xo=null}finally{Tt=h,Y.p=l,D.T=a}}e.current=n,Jt=2}}function wm(){if(Jt===2){Jt=0;var e=ti,n=da,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=D.T,D.T=null;var l=Y.p;Y.p=2;var h=Tt;Tt|=4;try{tm(e,n.alternate,n)}finally{Tt=h,Y.p=l,D.T=a}}Jt=3}}function Cm(){if(Jt===4||Jt===3){Jt=0,mg();var e=ti,n=da,a=zn,l=dm;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Jt=5:(Jt=0,da=ti=null,Em(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Wn=null),Zl(a),n=n.stateNode,Ce&&typeof Ce.onCommitFiberRoot=="function")try{Ce.onCommitFiberRoot(za,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=D.T,h=Y.p,Y.p=2,D.T=null;try{for(var d=e.onRecoverableError,v=0;v<l.length;v++){var S=l[v];d(S.value,{componentStack:S.stack})}}finally{D.T=n,Y.p=h}}(zn&3)!==0&&$r(),hn(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===Ro?hs++:(hs=0,Ro=e):hs=0,fs(0)}}function Em(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Fa(n)))}function $r(){return Mm(),wm(),Cm(),Rm()}function Rm(){if(Jt!==5)return!1;var e=ti,n=Co;Co=0;var a=Zl(zn),l=D.T,h=Y.p;try{Y.p=32>a?32:a,D.T=null,a=Eo,Eo=null;var d=ti,v=zn;if(Jt=0,da=ti=null,zn=0,(Tt&6)!==0)throw Error(s(331));var S=Tt;if(Tt|=4,cm(d.current),lm(d,d.current,v,a),Tt=S,fs(0,!1),Ce&&typeof Ce.onPostCommitFiberRoot=="function")try{Ce.onPostCommitFiberRoot(za,d)}catch{}return!0}finally{Y.p=h,D.T=l,Em(e,n)}}function zm(e,n,a){n=qe(a,n),n=ro(e.stateNode,n,2),e=Qn(e,n,2),e!==null&&(Oa(e,2),hn(e))}function wt(e,n,a){if(e.tag===3)zm(e,e,a);else for(;n!==null;){if(n.tag===3){zm(n,e,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Wn===null||!Wn.has(l))){e=qe(a,e),a=Dd(2),l=Qn(n,a,2),l!==null&&(Od(a,l,n,e),Oa(l,2),hn(l));break}}n=n.return}}function Oo(e,n,a){var l=e.pingCache;if(l===null){l=e.pingCache=new Y0;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(a)||(To=!0,h.add(a),e=P0.bind(null,e,n,a),n.then(e,e))}function P0(e,n,a){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Ot===e&&(pt&a)===a&&(Yt===4||Yt===3&&(pt&62914560)===pt&&300>we()-Fr?(Tt&2)===0&&ma(e,0):Mo|=a,fa===pt&&(fa=0)),hn(e)}function Dm(e,n){n===0&&(n=Th()),e=yi(e,n),e!==null&&(Oa(e,n),hn(e))}function F0(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),Dm(e,a)}function Q0(e,n){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Dm(e,a)}function Z0(e,n){return Vl(e,n)}var Wr=null,_a=null,Bo=!1,tl=!1,Go=!1,ni=0;function hn(e){e!==_a&&e.next===null&&(_a===null?Wr=_a=e:_a=_a.next=e),tl=!0,Bo||(Bo=!0,K0())}function fs(e,n){if(!Go&&tl){Go=!0;do for(var a=!1,l=Wr;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-Ee(42|e)+1)-1,d&=h&~(v&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Um(l,d))}else d=pt,d=ar(l,l===Ot?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Da(l,d)||(a=!0,Um(l,d));l=l.next}while(a);Go=!1}}function I0(){Om()}function Om(){tl=Bo=!1;var e=0;ni!==0&&rx()&&(e=ni);for(var n=we(),a=null,l=Wr;l!==null;){var h=l.next,d=Bm(l,n);d===0?(l.next=null,a===null?Wr=h:a.next=h,h===null&&(_a=a)):(a=l,(e!==0||(d&3)!==0)&&(tl=!0)),l=h}Jt!==0&&Jt!==5||fs(e),ni!==0&&(ni=0)}function Bm(e,n){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-Ee(d),S=1<<v,w=h[v];w===-1?((S&a)===0||(S&l)!==0)&&(h[v]=Sg(S,n)):w<=n&&(e.expiredLanes|=S),d&=~S}if(n=Ot,a=pt,a=ar(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===n&&(Mt===2||Mt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Pl(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Da(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(l!==null&&Pl(l),Zl(a)){case 2:case 8:a=Sh;break;case 32:a=tr;break;case 268435456:a=Ah;break;default:a=tr}return l=Gm.bind(null,e),a=Vl(a,l),e.callbackPriority=n,e.callbackNode=a,n}return l!==null&&l!==null&&Pl(l),e.callbackPriority=2,e.callbackNode=null,2}function Gm(e,n){if(Jt!==0&&Jt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if($r()&&e.callbackNode!==a)return null;var l=pt;return l=ar(e,e===Ot?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(pm(e,l,n),Bm(e,we()),e.callbackNode!=null&&e.callbackNode===a?Gm.bind(null,e):null)}function Um(e,n){if($r())return null;pm(e,n,!0)}function K0(){ux(function(){(Tt&6)!==0?Vl(bh,I0):Om()})}function Uo(){if(ni===0){var e=ea;e===0&&(e=er,er<<=1,(er&261888)===0&&(er=256)),ni=e}return ni}function Hm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ur(""+e)}function Nm(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function J0(e,n,a,l,h){if(n==="submit"&&a&&a.stateNode===h){var d=Hm((h[ye]||null).action),v=l.submitter;v&&(n=(n=v[ye]||null)?Hm(n.formAction):v.getAttribute("formAction"),n!==null&&(d=n,v=null));var S=new fr("action","action",null,l,h);e.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ni!==0){var w=v?Nm(h,v):new FormData(h);to(a,{pending:!0,data:w,method:h.method,action:d},null,w)}}else typeof d=="function"&&(S.preventDefault(),w=v?Nm(h,v):new FormData(h),to(a,{pending:!0,data:w,method:h.method,action:d},d,w))},currentTarget:h}]})}}for(var Ho=0;Ho<yu.length;Ho++){var No=yu[Ho],$0=No.toLowerCase(),W0=No[0].toUpperCase()+No.slice(1);$e($0,"on"+W0)}$e(mf,"onAnimationEnd"),$e(pf,"onAnimationIteration"),$e(_f,"onAnimationStart"),$e("dblclick","onDoubleClick"),$e("focusin","onFocus"),$e("focusout","onBlur"),$e(p0,"onTransitionRun"),$e(_0,"onTransitionStart"),$e(y0,"onTransitionCancel"),$e(yf,"onTransitionEnd"),qi("onMouseEnter",["mouseout","mouseover"]),qi("onMouseLeave",["mouseout","mouseover"]),qi("onPointerEnter",["pointerout","pointerover"]),qi("onPointerLeave",["pointerout","pointerover"]),di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),di("onBeforeInput",["compositionend","keypress","textInput","paste"]),di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ds="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ds));function km(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(n)for(var v=l.length-1;0<=v;v--){var S=l[v],w=S.instance,U=S.currentTarget;if(S=S.listener,w!==d&&h.isPropagationStopped())break t;d=S,h.currentTarget=U;try{d(h)}catch(L){pr(L)}h.currentTarget=null,d=w}else for(v=0;v<l.length;v++){if(S=l[v],w=S.instance,U=S.currentTarget,S=S.listener,w!==d&&h.isPropagationStopped())break t;d=S,h.currentTarget=U;try{d(h)}catch(L){pr(L)}h.currentTarget=null,d=w}}}}function dt(e,n){var a=n[Il];a===void 0&&(a=n[Il]=new Set);var l=e+"__bubble";a.has(l)||(Lm(n,e,2,!1),a.add(l))}function ko(e,n,a){var l=0;n&&(l|=4),Lm(a,e,l,n)}var el="_reactListening"+Math.random().toString(36).slice(2);function Lo(e){if(!e[el]){e[el]=!0,Dh.forEach(function(a){a!=="selectionchange"&&(tx.has(a)||ko(a,!1,e),ko(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[el]||(n[el]=!0,ko("selectionchange",!1,n))}}function Lm(e,n,a,l){switch(mp(n)){case 2:var h=Ex;break;case 8:h=Rx;break;default:h=tc}a=h.bind(null,n,a,e),h=void 0,!au||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(n,a,{capture:!0,passive:h}):e.addEventListener(n,a,!0):h!==void 0?e.addEventListener(n,a,{passive:h}):e.addEventListener(n,a,!1)}function Yo(e,n,a,l,h){var d=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var S=l.stateNode.containerInfo;if(S===h)break;if(v===4)for(v=l.return;v!==null;){var w=v.tag;if((w===3||w===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;S!==null;){if(v=ki(S),v===null)return;if(w=v.tag,w===5||w===6||w===26||w===27){l=d=v;continue t}S=S.parentNode}}l=l.return}jh(function(){var U=d,L=nu(a),V=[];t:{var H=gf.get(e);if(H!==void 0){var N=fr,J=e;switch(e){case"keypress":if(cr(a)===0)break t;case"keydown":case"keyup":N=Qg;break;case"focusin":J="focus",N=uu;break;case"focusout":J="blur",N=uu;break;case"beforeblur":case"afterblur":N=uu;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":N=Fh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":N=Ug;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":N=Kg;break;case mf:case pf:case _f:N=kg;break;case yf:N=$g;break;case"scroll":case"scrollend":N=Bg;break;case"wheel":N=t0;break;case"copy":case"cut":case"paste":N=Yg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":N=Zh;break;case"toggle":case"beforetoggle":N=n0}var at=(n&4)!==0,zt=!at&&(e==="scroll"||e==="scrollend"),O=at?H!==null?H+"Capture":null:H;at=[];for(var R=U,G;R!==null;){var q=R;if(G=q.stateNode,q=q.tag,q!==5&&q!==26&&q!==27||G===null||O===null||(q=Ua(R,O),q!=null&&at.push(ms(R,q,G))),zt)break;R=R.return}0<at.length&&(H=new N(H,J,null,a,L),V.push({event:H,listeners:at}))}}if((n&7)===0){t:{if(H=e==="mouseover"||e==="pointerover",N=e==="mouseout"||e==="pointerout",H&&a!==eu&&(J=a.relatedTarget||a.fromElement)&&(ki(J)||J[Ni]))break t;if((N||H)&&(H=L.window===L?L:(H=L.ownerDocument)?H.defaultView||H.parentWindow:window,N?(J=a.relatedTarget||a.toElement,N=U,J=J?ki(J):null,J!==null&&(zt=o(J),at=J.tag,J!==zt||at!==5&&at!==27&&at!==6)&&(J=null)):(N=null,J=U),N!==J)){if(at=Fh,q="onMouseLeave",O="onMouseEnter",R="mouse",(e==="pointerout"||e==="pointerover")&&(at=Zh,q="onPointerLeave",O="onPointerEnter",R="pointer"),zt=N==null?H:Ga(N),G=J==null?H:Ga(J),H=new at(q,R+"leave",N,a,L),H.target=zt,H.relatedTarget=G,q=null,ki(L)===U&&(at=new at(O,R+"enter",J,a,L),at.target=G,at.relatedTarget=zt,q=at),zt=q,N&&J)e:{for(at=ex,O=N,R=J,G=0,q=O;q;q=at(q))G++;q=0;for(var et=R;et;et=at(et))q++;for(;0<G-q;)O=at(O),G--;for(;0<q-G;)R=at(R),q--;for(;G--;){if(O===R||R!==null&&O===R.alternate){at=O;break e}O=at(O),R=at(R)}at=null}else at=null;N!==null&&Ym(V,H,N,at,!1),J!==null&&zt!==null&&Ym(V,zt,J,at,!0)}}t:{if(H=U?Ga(U):window,N=H.nodeName&&H.nodeName.toLowerCase(),N==="select"||N==="input"&&H.type==="file")var St=nf;else if(tf(H))if(af)St=f0;else{St=c0;var $=o0}else N=H.nodeName,!N||N.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?U&&tu(U.elementType)&&(St=nf):St=h0;if(St&&(St=St(e,U))){ef(V,St,a,L);break t}$&&$(e,H,U),e==="focusout"&&U&&H.type==="number"&&U.memoizedProps.value!=null&&Wl(H,"number",H.value)}switch($=U?Ga(U):window,e){case"focusin":(tf($)||$.contentEditable==="true")&&(Qi=$,mu=U,ja=null);break;case"focusout":ja=mu=Qi=null;break;case"mousedown":pu=!0;break;case"contextmenu":case"mouseup":case"dragend":pu=!1,ff(V,a,L);break;case"selectionchange":if(m0)break;case"keydown":case"keyup":ff(V,a,L)}var ct;if(cu)t:{switch(e){case"compositionstart":var _t="onCompositionStart";break t;case"compositionend":_t="onCompositionEnd";break t;case"compositionupdate":_t="onCompositionUpdate";break t}_t=void 0}else Fi?$h(e,a)&&(_t="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(_t="onCompositionStart");_t&&(Ih&&a.locale!=="ko"&&(Fi||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&Fi&&(ct=Vh()):(Yn=L,su="value"in Yn?Yn.value:Yn.textContent,Fi=!0)),$=nl(U,_t),0<$.length&&(_t=new Qh(_t,e,null,a,L),V.push({event:_t,listeners:$}),ct?_t.data=ct:(ct=Wh(a),ct!==null&&(_t.data=ct)))),(ct=a0?s0(e,a):r0(e,a))&&(_t=nl(U,"onBeforeInput"),0<_t.length&&($=new Qh("onBeforeInput","beforeinput",null,a,L),V.push({event:$,listeners:_t}),$.data=ct)),J0(V,e,U,a,L)}km(V,n)})}function ms(e,n,a){return{instance:e,listener:n,currentTarget:a}}function nl(e,n){for(var a=n+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Ua(e,a),h!=null&&l.unshift(ms(e,h,d)),h=Ua(e,n),h!=null&&l.push(ms(e,h,d))),e.tag===3)return l;e=e.return}return[]}function ex(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ym(e,n,a,l,h){for(var d=n._reactName,v=[];a!==null&&a!==l;){var S=a,w=S.alternate,U=S.stateNode;if(S=S.tag,w!==null&&w===l)break;S!==5&&S!==26&&S!==27||U===null||(w=U,h?(U=Ua(a,d),U!=null&&v.unshift(ms(a,U,w))):h||(U=Ua(a,d),U!=null&&v.push(ms(a,U,w)))),a=a.return}v.length!==0&&e.push({event:n,listeners:v})}var nx=/\r\n?/g,ix=/\u0000|\uFFFD/g;function qm(e){return(typeof e=="string"?e:""+e).replace(nx,`
`).replace(ix,"")}function Xm(e,n){return n=qm(n),qm(e)===n}function Rt(e,n,a,l,h,d){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||ji(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&ji(e,""+l);break;case"className":rr(e,"class",l);break;case"tabIndex":rr(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":rr(e,a,l);break;case"style":qh(e,l,d);break;case"data":if(n!=="object"){rr(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=ur(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(n!=="input"&&Rt(e,n,"name",h.name,h,null),Rt(e,n,"formEncType",h.formEncType,h,null),Rt(e,n,"formMethod",h.formMethod,h,null),Rt(e,n,"formTarget",h.formTarget,h,null)):(Rt(e,n,"encType",h.encType,h,null),Rt(e,n,"method",h.method,h,null),Rt(e,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=ur(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=pn);break;case"onScroll":l!=null&&dt("scroll",e);break;case"onScrollEnd":l!=null&&dt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=ur(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":dt("beforetoggle",e),dt("toggle",e),sr(e,"popover",l);break;case"xlinkActuate":mn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":mn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":mn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":mn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":mn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":mn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":mn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":mn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":mn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":sr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Dg.get(a)||a,sr(e,a,l))}}function qo(e,n,a,l,h,d){switch(a){case"style":qh(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?ji(e,l):(typeof l=="number"||typeof l=="bigint")&&ji(e,""+l);break;case"onScroll":l!=null&&dt("scroll",e);break;case"onScrollEnd":l!=null&&dt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=pn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Oh.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),d=e[ye]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(n,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):sr(e,a,l)}}}function ue(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":dt("error",e),dt("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Rt(e,n,d,v,a,null)}}h&&Rt(e,n,"srcSet",a.srcSet,a,null),l&&Rt(e,n,"src",a.src,a,null);return;case"input":dt("invalid",e);var S=d=v=h=null,w=null,U=null;for(l in a)if(a.hasOwnProperty(l)){var L=a[l];if(L!=null)switch(l){case"name":h=L;break;case"type":v=L;break;case"checked":w=L;break;case"defaultChecked":U=L;break;case"value":d=L;break;case"defaultValue":S=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(s(137,n));break;default:Rt(e,n,l,L,a,null)}}Nh(e,d,S,w,U,v,h,!1);return;case"select":dt("invalid",e),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(S=a[h],S!=null))switch(h){case"value":d=S;break;case"defaultValue":v=S;break;case"multiple":l=S;default:Rt(e,n,h,S,a,null)}n=d,a=v,e.multiple=!!l,n!=null?Xi(e,!!l,n,!1):a!=null&&Xi(e,!!l,a,!0);return;case"textarea":dt("invalid",e),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(S=a[v],S!=null))switch(v){case"value":l=S;break;case"defaultValue":h=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:Rt(e,n,v,S,a,null)}Lh(e,l,h,d);return;case"option":for(w in a)a.hasOwnProperty(w)&&(l=a[w],l!=null)&&(w==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":Rt(e,n,w,l,a,null));return;case"dialog":dt("beforetoggle",e),dt("toggle",e),dt("cancel",e),dt("close",e);break;case"iframe":case"object":dt("load",e);break;case"video":case"audio":for(l=0;l<ds.length;l++)dt(ds[l],e);break;case"image":dt("error",e),dt("load",e);break;case"details":dt("toggle",e);break;case"embed":case"source":case"link":dt("error",e),dt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in a)if(a.hasOwnProperty(U)&&(l=a[U],l!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Rt(e,n,U,l,a,null)}return;default:if(tu(n)){for(L in a)a.hasOwnProperty(L)&&(l=a[L],l!==void 0&&qo(e,n,L,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&Rt(e,n,S,l,a,null))}function ax(e,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,S=null,w=null,U=null,L=null;for(N in a){var V=a[N];if(a.hasOwnProperty(N)&&V!=null)switch(N){case"checked":break;case"value":break;case"defaultValue":w=V;default:l.hasOwnProperty(N)||Rt(e,n,N,null,l,V)}}for(var H in l){var N=l[H];if(V=a[H],l.hasOwnProperty(H)&&(N!=null||V!=null))switch(H){case"type":d=N;break;case"name":h=N;break;case"checked":U=N;break;case"defaultChecked":L=N;break;case"value":v=N;break;case"defaultValue":S=N;break;case"children":case"dangerouslySetInnerHTML":if(N!=null)throw Error(s(137,n));break;default:N!==V&&Rt(e,n,H,N,l,V)}}$l(e,v,S,w,U,L,d,h);return;case"select":N=v=S=H=null;for(d in a)if(w=a[d],a.hasOwnProperty(d)&&w!=null)switch(d){case"value":break;case"multiple":N=w;default:l.hasOwnProperty(d)||Rt(e,n,d,null,l,w)}for(h in l)if(d=l[h],w=a[h],l.hasOwnProperty(h)&&(d!=null||w!=null))switch(h){case"value":H=d;break;case"defaultValue":S=d;break;case"multiple":v=d;default:d!==w&&Rt(e,n,h,d,l,w)}n=S,a=v,l=N,H!=null?Xi(e,!!a,H,!1):!!l!=!!a&&(n!=null?Xi(e,!!a,n,!0):Xi(e,!!a,a?[]:"",!1));return;case"textarea":N=H=null;for(S in a)if(h=a[S],a.hasOwnProperty(S)&&h!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Rt(e,n,S,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":H=h;break;case"defaultValue":N=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Rt(e,n,v,h,l,d)}kh(e,H,N);return;case"option":for(var J in a)H=a[J],a.hasOwnProperty(J)&&H!=null&&!l.hasOwnProperty(J)&&(J==="selected"?e.selected=!1:Rt(e,n,J,null,l,H));for(w in l)H=l[w],N=a[w],l.hasOwnProperty(w)&&H!==N&&(H!=null||N!=null)&&(w==="selected"?e.selected=H&&typeof H!="function"&&typeof H!="symbol":Rt(e,n,w,H,l,N));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var at in a)H=a[at],a.hasOwnProperty(at)&&H!=null&&!l.hasOwnProperty(at)&&Rt(e,n,at,null,l,H);for(U in l)if(H=l[U],N=a[U],l.hasOwnProperty(U)&&H!==N&&(H!=null||N!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,n));break;default:Rt(e,n,U,H,l,N)}return;default:if(tu(n)){for(var zt in a)H=a[zt],a.hasOwnProperty(zt)&&H!==void 0&&!l.hasOwnProperty(zt)&&qo(e,n,zt,void 0,l,H);for(L in l)H=l[L],N=a[L],!l.hasOwnProperty(L)||H===N||H===void 0&&N===void 0||qo(e,n,L,H,l,N);return}}for(var O in a)H=a[O],a.hasOwnProperty(O)&&H!=null&&!l.hasOwnProperty(O)&&Rt(e,n,O,null,l,H);for(V in l)H=l[V],N=a[V],!l.hasOwnProperty(V)||H===N||H==null&&N==null||Rt(e,n,V,H,l,N)}function jm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function sx(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,v=h.initiatorType,S=h.duration;if(d&&S&&jm(v)){for(v=0,S=h.responseEnd,l+=1;l<a.length;l++){var w=a[l],U=w.startTime;if(U>S)break;var L=w.transferSize,V=w.initiatorType;L&&jm(V)&&(w=w.responseEnd,v+=L*(w<S?1:(S-U)/(w-U)))}if(--l,n+=8*(d+v)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Xo=null,jo=null;function il(e){return e.nodeType===9?e:e.ownerDocument}function Vm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Pm(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Vo(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Po=null;function rx(){var e=window.event;return e&&e.type==="popstate"?e===Po?!1:(Po=e,!0):(Po=null,!1)}var Fm=typeof setTimeout=="function"?setTimeout:void 0,lx=typeof clearTimeout=="function"?clearTimeout:void 0,Qm=typeof Promise=="function"?Promise:void 0,ux=typeof queueMicrotask=="function"?queueMicrotask:typeof Qm<"u"?function(e){return Qm.resolve(null).then(e).catch(ox)}:Fm;function ox(e){setTimeout(function(){throw e})}function ii(e){return e==="head"}function Zm(e,n){var a=n,l=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(h),va(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")ps(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,ps(a);for(var d=a.firstChild;d;){var v=d.nextSibling,S=d.nodeName;d[Ba]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=v}}else a==="body"&&ps(e.ownerDocument.body);a=h}while(a);va(n)}function Im(e,n){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function Fo(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Fo(a),Kl(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function cx(e,n,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Ba])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Fe(e.nextSibling),e===null)break}return null}function hx(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Fe(e.nextSibling),e===null))return null;return e}function Km(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Fe(e.nextSibling),e===null))return null;return e}function Qo(e){return e.data==="$?"||e.data==="$~"}function Zo(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function fx(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Fe(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Io=null;function Jm(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return Fe(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function $m(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function Wm(e,n,a){switch(n=il(a),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function ps(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Kl(e)}var Qe=new Map,tp=new Set;function al(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Dn=Y.d;Y.d={f:dx,r:mx,D:px,C:_x,L:yx,m:gx,X:vx,S:xx,M:bx};function dx(){var e=Dn.f(),n=Ir();return e||n}function mx(e){var n=Li(e);n!==null&&n.tag===5&&n.type==="form"?yd(n):Dn.r(e)}var ya=typeof document>"u"?null:document;function ep(e,n,a){var l=ya;if(l&&typeof n=="string"&&n){var h=Le(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),tp.has(h)||(tp.add(h),e={rel:e,crossOrigin:a,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),ue(n,"link",e),Wt(n),l.head.appendChild(n)))}}function px(e){Dn.D(e),ep("dns-prefetch",e,null)}function _x(e,n){Dn.C(e,n),ep("preconnect",e,n)}function yx(e,n,a){Dn.L(e,n,a);var l=ya;if(l&&e&&n){var h='link[rel="preload"][as="'+Le(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Le(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Le(a.imageSizes)+'"]')):h+='[href="'+Le(e)+'"]';var d=h;switch(n){case"style":d=ga(e);break;case"script":d=xa(e)}Qe.has(d)||(e=c({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),Qe.set(d,e),l.querySelector(h)!==null||n==="style"&&l.querySelector(_s(d))||n==="script"&&l.querySelector(ys(d))||(n=l.createElement("link"),ue(n,"link",e),Wt(n),l.head.appendChild(n)))}}function gx(e,n){Dn.m(e,n);var a=ya;if(a&&e){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+Le(l)+'"][href="'+Le(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=xa(e)}if(!Qe.has(d)&&(e=c({rel:"modulepreload",href:e},n),Qe.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ys(d)))return}l=a.createElement("link"),ue(l,"link",e),Wt(l),a.head.appendChild(l)}}}function xx(e,n,a){Dn.S(e,n,a);var l=ya;if(l&&e){var h=Yi(l).hoistableStyles,d=ga(e);n=n||"default";var v=h.get(d);if(!v){var S={loading:0,preload:null};if(v=l.querySelector(_s(d)))S.loading=5;else{e=c({rel:"stylesheet",href:e,"data-precedence":n},a),(a=Qe.get(d))&&Ko(e,a);var w=v=l.createElement("link");Wt(w),ue(w,"link",e),w._p=new Promise(function(U,L){w.onload=U,w.onerror=L}),w.addEventListener("load",function(){S.loading|=1}),w.addEventListener("error",function(){S.loading|=2}),S.loading|=4,sl(v,n,l)}v={type:"stylesheet",instance:v,count:1,state:S},h.set(d,v)}}}function vx(e,n){Dn.X(e,n);var a=ya;if(a&&e){var l=Yi(a).hoistableScripts,h=xa(e),d=l.get(h);d||(d=a.querySelector(ys(h)),d||(e=c({src:e,async:!0},n),(n=Qe.get(h))&&Jo(e,n),d=a.createElement("script"),Wt(d),ue(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function bx(e,n){Dn.M(e,n);var a=ya;if(a&&e){var l=Yi(a).hoistableScripts,h=xa(e),d=l.get(h);d||(d=a.querySelector(ys(h)),d||(e=c({src:e,async:!0,type:"module"},n),(n=Qe.get(h))&&Jo(e,n),d=a.createElement("script"),Wt(d),ue(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function np(e,n,a,l){var h=(h=lt.current)?al(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=ga(a.href),a=Yi(h).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=ga(a.href);var d=Yi(h).hoistableStyles,v=d.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=h.querySelector(_s(e)))&&!d._p&&(v.instance=d,v.state.loading=5),Qe.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Qe.set(e,a),d||Sx(h,e,a,v.state))),n&&l===null)throw Error(s(528,""));return v}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=xa(a),a=Yi(h).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function ga(e){return'href="'+Le(e)+'"'}function _s(e){return'link[rel="stylesheet"]['+e+"]"}function ip(e){return c({},e,{"data-precedence":e.precedence,precedence:null})}function Sx(e,n,a,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ue(n,"link",a),Wt(n),e.head.appendChild(n))}function xa(e){return'[src="'+Le(e)+'"]'}function ys(e){return"script[async]"+e}function ap(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+Le(a.href)+'"]');if(l)return n.instance=l,Wt(l),l;var h=c({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Wt(l),ue(l,"style",h),sl(l,a.precedence,e),n.instance=l;case"stylesheet":h=ga(a.href);var d=e.querySelector(_s(h));if(d)return n.state.loading|=4,n.instance=d,Wt(d),d;l=ip(a),(h=Qe.get(h))&&Ko(l,h),d=(e.ownerDocument||e).createElement("link"),Wt(d);var v=d;return v._p=new Promise(function(S,w){v.onload=S,v.onerror=w}),ue(d,"link",l),n.state.loading|=4,sl(d,a.precedence,e),n.instance=d;case"script":return d=xa(a.src),(h=e.querySelector(ys(d)))?(n.instance=h,Wt(h),h):(l=a,(h=Qe.get(d))&&(l=c({},a),Jo(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),Wt(h),ue(h,"link",l),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,sl(l,a.precedence,e));return n.instance}function sl(e,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var S=l[v];if(S.dataset.precedence===n)d=S;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function Ko(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Jo(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var rl=null;function sp(e,n,a){if(rl===null){var l=new Map,h=rl=new Map;h.set(a,l)}else h=rl,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[Ba]||d[ae]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(n)||"";v=e+v;var S=l.get(v);S?S.push(d):l.set(v,[d])}}return l}function rp(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function Ax(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function lp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Tx(e,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=ga(l.href),d=n.querySelector(_s(h));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=ll.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=d,Wt(d);return}d=n.ownerDocument||n,l=ip(l),(h=Qe.get(h))&&Ko(l,h),d=d.createElement("link"),Wt(d);var v=d;v._p=new Promise(function(S,w){v.onload=S,v.onerror=w}),ue(d,"link",l),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=ll.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var $o=0;function Mx(e,n){return e.stylesheets&&e.count===0&&ol(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&ol(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+n);0<e.imgBytes&&$o===0&&($o=62500*sx());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ol(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>$o?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function ll(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ol(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ul=null;function ol(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ul=new Map,n.forEach(wx,e),ul=null,ll.call(e))}function wx(e,n){if(!(n.state.loading&4)){var a=ul.get(e);if(a)var l=a.get(null);else{a=new Map,ul.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=n.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=ll.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var gs={$$typeof:C,Provider:null,Consumer:null,_currentValue:nt,_currentValue2:nt,_threadCount:0};function Cx(e,n,a,l,h,d,v,S,w){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Fl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fl(0),this.hiddenUpdates=Fl(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function up(e,n,a,l,h,d,v,S,w,U,L,V){return e=new Cx(e,n,a,v,w,U,L,V,S),n=1,d===!0&&(n|=24),d=ze(3,null,null,n),e.current=d,d.stateNode=e,n=zu(),n.refCount++,e.pooledCache=n,n.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:n},Gu(d),e}function op(e){return e?(e=Ki,e):Ki}function cp(e,n,a,l,h,d){h=op(h),l.context===null?l.context=h:l.pendingContext=h,l=Fn(n),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Qn(e,l,n),a!==null&&(Ae(a,e,n),Ka(a,e,n))}function hp(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Wo(e,n){hp(e,n),(e=e.alternate)&&hp(e,n)}function fp(e){if(e.tag===13||e.tag===31){var n=yi(e,67108864);n!==null&&Ae(n,e,67108864),Wo(e,67108864)}}function dp(e){if(e.tag===13||e.tag===31){var n=Ue();n=Ql(n);var a=yi(e,n);a!==null&&Ae(a,e,n),Wo(e,n)}}var cl=!0;function Ex(e,n,a,l){var h=D.T;D.T=null;var d=Y.p;try{Y.p=2,tc(e,n,a,l)}finally{Y.p=d,D.T=h}}function Rx(e,n,a,l){var h=D.T;D.T=null;var d=Y.p;try{Y.p=8,tc(e,n,a,l)}finally{Y.p=d,D.T=h}}function tc(e,n,a,l){if(cl){var h=ec(l);if(h===null)Yo(e,n,l,hl,a),pp(e,l);else if(Dx(h,e,n,a,l))l.stopPropagation();else if(pp(e,l),n&4&&-1<zx.indexOf(e)){for(;h!==null;){var d=Li(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=fi(d.pendingLanes);if(v!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;v;){var w=1<<31-Ee(v);S.entanglements[1]|=w,v&=~w}hn(d),(Tt&6)===0&&(Qr=we()+500,fs(0))}}break;case 31:case 13:S=yi(d,2),S!==null&&Ae(S,d,2),Ir(),Wo(d,2)}if(d=ec(l),d===null&&Yo(e,n,l,hl,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Yo(e,n,l,null,a)}}function ec(e){return e=nu(e),nc(e)}var hl=null;function nc(e){if(hl=null,e=ki(e),e!==null){var n=o(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=f(n),e!==null)return e;e=null}else if(a===31){if(e=m(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return hl=e,null}function mp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(pg()){case bh:return 2;case Sh:return 8;case tr:case _g:return 32;case Ah:return 268435456;default:return 32}default:return 32}}var ic=!1,ai=null,si=null,ri=null,xs=new Map,vs=new Map,li=[],zx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function pp(e,n){switch(e){case"focusin":case"focusout":ai=null;break;case"dragenter":case"dragleave":si=null;break;case"mouseover":case"mouseout":ri=null;break;case"pointerover":case"pointerout":xs.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":vs.delete(n.pointerId)}}function bs(e,n,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},n!==null&&(n=Li(n),n!==null&&fp(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function Dx(e,n,a,l,h){switch(n){case"focusin":return ai=bs(ai,e,n,a,l,h),!0;case"dragenter":return si=bs(si,e,n,a,l,h),!0;case"mouseover":return ri=bs(ri,e,n,a,l,h),!0;case"pointerover":var d=h.pointerId;return xs.set(d,bs(xs.get(d)||null,e,n,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,vs.set(d,bs(vs.get(d)||null,e,n,a,l,h)),!0}return!1}function _p(e){var n=ki(e.target);if(n!==null){var a=o(n);if(a!==null){if(n=a.tag,n===13){if(n=f(a),n!==null){e.blockedOn=n,Rh(e.priority,function(){dp(a)});return}}else if(n===31){if(n=m(a),n!==null){e.blockedOn=n,Rh(e.priority,function(){dp(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function fl(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=ec(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);eu=l,a.target.dispatchEvent(l),eu=null}else return n=Li(a),n!==null&&fp(n),e.blockedOn=a,!1;n.shift()}return!0}function yp(e,n,a){fl(e)&&a.delete(n)}function Ox(){ic=!1,ai!==null&&fl(ai)&&(ai=null),si!==null&&fl(si)&&(si=null),ri!==null&&fl(ri)&&(ri=null),xs.forEach(yp),vs.forEach(yp)}function dl(e,n){e.blockedOn===n&&(e.blockedOn=null,ic||(ic=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Ox)))}var ml=null;function gp(e){ml!==e&&(ml=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){ml===e&&(ml=null);for(var n=0;n<e.length;n+=3){var a=e[n],l=e[n+1],h=e[n+2];if(typeof l!="function"){if(nc(l||a)===null)continue;break}var d=Li(a);d!==null&&(e.splice(n,3),n-=3,to(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function va(e){function n(w){return dl(w,e)}ai!==null&&dl(ai,e),si!==null&&dl(si,e),ri!==null&&dl(ri,e),xs.forEach(n),vs.forEach(n);for(var a=0;a<li.length;a++){var l=li[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<li.length&&(a=li[0],a.blockedOn===null);)_p(a),a.blockedOn===null&&li.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[ye]||null;if(typeof d=="function")v||gp(a);else if(v){var S=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[ye]||null)S=v.formAction;else if(nc(h)!==null)continue}else S=v.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),gp(a)}}}function xp(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return h=v})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function ac(e){this._internalRoot=e}pl.prototype.render=ac.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=Ue();cp(a,l,e,n,null,null)},pl.prototype.unmount=ac.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;cp(e.current,2,null,e,null,null),Ir(),n[Ni]=null}};function pl(e){this._internalRoot=e}pl.prototype.unstable_scheduleHydration=function(e){if(e){var n=Eh();e={blockedOn:null,target:e,priority:n};for(var a=0;a<li.length&&n!==0&&n<li[a].priority;a++);li.splice(a,0,e),a===0&&_p(e)}};var vp=t.version;if(vp!=="19.2.4")throw Error(s(527,vp,"19.2.4"));Y.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=_(n),e=e!==null?x(e):null,e=e===null?null:e.stateNode,e};var Bx={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _l=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_l.isDisabled&&_l.supportsFiber)try{za=_l.inject(Bx),Ce=_l}catch{}}return Ts.createRoot=function(e,n){if(!u(e))throw Error(s(299));var a=!1,l="",h=Cd,d=Ed,v=Rd;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError)),n=up(e,1,!1,null,null,a,l,null,h,d,v,xp),e[Ni]=n.current,Lo(e),new ac(n)},Ts.hydrateRoot=function(e,n,a){if(!u(e))throw Error(s(299));var l=!1,h="",d=Cd,v=Ed,S=Rd,w=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(w=a.formState)),n=up(e,1,!0,n,a??null,l,h,w,d,v,S,xp),n.context=op(null),a=n.current,l=Ue(),l=Ql(l),h=Fn(l),h.callback=null,Qn(a,h,l),a=l,n.current.lanes=a,Oa(n,a),hn(n),e[Ni]=n.current,Lo(e),new pl(n)},Ts.version="19.2.4",Ts}var zp;function jx(){if(zp)return lc.exports;zp=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),lc.exports=Xx(),lc.exports}var Vx=jx();const Px=Is(Vx);class Fx{poolSize;workers;queue;activeWorkers;constructor(t=navigator.hardwareConcurrency>1?navigator.hardwareConcurrency-1:4){this.poolSize=t,this.workers=[],this.queue=[],this.activeWorkers=0,this.initialize()}initialize(){for(let t=0;t<this.poolSize;t++)this.workers.push(new Worker(new URL("/cossacks-replay-parser/assets/fileParser.worker-DQz6JxuW.js",import.meta.url)))}processFile(t){return new Promise((i,s)=>{const u={file:t,resolve:i,reject:s};this.queue.push(u),this.processQueue()})}processQueue(){if(this.queue.length===0)return;const t=this.workers.findIndex(o=>!o.busy);if(t===-1)return;const i=this.workers[t];if(!i)return;i.busy=!0,this.activeWorkers++;const s=this.queue.shift(),u=o=>{i.removeEventListener("message",u),s.resolve(o.data),i.terminate();const f=new Worker(new URL("/cossacks-replay-parser/assets/fileParser.worker-DQz6JxuW.js",import.meta.url));f.busy=!1,this.workers[t]=f,this.activeWorkers--,this.processQueue()};i.addEventListener("message",u),i.postMessage(s.file)}terminate(){this.workers.forEach(t=>t.terminate()),this.workers=[],this.queue=[],this.activeWorkers=0}}var hc={};var Dp;function Qx(){return Dp||(Dp=1,(function(r){(function(){var t=function(){this.init()};t.prototype={init:function(){var c=this||i;return c._counter=1e3,c._html5AudioPool=[],c.html5PoolSize=10,c._codecs={},c._howls=[],c._muted=!1,c._volume=1,c._canPlayEvent="canplaythrough",c._navigator=typeof window<"u"&&window.navigator?window.navigator:null,c.masterGain=null,c.noAudio=!1,c.usingWebAudio=!0,c.autoSuspend=!0,c.ctx=null,c.autoUnlock=!0,c._setup(),c},volume:function(c){var y=this||i;if(c=parseFloat(c),y.ctx||x(),typeof c<"u"&&c>=0&&c<=1){if(y._volume=c,y._muted)return y;y.usingWebAudio&&y.masterGain.gain.setValueAtTime(c,i.ctx.currentTime);for(var g=0;g<y._howls.length;g++)if(!y._howls[g]._webAudio)for(var b=y._howls[g]._getSoundIds(),T=0;T<b.length;T++){var M=y._howls[g]._soundById(b[T]);M&&M._node&&(M._node.volume=M._volume*c)}return y}return y._volume},mute:function(c){var y=this||i;y.ctx||x(),y._muted=c,y.usingWebAudio&&y.masterGain.gain.setValueAtTime(c?0:y._volume,i.ctx.currentTime);for(var g=0;g<y._howls.length;g++)if(!y._howls[g]._webAudio)for(var b=y._howls[g]._getSoundIds(),T=0;T<b.length;T++){var M=y._howls[g]._soundById(b[T]);M&&M._node&&(M._node.muted=c?!0:M._muted)}return y},stop:function(){for(var c=this||i,y=0;y<c._howls.length;y++)c._howls[y].stop();return c},unload:function(){for(var c=this||i,y=c._howls.length-1;y>=0;y--)c._howls[y].unload();return c.usingWebAudio&&c.ctx&&typeof c.ctx.close<"u"&&(c.ctx.close(),c.ctx=null,x()),c},codecs:function(c){return(this||i)._codecs[c.replace(/^x-/,"")]},_setup:function(){var c=this||i;if(c.state=c.ctx&&c.ctx.state||"suspended",c._autoSuspend(),!c.usingWebAudio)if(typeof Audio<"u")try{var y=new Audio;typeof y.oncanplaythrough>"u"&&(c._canPlayEvent="canplay")}catch{c.noAudio=!0}else c.noAudio=!0;try{var y=new Audio;y.muted&&(c.noAudio=!0)}catch{}return c.noAudio||c._setupCodecs(),c},_setupCodecs:function(){var c=this||i,y=null;try{y=typeof Audio<"u"?new Audio:null}catch{return c}if(!y||typeof y.canPlayType!="function")return c;var g=y.canPlayType("audio/mpeg;").replace(/^no$/,""),b=c._navigator?c._navigator.userAgent:"",T=b.match(/OPR\/(\d+)/g),M=T&&parseInt(T[0].split("/")[1],10)<33,A=b.indexOf("Safari")!==-1&&b.indexOf("Chrome")===-1,E=b.match(/Version\/(.*?) /),C=A&&E&&parseInt(E[1],10)<15;return c._codecs={mp3:!!(!M&&(g||y.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!g,opus:!!y.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!y.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!y.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(y.canPlayType('audio/wav; codecs="1"')||y.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!y.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!y.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(y.canPlayType("audio/x-m4a;")||y.canPlayType("audio/m4a;")||y.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(y.canPlayType("audio/x-m4b;")||y.canPlayType("audio/m4b;")||y.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(y.canPlayType("audio/x-mp4;")||y.canPlayType("audio/mp4;")||y.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!C&&y.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!C&&y.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!y.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(y.canPlayType("audio/x-flac;")||y.canPlayType("audio/flac;")).replace(/^no$/,"")},c},_unlockAudio:function(){var c=this||i;if(!(c._audioUnlocked||!c.ctx)){c._audioUnlocked=!1,c.autoUnlock=!1,!c._mobileUnloaded&&c.ctx.sampleRate!==44100&&(c._mobileUnloaded=!0,c.unload()),c._scratchBuffer=c.ctx.createBuffer(1,1,22050);var y=function(g){for(;c._html5AudioPool.length<c.html5PoolSize;)try{var b=new Audio;b._unlocked=!0,c._releaseHtml5Audio(b)}catch{c.noAudio=!0;break}for(var T=0;T<c._howls.length;T++)if(!c._howls[T]._webAudio)for(var M=c._howls[T]._getSoundIds(),A=0;A<M.length;A++){var E=c._howls[T]._soundById(M[A]);E&&E._node&&!E._node._unlocked&&(E._node._unlocked=!0,E._node.load())}c._autoResume();var C=c.ctx.createBufferSource();C.buffer=c._scratchBuffer,C.connect(c.ctx.destination),typeof C.start>"u"?C.noteOn(0):C.start(0),typeof c.ctx.resume=="function"&&c.ctx.resume(),C.onended=function(){C.disconnect(0),c._audioUnlocked=!0,document.removeEventListener("touchstart",y,!0),document.removeEventListener("touchend",y,!0),document.removeEventListener("click",y,!0),document.removeEventListener("keydown",y,!0);for(var B=0;B<c._howls.length;B++)c._howls[B]._emit("unlock")}};return document.addEventListener("touchstart",y,!0),document.addEventListener("touchend",y,!0),document.addEventListener("click",y,!0),document.addEventListener("keydown",y,!0),c}},_obtainHtml5Audio:function(){var c=this||i;if(c._html5AudioPool.length)return c._html5AudioPool.pop();var y=new Audio().play();return y&&typeof Promise<"u"&&(y instanceof Promise||typeof y.then=="function")&&y.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(c){var y=this||i;return c._unlocked&&y._html5AudioPool.push(c),y},_autoSuspend:function(){var c=this;if(!(!c.autoSuspend||!c.ctx||typeof c.ctx.suspend>"u"||!i.usingWebAudio)){for(var y=0;y<c._howls.length;y++)if(c._howls[y]._webAudio){for(var g=0;g<c._howls[y]._sounds.length;g++)if(!c._howls[y]._sounds[g]._paused)return c}return c._suspendTimer&&clearTimeout(c._suspendTimer),c._suspendTimer=setTimeout(function(){if(c.autoSuspend){c._suspendTimer=null,c.state="suspending";var b=function(){c.state="suspended",c._resumeAfterSuspend&&(delete c._resumeAfterSuspend,c._autoResume())};c.ctx.suspend().then(b,b)}},3e4),c}},_autoResume:function(){var c=this;if(!(!c.ctx||typeof c.ctx.resume>"u"||!i.usingWebAudio))return c.state==="running"&&c.ctx.state!=="interrupted"&&c._suspendTimer?(clearTimeout(c._suspendTimer),c._suspendTimer=null):c.state==="suspended"||c.state==="running"&&c.ctx.state==="interrupted"?(c.ctx.resume().then(function(){c.state="running";for(var y=0;y<c._howls.length;y++)c._howls[y]._emit("resume")}),c._suspendTimer&&(clearTimeout(c._suspendTimer),c._suspendTimer=null)):c.state==="suspending"&&(c._resumeAfterSuspend=!0),c}};var i=new t,s=function(c){var y=this;if(!c.src||c.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}y.init(c)};s.prototype={init:function(c){var y=this;return i.ctx||x(),y._autoplay=c.autoplay||!1,y._format=typeof c.format!="string"?c.format:[c.format],y._html5=c.html5||!1,y._muted=c.mute||!1,y._loop=c.loop||!1,y._pool=c.pool||5,y._preload=typeof c.preload=="boolean"||c.preload==="metadata"?c.preload:!0,y._rate=c.rate||1,y._sprite=c.sprite||{},y._src=typeof c.src!="string"?c.src:[c.src],y._volume=c.volume!==void 0?c.volume:1,y._xhr={method:c.xhr&&c.xhr.method?c.xhr.method:"GET",headers:c.xhr&&c.xhr.headers?c.xhr.headers:null,withCredentials:c.xhr&&c.xhr.withCredentials?c.xhr.withCredentials:!1},y._duration=0,y._state="unloaded",y._sounds=[],y._endTimers={},y._queue=[],y._playLock=!1,y._onend=c.onend?[{fn:c.onend}]:[],y._onfade=c.onfade?[{fn:c.onfade}]:[],y._onload=c.onload?[{fn:c.onload}]:[],y._onloaderror=c.onloaderror?[{fn:c.onloaderror}]:[],y._onplayerror=c.onplayerror?[{fn:c.onplayerror}]:[],y._onpause=c.onpause?[{fn:c.onpause}]:[],y._onplay=c.onplay?[{fn:c.onplay}]:[],y._onstop=c.onstop?[{fn:c.onstop}]:[],y._onmute=c.onmute?[{fn:c.onmute}]:[],y._onvolume=c.onvolume?[{fn:c.onvolume}]:[],y._onrate=c.onrate?[{fn:c.onrate}]:[],y._onseek=c.onseek?[{fn:c.onseek}]:[],y._onunlock=c.onunlock?[{fn:c.onunlock}]:[],y._onresume=[],y._webAudio=i.usingWebAudio&&!y._html5,typeof i.ctx<"u"&&i.ctx&&i.autoUnlock&&i._unlockAudio(),i._howls.push(y),y._autoplay&&y._queue.push({event:"play",action:function(){y.play()}}),y._preload&&y._preload!=="none"&&y.load(),y},load:function(){var c=this,y=null;if(i.noAudio){c._emit("loaderror",null,"No audio support.");return}typeof c._src=="string"&&(c._src=[c._src]);for(var g=0;g<c._src.length;g++){var b,T;if(c._format&&c._format[g])b=c._format[g];else{if(T=c._src[g],typeof T!="string"){c._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}b=/^data:audio\/([^;,]+);/i.exec(T),b||(b=/\.([^.]+)$/.exec(T.split("?",1)[0])),b&&(b=b[1].toLowerCase())}if(b||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),b&&i.codecs(b)){y=c._src[g];break}}if(!y){c._emit("loaderror",null,"No codec support for selected audio sources.");return}return c._src=y,c._state="loading",window.location.protocol==="https:"&&y.slice(0,5)==="http:"&&(c._html5=!0,c._webAudio=!1),new u(c),c._webAudio&&f(c),c},play:function(c,y){var g=this,b=null;if(typeof c=="number")b=c,c=null;else{if(typeof c=="string"&&g._state==="loaded"&&!g._sprite[c])return null;if(typeof c>"u"&&(c="__default",!g._playLock)){for(var T=0,M=0;M<g._sounds.length;M++)g._sounds[M]._paused&&!g._sounds[M]._ended&&(T++,b=g._sounds[M]._id);T===1?c=null:b=null}}var A=b?g._soundById(b):g._inactiveSound();if(!A)return null;if(b&&!c&&(c=A._sprite||"__default"),g._state!=="loaded"){A._sprite=c,A._ended=!1;var E=A._id;return g._queue.push({event:"play",action:function(){g.play(E)}}),E}if(b&&!A._paused)return y||g._loadQueue("play"),A._id;g._webAudio&&i._autoResume();var C=Math.max(0,A._seek>0?A._seek:g._sprite[c][0]/1e3),B=Math.max(0,(g._sprite[c][0]+g._sprite[c][1])/1e3-C),X=B*1e3/Math.abs(A._rate),P=g._sprite[c][0]/1e3,k=(g._sprite[c][0]+g._sprite[c][1])/1e3;A._sprite=c,A._ended=!1;var it=function(){A._paused=!1,A._seek=C,A._start=P,A._stop=k,A._loop=!!(A._loop||g._sprite[c][2])};if(C>=k){g._ended(A);return}var Q=A._node;if(g._webAudio){var Z=function(){g._playLock=!1,it(),g._refreshBuffer(A);var ht=A._muted||g._muted?0:A._volume;Q.gain.setValueAtTime(ht,i.ctx.currentTime),A._playStart=i.ctx.currentTime,typeof Q.bufferSource.start>"u"?A._loop?Q.bufferSource.noteGrainOn(0,C,86400):Q.bufferSource.noteGrainOn(0,C,B):A._loop?Q.bufferSource.start(0,C,86400):Q.bufferSource.start(0,C,B),X!==1/0&&(g._endTimers[A._id]=setTimeout(g._ended.bind(g,A),X)),y||setTimeout(function(){g._emit("play",A._id),g._loadQueue()},0)};i.state==="running"&&i.ctx.state!=="interrupted"?Z():(g._playLock=!0,g.once("resume",Z),g._clearTimer(A._id))}else{var I=function(){Q.currentTime=C,Q.muted=A._muted||g._muted||i._muted||Q.muted,Q.volume=A._volume*i.volume(),Q.playbackRate=A._rate;try{var ht=Q.play();if(ht&&typeof Promise<"u"&&(ht instanceof Promise||typeof ht.then=="function")?(g._playLock=!0,it(),ht.then(function(){g._playLock=!1,Q._unlocked=!0,y?g._loadQueue():g._emit("play",A._id)}).catch(function(){g._playLock=!1,g._emit("playerror",A._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),A._ended=!0,A._paused=!0})):y||(g._playLock=!1,it(),g._emit("play",A._id)),Q.playbackRate=A._rate,Q.paused){g._emit("playerror",A._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}c!=="__default"||A._loop?g._endTimers[A._id]=setTimeout(g._ended.bind(g,A),X):(g._endTimers[A._id]=function(){g._ended(A),Q.removeEventListener("ended",g._endTimers[A._id],!1)},Q.addEventListener("ended",g._endTimers[A._id],!1))}catch(Pt){g._emit("playerror",A._id,Pt)}};Q.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(Q.src=g._src,Q.load());var ot=window&&window.ejecta||!Q.readyState&&i._navigator.isCocoonJS;if(Q.readyState>=3||ot)I();else{g._playLock=!0,g._state="loading";var xt=function(){g._state="loaded",I(),Q.removeEventListener(i._canPlayEvent,xt,!1)};Q.addEventListener(i._canPlayEvent,xt,!1),g._clearTimer(A._id)}}return A._id},pause:function(c){var y=this;if(y._state!=="loaded"||y._playLock)return y._queue.push({event:"pause",action:function(){y.pause(c)}}),y;for(var g=y._getSoundIds(c),b=0;b<g.length;b++){y._clearTimer(g[b]);var T=y._soundById(g[b]);if(T&&!T._paused&&(T._seek=y.seek(g[b]),T._rateSeek=0,T._paused=!0,y._stopFade(g[b]),T._node))if(y._webAudio){if(!T._node.bufferSource)continue;typeof T._node.bufferSource.stop>"u"?T._node.bufferSource.noteOff(0):T._node.bufferSource.stop(0),y._cleanBuffer(T._node)}else(!isNaN(T._node.duration)||T._node.duration===1/0)&&T._node.pause();arguments[1]||y._emit("pause",T?T._id:null)}return y},stop:function(c,y){var g=this;if(g._state!=="loaded"||g._playLock)return g._queue.push({event:"stop",action:function(){g.stop(c)}}),g;for(var b=g._getSoundIds(c),T=0;T<b.length;T++){g._clearTimer(b[T]);var M=g._soundById(b[T]);M&&(M._seek=M._start||0,M._rateSeek=0,M._paused=!0,M._ended=!0,g._stopFade(b[T]),M._node&&(g._webAudio?M._node.bufferSource&&(typeof M._node.bufferSource.stop>"u"?M._node.bufferSource.noteOff(0):M._node.bufferSource.stop(0),g._cleanBuffer(M._node)):(!isNaN(M._node.duration)||M._node.duration===1/0)&&(M._node.currentTime=M._start||0,M._node.pause(),M._node.duration===1/0&&g._clearSound(M._node))),y||g._emit("stop",M._id))}return g},mute:function(c,y){var g=this;if(g._state!=="loaded"||g._playLock)return g._queue.push({event:"mute",action:function(){g.mute(c,y)}}),g;if(typeof y>"u")if(typeof c=="boolean")g._muted=c;else return g._muted;for(var b=g._getSoundIds(y),T=0;T<b.length;T++){var M=g._soundById(b[T]);M&&(M._muted=c,M._interval&&g._stopFade(M._id),g._webAudio&&M._node?M._node.gain.setValueAtTime(c?0:M._volume,i.ctx.currentTime):M._node&&(M._node.muted=i._muted?!0:c),g._emit("mute",M._id))}return g},volume:function(){var c=this,y=arguments,g,b;if(y.length===0)return c._volume;if(y.length===1||y.length===2&&typeof y[1]>"u"){var T=c._getSoundIds(),M=T.indexOf(y[0]);M>=0?b=parseInt(y[0],10):g=parseFloat(y[0])}else y.length>=2&&(g=parseFloat(y[0]),b=parseInt(y[1],10));var A;if(typeof g<"u"&&g>=0&&g<=1){if(c._state!=="loaded"||c._playLock)return c._queue.push({event:"volume",action:function(){c.volume.apply(c,y)}}),c;typeof b>"u"&&(c._volume=g),b=c._getSoundIds(b);for(var E=0;E<b.length;E++)A=c._soundById(b[E]),A&&(A._volume=g,y[2]||c._stopFade(b[E]),c._webAudio&&A._node&&!A._muted?A._node.gain.setValueAtTime(g,i.ctx.currentTime):A._node&&!A._muted&&(A._node.volume=g*i.volume()),c._emit("volume",A._id))}else return A=b?c._soundById(b):c._sounds[0],A?A._volume:0;return c},fade:function(c,y,g,b){var T=this;if(T._state!=="loaded"||T._playLock)return T._queue.push({event:"fade",action:function(){T.fade(c,y,g,b)}}),T;c=Math.min(Math.max(0,parseFloat(c)),1),y=Math.min(Math.max(0,parseFloat(y)),1),g=parseFloat(g),T.volume(c,b);for(var M=T._getSoundIds(b),A=0;A<M.length;A++){var E=T._soundById(M[A]);if(E){if(b||T._stopFade(M[A]),T._webAudio&&!E._muted){var C=i.ctx.currentTime,B=C+g/1e3;E._volume=c,E._node.gain.setValueAtTime(c,C),E._node.gain.linearRampToValueAtTime(y,B)}T._startFadeInterval(E,c,y,g,M[A],typeof b>"u")}}return T},_startFadeInterval:function(c,y,g,b,T,M){var A=this,E=y,C=g-y,B=Math.abs(C/.01),X=Math.max(4,B>0?b/B:b),P=Date.now();c._fadeTo=g,c._interval=setInterval(function(){var k=(Date.now()-P)/b;P=Date.now(),E+=C*k,E=Math.round(E*100)/100,C<0?E=Math.max(g,E):E=Math.min(g,E),A._webAudio?c._volume=E:A.volume(E,c._id,!0),M&&(A._volume=E),(g<y&&E<=g||g>y&&E>=g)&&(clearInterval(c._interval),c._interval=null,c._fadeTo=null,A.volume(g,c._id),A._emit("fade",c._id))},X)},_stopFade:function(c){var y=this,g=y._soundById(c);return g&&g._interval&&(y._webAudio&&g._node.gain.cancelScheduledValues(i.ctx.currentTime),clearInterval(g._interval),g._interval=null,y.volume(g._fadeTo,c),g._fadeTo=null,y._emit("fade",c)),y},loop:function(){var c=this,y=arguments,g,b,T;if(y.length===0)return c._loop;if(y.length===1)if(typeof y[0]=="boolean")g=y[0],c._loop=g;else return T=c._soundById(parseInt(y[0],10)),T?T._loop:!1;else y.length===2&&(g=y[0],b=parseInt(y[1],10));for(var M=c._getSoundIds(b),A=0;A<M.length;A++)T=c._soundById(M[A]),T&&(T._loop=g,c._webAudio&&T._node&&T._node.bufferSource&&(T._node.bufferSource.loop=g,g&&(T._node.bufferSource.loopStart=T._start||0,T._node.bufferSource.loopEnd=T._stop,c.playing(M[A])&&(c.pause(M[A],!0),c.play(M[A],!0)))));return c},rate:function(){var c=this,y=arguments,g,b;if(y.length===0)b=c._sounds[0]._id;else if(y.length===1){var T=c._getSoundIds(),M=T.indexOf(y[0]);M>=0?b=parseInt(y[0],10):g=parseFloat(y[0])}else y.length===2&&(g=parseFloat(y[0]),b=parseInt(y[1],10));var A;if(typeof g=="number"){if(c._state!=="loaded"||c._playLock)return c._queue.push({event:"rate",action:function(){c.rate.apply(c,y)}}),c;typeof b>"u"&&(c._rate=g),b=c._getSoundIds(b);for(var E=0;E<b.length;E++)if(A=c._soundById(b[E]),A){c.playing(b[E])&&(A._rateSeek=c.seek(b[E]),A._playStart=c._webAudio?i.ctx.currentTime:A._playStart),A._rate=g,c._webAudio&&A._node&&A._node.bufferSource?A._node.bufferSource.playbackRate.setValueAtTime(g,i.ctx.currentTime):A._node&&(A._node.playbackRate=g);var C=c.seek(b[E]),B=(c._sprite[A._sprite][0]+c._sprite[A._sprite][1])/1e3-C,X=B*1e3/Math.abs(A._rate);(c._endTimers[b[E]]||!A._paused)&&(c._clearTimer(b[E]),c._endTimers[b[E]]=setTimeout(c._ended.bind(c,A),X)),c._emit("rate",A._id)}}else return A=c._soundById(b),A?A._rate:c._rate;return c},seek:function(){var c=this,y=arguments,g,b;if(y.length===0)c._sounds.length&&(b=c._sounds[0]._id);else if(y.length===1){var T=c._getSoundIds(),M=T.indexOf(y[0]);M>=0?b=parseInt(y[0],10):c._sounds.length&&(b=c._sounds[0]._id,g=parseFloat(y[0]))}else y.length===2&&(g=parseFloat(y[0]),b=parseInt(y[1],10));if(typeof b>"u")return 0;if(typeof g=="number"&&(c._state!=="loaded"||c._playLock))return c._queue.push({event:"seek",action:function(){c.seek.apply(c,y)}}),c;var A=c._soundById(b);if(A)if(typeof g=="number"&&g>=0){var E=c.playing(b);E&&c.pause(b,!0),A._seek=g,A._ended=!1,c._clearTimer(b),!c._webAudio&&A._node&&!isNaN(A._node.duration)&&(A._node.currentTime=g);var C=function(){E&&c.play(b,!0),c._emit("seek",b)};if(E&&!c._webAudio){var B=function(){c._playLock?setTimeout(B,0):C()};setTimeout(B,0)}else C()}else if(c._webAudio){var X=c.playing(b)?i.ctx.currentTime-A._playStart:0,P=A._rateSeek?A._rateSeek-A._seek:0;return A._seek+(P+X*Math.abs(A._rate))}else return A._node.currentTime;return c},playing:function(c){var y=this;if(typeof c=="number"){var g=y._soundById(c);return g?!g._paused:!1}for(var b=0;b<y._sounds.length;b++)if(!y._sounds[b]._paused)return!0;return!1},duration:function(c){var y=this,g=y._duration,b=y._soundById(c);return b&&(g=y._sprite[b._sprite][1]/1e3),g},state:function(){return this._state},unload:function(){for(var c=this,y=c._sounds,g=0;g<y.length;g++)y[g]._paused||c.stop(y[g]._id),c._webAudio||(c._clearSound(y[g]._node),y[g]._node.removeEventListener("error",y[g]._errorFn,!1),y[g]._node.removeEventListener(i._canPlayEvent,y[g]._loadFn,!1),y[g]._node.removeEventListener("ended",y[g]._endFn,!1),i._releaseHtml5Audio(y[g]._node)),delete y[g]._node,c._clearTimer(y[g]._id);var b=i._howls.indexOf(c);b>=0&&i._howls.splice(b,1);var T=!0;for(g=0;g<i._howls.length;g++)if(i._howls[g]._src===c._src||c._src.indexOf(i._howls[g]._src)>=0){T=!1;break}return o&&T&&delete o[c._src],i.noAudio=!1,c._state="unloaded",c._sounds=[],c=null,null},on:function(c,y,g,b){var T=this,M=T["_on"+c];return typeof y=="function"&&M.push(b?{id:g,fn:y,once:b}:{id:g,fn:y}),T},off:function(c,y,g){var b=this,T=b["_on"+c],M=0;if(typeof y=="number"&&(g=y,y=null),y||g)for(M=0;M<T.length;M++){var A=g===T[M].id;if(y===T[M].fn&&A||!y&&A){T.splice(M,1);break}}else if(c)b["_on"+c]=[];else{var E=Object.keys(b);for(M=0;M<E.length;M++)E[M].indexOf("_on")===0&&Array.isArray(b[E[M]])&&(b[E[M]]=[])}return b},once:function(c,y,g){var b=this;return b.on(c,y,g,1),b},_emit:function(c,y,g){for(var b=this,T=b["_on"+c],M=T.length-1;M>=0;M--)(!T[M].id||T[M].id===y||c==="load")&&(setTimeout((function(A){A.call(this,y,g)}).bind(b,T[M].fn),0),T[M].once&&b.off(c,T[M].fn,T[M].id));return b._loadQueue(c),b},_loadQueue:function(c){var y=this;if(y._queue.length>0){var g=y._queue[0];g.event===c&&(y._queue.shift(),y._loadQueue()),c||g.action()}return y},_ended:function(c){var y=this,g=c._sprite;if(!y._webAudio&&c._node&&!c._node.paused&&!c._node.ended&&c._node.currentTime<c._stop)return setTimeout(y._ended.bind(y,c),100),y;var b=!!(c._loop||y._sprite[g][2]);if(y._emit("end",c._id),!y._webAudio&&b&&y.stop(c._id,!0).play(c._id),y._webAudio&&b){y._emit("play",c._id),c._seek=c._start||0,c._rateSeek=0,c._playStart=i.ctx.currentTime;var T=(c._stop-c._start)*1e3/Math.abs(c._rate);y._endTimers[c._id]=setTimeout(y._ended.bind(y,c),T)}return y._webAudio&&!b&&(c._paused=!0,c._ended=!0,c._seek=c._start||0,c._rateSeek=0,y._clearTimer(c._id),y._cleanBuffer(c._node),i._autoSuspend()),!y._webAudio&&!b&&y.stop(c._id,!0),y},_clearTimer:function(c){var y=this;if(y._endTimers[c]){if(typeof y._endTimers[c]!="function")clearTimeout(y._endTimers[c]);else{var g=y._soundById(c);g&&g._node&&g._node.removeEventListener("ended",y._endTimers[c],!1)}delete y._endTimers[c]}return y},_soundById:function(c){for(var y=this,g=0;g<y._sounds.length;g++)if(c===y._sounds[g]._id)return y._sounds[g];return null},_inactiveSound:function(){var c=this;c._drain();for(var y=0;y<c._sounds.length;y++)if(c._sounds[y]._ended)return c._sounds[y].reset();return new u(c)},_drain:function(){var c=this,y=c._pool,g=0,b=0;if(!(c._sounds.length<y)){for(b=0;b<c._sounds.length;b++)c._sounds[b]._ended&&g++;for(b=c._sounds.length-1;b>=0;b--){if(g<=y)return;c._sounds[b]._ended&&(c._webAudio&&c._sounds[b]._node&&c._sounds[b]._node.disconnect(0),c._sounds.splice(b,1),g--)}}},_getSoundIds:function(c){var y=this;if(typeof c>"u"){for(var g=[],b=0;b<y._sounds.length;b++)g.push(y._sounds[b]._id);return g}else return[c]},_refreshBuffer:function(c){var y=this;return c._node.bufferSource=i.ctx.createBufferSource(),c._node.bufferSource.buffer=o[y._src],c._panner?c._node.bufferSource.connect(c._panner):c._node.bufferSource.connect(c._node),c._node.bufferSource.loop=c._loop,c._loop&&(c._node.bufferSource.loopStart=c._start||0,c._node.bufferSource.loopEnd=c._stop||0),c._node.bufferSource.playbackRate.setValueAtTime(c._rate,i.ctx.currentTime),y},_cleanBuffer:function(c){var y=this,g=i._navigator&&i._navigator.vendor.indexOf("Apple")>=0;if(!c.bufferSource)return y;if(i._scratchBuffer&&c.bufferSource&&(c.bufferSource.onended=null,c.bufferSource.disconnect(0),g))try{c.bufferSource.buffer=i._scratchBuffer}catch{}return c.bufferSource=null,y},_clearSound:function(c){var y=/MSIE |Trident\//.test(i._navigator&&i._navigator.userAgent);y||(c.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var u=function(c){this._parent=c,this.init()};u.prototype={init:function(){var c=this,y=c._parent;return c._muted=y._muted,c._loop=y._loop,c._volume=y._volume,c._rate=y._rate,c._seek=0,c._paused=!0,c._ended=!0,c._sprite="__default",c._id=++i._counter,y._sounds.push(c),c.create(),c},create:function(){var c=this,y=c._parent,g=i._muted||c._muted||c._parent._muted?0:c._volume;return y._webAudio?(c._node=typeof i.ctx.createGain>"u"?i.ctx.createGainNode():i.ctx.createGain(),c._node.gain.setValueAtTime(g,i.ctx.currentTime),c._node.paused=!0,c._node.connect(i.masterGain)):i.noAudio||(c._node=i._obtainHtml5Audio(),c._errorFn=c._errorListener.bind(c),c._node.addEventListener("error",c._errorFn,!1),c._loadFn=c._loadListener.bind(c),c._node.addEventListener(i._canPlayEvent,c._loadFn,!1),c._endFn=c._endListener.bind(c),c._node.addEventListener("ended",c._endFn,!1),c._node.src=y._src,c._node.preload=y._preload===!0?"auto":y._preload,c._node.volume=g*i.volume(),c._node.load()),c},reset:function(){var c=this,y=c._parent;return c._muted=y._muted,c._loop=y._loop,c._volume=y._volume,c._rate=y._rate,c._seek=0,c._rateSeek=0,c._paused=!0,c._ended=!0,c._sprite="__default",c._id=++i._counter,c},_errorListener:function(){var c=this;c._parent._emit("loaderror",c._id,c._node.error?c._node.error.code:0),c._node.removeEventListener("error",c._errorFn,!1)},_loadListener:function(){var c=this,y=c._parent;y._duration=Math.ceil(c._node.duration*10)/10,Object.keys(y._sprite).length===0&&(y._sprite={__default:[0,y._duration*1e3]}),y._state!=="loaded"&&(y._state="loaded",y._emit("load"),y._loadQueue()),c._node.removeEventListener(i._canPlayEvent,c._loadFn,!1)},_endListener:function(){var c=this,y=c._parent;y._duration===1/0&&(y._duration=Math.ceil(c._node.duration*10)/10,y._sprite.__default[1]===1/0&&(y._sprite.__default[1]=y._duration*1e3),y._ended(c)),c._node.removeEventListener("ended",c._endFn,!1)}};var o={},f=function(c){var y=c._src;if(o[y]){c._duration=o[y].duration,_(c);return}if(/^data:[^;]+;base64,/.test(y)){for(var g=atob(y.split(",")[1]),b=new Uint8Array(g.length),T=0;T<g.length;++T)b[T]=g.charCodeAt(T);p(b.buffer,c)}else{var M=new XMLHttpRequest;M.open(c._xhr.method,y,!0),M.withCredentials=c._xhr.withCredentials,M.responseType="arraybuffer",c._xhr.headers&&Object.keys(c._xhr.headers).forEach(function(A){M.setRequestHeader(A,c._xhr.headers[A])}),M.onload=function(){var A=(M.status+"")[0];if(A!=="0"&&A!=="2"&&A!=="3"){c._emit("loaderror",null,"Failed loading audio file with status: "+M.status+".");return}p(M.response,c)},M.onerror=function(){c._webAudio&&(c._html5=!0,c._webAudio=!1,c._sounds=[],delete o[y],c.load())},m(M)}},m=function(c){try{c.send()}catch{c.onerror()}},p=function(c,y){var g=function(){y._emit("loaderror",null,"Decoding audio data failed.")},b=function(T){T&&y._sounds.length>0?(o[y._src]=T,_(y,T)):g()};typeof Promise<"u"&&i.ctx.decodeAudioData.length===1?i.ctx.decodeAudioData(c).then(b).catch(g):i.ctx.decodeAudioData(c,b,g)},_=function(c,y){y&&!c._duration&&(c._duration=y.duration),Object.keys(c._sprite).length===0&&(c._sprite={__default:[0,c._duration*1e3]}),c._state!=="loaded"&&(c._state="loaded",c._emit("load"),c._loadQueue())},x=function(){if(i.usingWebAudio){try{typeof AudioContext<"u"?i.ctx=new AudioContext:typeof webkitAudioContext<"u"?i.ctx=new webkitAudioContext:i.usingWebAudio=!1}catch{i.usingWebAudio=!1}i.ctx||(i.usingWebAudio=!1);var c=/iP(hone|od|ad)/.test(i._navigator&&i._navigator.platform),y=i._navigator&&i._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),g=y?parseInt(y[1],10):null;if(c&&g&&g<9){var b=/safari/.test(i._navigator&&i._navigator.userAgent.toLowerCase());i._navigator&&!b&&(i.usingWebAudio=!1)}i.usingWebAudio&&(i.masterGain=typeof i.ctx.createGain>"u"?i.ctx.createGainNode():i.ctx.createGain(),i.masterGain.gain.setValueAtTime(i._muted?0:i._volume,i.ctx.currentTime),i.masterGain.connect(i.ctx.destination)),i._setup()}};r.Howler=i,r.Howl=s,typeof Ss<"u"?(Ss.HowlerGlobal=t,Ss.Howler=i,Ss.Howl=s,Ss.Sound=u):typeof window<"u"&&(window.HowlerGlobal=t,window.Howler=i,window.Howl=s,window.Sound=u)})();(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(i){var s=this;if(!s.ctx||!s.ctx.listener)return s;for(var u=s._howls.length-1;u>=0;u--)s._howls[u].stereo(i);return s},HowlerGlobal.prototype.pos=function(i,s,u){var o=this;if(!o.ctx||!o.ctx.listener)return o;if(s=typeof s!="number"?o._pos[1]:s,u=typeof u!="number"?o._pos[2]:u,typeof i=="number")o._pos=[i,s,u],typeof o.ctx.listener.positionX<"u"?(o.ctx.listener.positionX.setTargetAtTime(o._pos[0],Howler.ctx.currentTime,.1),o.ctx.listener.positionY.setTargetAtTime(o._pos[1],Howler.ctx.currentTime,.1),o.ctx.listener.positionZ.setTargetAtTime(o._pos[2],Howler.ctx.currentTime,.1)):o.ctx.listener.setPosition(o._pos[0],o._pos[1],o._pos[2]);else return o._pos;return o},HowlerGlobal.prototype.orientation=function(i,s,u,o,f,m){var p=this;if(!p.ctx||!p.ctx.listener)return p;var _=p._orientation;if(s=typeof s!="number"?_[1]:s,u=typeof u!="number"?_[2]:u,o=typeof o!="number"?_[3]:o,f=typeof f!="number"?_[4]:f,m=typeof m!="number"?_[5]:m,typeof i=="number")p._orientation=[i,s,u,o,f,m],typeof p.ctx.listener.forwardX<"u"?(p.ctx.listener.forwardX.setTargetAtTime(i,Howler.ctx.currentTime,.1),p.ctx.listener.forwardY.setTargetAtTime(s,Howler.ctx.currentTime,.1),p.ctx.listener.forwardZ.setTargetAtTime(u,Howler.ctx.currentTime,.1),p.ctx.listener.upX.setTargetAtTime(o,Howler.ctx.currentTime,.1),p.ctx.listener.upY.setTargetAtTime(f,Howler.ctx.currentTime,.1),p.ctx.listener.upZ.setTargetAtTime(m,Howler.ctx.currentTime,.1)):p.ctx.listener.setOrientation(i,s,u,o,f,m);else return _;return p},Howl.prototype.init=(function(i){return function(s){var u=this;return u._orientation=s.orientation||[1,0,0],u._stereo=s.stereo||null,u._pos=s.pos||null,u._pannerAttr={coneInnerAngle:typeof s.coneInnerAngle<"u"?s.coneInnerAngle:360,coneOuterAngle:typeof s.coneOuterAngle<"u"?s.coneOuterAngle:360,coneOuterGain:typeof s.coneOuterGain<"u"?s.coneOuterGain:0,distanceModel:typeof s.distanceModel<"u"?s.distanceModel:"inverse",maxDistance:typeof s.maxDistance<"u"?s.maxDistance:1e4,panningModel:typeof s.panningModel<"u"?s.panningModel:"HRTF",refDistance:typeof s.refDistance<"u"?s.refDistance:1,rolloffFactor:typeof s.rolloffFactor<"u"?s.rolloffFactor:1},u._onstereo=s.onstereo?[{fn:s.onstereo}]:[],u._onpos=s.onpos?[{fn:s.onpos}]:[],u._onorientation=s.onorientation?[{fn:s.onorientation}]:[],i.call(this,s)}})(Howl.prototype.init),Howl.prototype.stereo=function(i,s){var u=this;if(!u._webAudio)return u;if(u._state!=="loaded")return u._queue.push({event:"stereo",action:function(){u.stereo(i,s)}}),u;var o=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof s>"u")if(typeof i=="number")u._stereo=i,u._pos=[i,0,0];else return u._stereo;for(var f=u._getSoundIds(s),m=0;m<f.length;m++){var p=u._soundById(f[m]);if(p)if(typeof i=="number")p._stereo=i,p._pos=[i,0,0],p._node&&(p._pannerAttr.panningModel="equalpower",(!p._panner||!p._panner.pan)&&t(p,o),o==="spatial"?typeof p._panner.positionX<"u"?(p._panner.positionX.setValueAtTime(i,Howler.ctx.currentTime),p._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),p._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):p._panner.setPosition(i,0,0):p._panner.pan.setValueAtTime(i,Howler.ctx.currentTime)),u._emit("stereo",p._id);else return p._stereo}return u},Howl.prototype.pos=function(i,s,u,o){var f=this;if(!f._webAudio)return f;if(f._state!=="loaded")return f._queue.push({event:"pos",action:function(){f.pos(i,s,u,o)}}),f;if(s=typeof s!="number"?0:s,u=typeof u!="number"?-.5:u,typeof o>"u")if(typeof i=="number")f._pos=[i,s,u];else return f._pos;for(var m=f._getSoundIds(o),p=0;p<m.length;p++){var _=f._soundById(m[p]);if(_)if(typeof i=="number")_._pos=[i,s,u],_._node&&((!_._panner||_._panner.pan)&&t(_,"spatial"),typeof _._panner.positionX<"u"?(_._panner.positionX.setValueAtTime(i,Howler.ctx.currentTime),_._panner.positionY.setValueAtTime(s,Howler.ctx.currentTime),_._panner.positionZ.setValueAtTime(u,Howler.ctx.currentTime)):_._panner.setPosition(i,s,u)),f._emit("pos",_._id);else return _._pos}return f},Howl.prototype.orientation=function(i,s,u,o){var f=this;if(!f._webAudio)return f;if(f._state!=="loaded")return f._queue.push({event:"orientation",action:function(){f.orientation(i,s,u,o)}}),f;if(s=typeof s!="number"?f._orientation[1]:s,u=typeof u!="number"?f._orientation[2]:u,typeof o>"u")if(typeof i=="number")f._orientation=[i,s,u];else return f._orientation;for(var m=f._getSoundIds(o),p=0;p<m.length;p++){var _=f._soundById(m[p]);if(_)if(typeof i=="number")_._orientation=[i,s,u],_._node&&(_._panner||(_._pos||(_._pos=f._pos||[0,0,-.5]),t(_,"spatial")),typeof _._panner.orientationX<"u"?(_._panner.orientationX.setValueAtTime(i,Howler.ctx.currentTime),_._panner.orientationY.setValueAtTime(s,Howler.ctx.currentTime),_._panner.orientationZ.setValueAtTime(u,Howler.ctx.currentTime)):_._panner.setOrientation(i,s,u)),f._emit("orientation",_._id);else return _._orientation}return f},Howl.prototype.pannerAttr=function(){var i=this,s=arguments,u,o,f;if(!i._webAudio)return i;if(s.length===0)return i._pannerAttr;if(s.length===1)if(typeof s[0]=="object")u=s[0],typeof o>"u"&&(u.pannerAttr||(u.pannerAttr={coneInnerAngle:u.coneInnerAngle,coneOuterAngle:u.coneOuterAngle,coneOuterGain:u.coneOuterGain,distanceModel:u.distanceModel,maxDistance:u.maxDistance,refDistance:u.refDistance,rolloffFactor:u.rolloffFactor,panningModel:u.panningModel}),i._pannerAttr={coneInnerAngle:typeof u.pannerAttr.coneInnerAngle<"u"?u.pannerAttr.coneInnerAngle:i._coneInnerAngle,coneOuterAngle:typeof u.pannerAttr.coneOuterAngle<"u"?u.pannerAttr.coneOuterAngle:i._coneOuterAngle,coneOuterGain:typeof u.pannerAttr.coneOuterGain<"u"?u.pannerAttr.coneOuterGain:i._coneOuterGain,distanceModel:typeof u.pannerAttr.distanceModel<"u"?u.pannerAttr.distanceModel:i._distanceModel,maxDistance:typeof u.pannerAttr.maxDistance<"u"?u.pannerAttr.maxDistance:i._maxDistance,refDistance:typeof u.pannerAttr.refDistance<"u"?u.pannerAttr.refDistance:i._refDistance,rolloffFactor:typeof u.pannerAttr.rolloffFactor<"u"?u.pannerAttr.rolloffFactor:i._rolloffFactor,panningModel:typeof u.pannerAttr.panningModel<"u"?u.pannerAttr.panningModel:i._panningModel});else return f=i._soundById(parseInt(s[0],10)),f?f._pannerAttr:i._pannerAttr;else s.length===2&&(u=s[0],o=parseInt(s[1],10));for(var m=i._getSoundIds(o),p=0;p<m.length;p++)if(f=i._soundById(m[p]),f){var _=f._pannerAttr;_={coneInnerAngle:typeof u.coneInnerAngle<"u"?u.coneInnerAngle:_.coneInnerAngle,coneOuterAngle:typeof u.coneOuterAngle<"u"?u.coneOuterAngle:_.coneOuterAngle,coneOuterGain:typeof u.coneOuterGain<"u"?u.coneOuterGain:_.coneOuterGain,distanceModel:typeof u.distanceModel<"u"?u.distanceModel:_.distanceModel,maxDistance:typeof u.maxDistance<"u"?u.maxDistance:_.maxDistance,refDistance:typeof u.refDistance<"u"?u.refDistance:_.refDistance,rolloffFactor:typeof u.rolloffFactor<"u"?u.rolloffFactor:_.rolloffFactor,panningModel:typeof u.panningModel<"u"?u.panningModel:_.panningModel};var x=f._panner;x||(f._pos||(f._pos=i._pos||[0,0,-.5]),t(f,"spatial"),x=f._panner),x.coneInnerAngle=_.coneInnerAngle,x.coneOuterAngle=_.coneOuterAngle,x.coneOuterGain=_.coneOuterGain,x.distanceModel=_.distanceModel,x.maxDistance=_.maxDistance,x.refDistance=_.refDistance,x.rolloffFactor=_.rolloffFactor,x.panningModel=_.panningModel}return i},Sound.prototype.init=(function(i){return function(){var s=this,u=s._parent;s._orientation=u._orientation,s._stereo=u._stereo,s._pos=u._pos,s._pannerAttr=u._pannerAttr,i.call(this),s._stereo?u.stereo(s._stereo):s._pos&&u.pos(s._pos[0],s._pos[1],s._pos[2],s._id)}})(Sound.prototype.init),Sound.prototype.reset=(function(i){return function(){var s=this,u=s._parent;return s._orientation=u._orientation,s._stereo=u._stereo,s._pos=u._pos,s._pannerAttr=u._pannerAttr,s._stereo?u.stereo(s._stereo):s._pos?u.pos(s._pos[0],s._pos[1],s._pos[2],s._id):s._panner&&(s._panner.disconnect(0),s._panner=void 0,u._refreshBuffer(s)),i.call(this)}})(Sound.prototype.reset);var t=function(i,s){s=s||"spatial",s==="spatial"?(i._panner=Howler.ctx.createPanner(),i._panner.coneInnerAngle=i._pannerAttr.coneInnerAngle,i._panner.coneOuterAngle=i._pannerAttr.coneOuterAngle,i._panner.coneOuterGain=i._pannerAttr.coneOuterGain,i._panner.distanceModel=i._pannerAttr.distanceModel,i._panner.maxDistance=i._pannerAttr.maxDistance,i._panner.refDistance=i._pannerAttr.refDistance,i._panner.rolloffFactor=i._pannerAttr.rolloffFactor,i._panner.panningModel=i._pannerAttr.panningModel,typeof i._panner.positionX<"u"?(i._panner.positionX.setValueAtTime(i._pos[0],Howler.ctx.currentTime),i._panner.positionY.setValueAtTime(i._pos[1],Howler.ctx.currentTime),i._panner.positionZ.setValueAtTime(i._pos[2],Howler.ctx.currentTime)):i._panner.setPosition(i._pos[0],i._pos[1],i._pos[2]),typeof i._panner.orientationX<"u"?(i._panner.orientationX.setValueAtTime(i._orientation[0],Howler.ctx.currentTime),i._panner.orientationY.setValueAtTime(i._orientation[1],Howler.ctx.currentTime),i._panner.orientationZ.setValueAtTime(i._orientation[2],Howler.ctx.currentTime)):i._panner.setOrientation(i._orientation[0],i._orientation[1],i._orientation[2])):(i._panner=Howler.ctx.createStereoPanner(),i._panner.pan.setValueAtTime(i._stereo,Howler.ctx.currentTime)),i._panner.connect(i._node),i._paused||i._parent.pause(i._id,!0).play(i._id,!0)}})()})(hc)),hc}var Q_=Qx();const Zx="/cossacks-replay-parser/assets/pop1-qxWgsBFJ.ogg",Ix=new Q_.Howl({src:[Zx],autoplay:!1,loop:!1}),Kx="/cossacks-replay-parser/assets/success1-Cbk7ILH5.wav",Jx=new Q_.Howl({src:[Kx],autoplay:!1,loop:!1}),$x="CossacksReplayDB",Wx=1,ci="fileResults";function sh(){return new Promise((r,t)=>{const i=indexedDB.open($x,Wx);i.onupgradeneeded=()=>{const s=i.result;s.objectStoreNames.contains(ci)||s.createObjectStore(ci,{keyPath:"key"})},i.onsuccess=()=>{r(i.result)},i.onerror=()=>{t(i.error??new Error("Failed to open IndexedDB"))}})}async function tv(r){const t=await sh();return new Promise((i,s)=>{const u=t.transaction([ci],"readwrite"),o=u.objectStore(ci),f=o.clear();f.onsuccess=()=>{for(const m of r)o.add(m)},f.onerror=()=>{s(f.error??new Error("Failed to clear object store"))},u.oncomplete=()=>i(),u.onerror=()=>s(u.error??new Error("Transaction failed")),u.onabort=()=>s(u.error??new Error("Transaction aborted"))})}async function ev(){const r=await sh();return new Promise((t,i)=>{const o=r.transaction([ci],"readonly").objectStore(ci).getAll();o.onsuccess=()=>{t(o.result??[])},o.onerror=()=>{i(o.error??new Error("Failed to read from object store"))}})}async function nv(){const r=await sh();return new Promise((t,i)=>{const o=r.transaction([ci],"readwrite").objectStore(ci).clear();o.onsuccess=()=>t(),o.onerror=()=>i(o.error??new Error("Failed to clear object store"))})}const iv="/cossacks-replay-parser/assets/cropped_steam_image-uLoAzA_9.png",av=[199259,287176,364459,351554,318040,336746,303090,359812],sv=r=>{try{return`https://steamcommunity.com/profiles/${(76561197960265728n+BigInt(String(r))).toString()}`}catch{return""}},rv=r=>r.filter(t=>{const i=t?.bexists===!0,s=t.lanid===0,o=(t?.name?String(t.name):"").trim().toLowerCase()==="name";return i&&!(s&&o)}),lv=r=>r?.players?rv(r.players):[],uv=({color:r})=>tt.jsx("span",{className:`color-chip color-${r}`}),Z_=({steamId:r,name:t,className:i=""})=>{if(!r||String(r)==="0")return null;const s=sv(r);return s.length>0?tt.jsxs("span",{className:"steam-link-wrapper",children:[tt.jsxs("a",{href:s,target:"_blank",rel:"noopener noreferrer",title:t?`Open Steam profile: ${t}`:"Open Steam profile",className:`steam-link ${i}`,children:[tt.jsx("img",{src:iv,alt:"Steam",className:"steam-icon"}),t?tt.jsx("span",{children:t}):null]}),tt.jsxs("div",{className:"steam-tooltip",role:"tooltip",children:[tt.jsx("div",{className:"steam-tooltip-arrow"}),tt.jsx("div",{className:"steam-tooltip-content",children:s})]})]}):null},ov=({lanid:r,playerName:t,lanidNames:i})=>{const s=i[r]??[],u=s.length>1,o=s.filter(f=>f!==t);return tt.jsxs("span",{className:"lanid-badge-wrapper",children:[tt.jsx("span",{className:`lanid-badge${u?" lanid-badge--multi":""}`,children:r}),av.includes(r)&&tt.jsx("span",{className:"cheater-badge",title:"Reported cheater",children:" cheater"}),u&&tt.jsxs("span",{className:"lanid-tooltip",role:"tooltip",children:[tt.jsx("div",{className:"lanid-tooltip-title",children:"Other names"}),tt.jsx("ul",{className:"lanid-tooltip-list",children:o.map(f=>tt.jsx("li",{children:f},f))})]})]})},cv=({player:r})=>{const t=[{id:r?.si1,name:r?.sn1},{id:r?.si2,name:r?.sn2},{id:r?.si3,name:r?.sn3}],i=r?.sic,s=i!=null?String(i):"0",u=t.filter(o=>o.id!=null&&String(o.id)!=="0"&&String(o.id)!==s).map((o,f)=>tt.jsx(Z_,{steamId:o.id,name:o.name,className:"steam-link--extra"},`ex-${f}`)).filter(Boolean);return u.length?tt.jsxs("span",{className:"steam-extras",title:"Extra Steam links",children:[tt.jsx("span",{className:"steam-extras__pill",children:"extra"}),u]}):null},hv=({player:r,lanidNames:t})=>tt.jsxs("li",{children:[r.name," (id: ",r.id,")",tt.jsx(Z_,{steamId:r?.sic,name:r?.snc})," ","lanid"," ",tt.jsx(ov,{lanid:r.lanid,playerName:r.name,lanidNames:t}),tt.jsx(cv,{player:r})," team ",r.team," color"," ",r.color,tt.jsx(uv,{color:r.color})]},`${r.id}-${r.lanid}-${r.color}`),fv=({data:r,lanidNames:t})=>{const i=lv(r);return i.length?tt.jsx("ul",{className:"players-list",children:i.map(s=>tt.jsx(hv,{player:s,lanidNames:t},`${s.id}-${s.lanid}-${s.color}`))}):tt.jsx(tt.Fragment,{children:""})},dv=()=>{const[r,t]=oe.useState(null);return oe.useEffect(()=>{console.time("worker-pool-init");const i=new Fx;return t(i),console.timeEnd("worker-pool-init"),()=>{i.terminate()}},[]),r},mv=r=>{console.time("build-lanid-names");const t=r.flatMap(i=>i.data?.players??[]).reduce((i,{lanid:s,name:u})=>{if(!u)return i;const o=String(s);return i[o]?.includes(u)||(i[o]??=[]).push(u),i},{});return console.timeEnd("build-lanid-names"),t},pv=()=>{const[r,t]=oe.useState([]),[i,s]=oe.useState({});oe.useEffect(()=>{console.time("load-results"),ev().then(p=>{const _=Array.isArray(p)?p:[];t(_.sort((x,c)=>(c.uploadedAt??0)-(x.uploadedAt??0))),s(mv(_)),console.timeEnd("load-results")}).catch(p=>{console.error("Failed to load results",p),console.timeEnd("load-results")})},[]);const u=oe.useCallback(p=>{console.time("save-results"),tv(p).then(()=>console.timeEnd("save-results")).catch(_=>{console.error("Failed to save results",_),console.timeEnd("save-results")})},[]),o=oe.useCallback((p,_)=>{console.time(`add-result-${_}`);const x=p.data?.players;x?.length&&s(c=>{const y={...c};return x.forEach(({lanid:g,name:b})=>{if(!b)return;const T=String(g);y[T]?.includes(b)||(y[T]??=[]).push(b)}),y}),t(c=>{const y=p.data?.gameId,g=y?c.findIndex(A=>A.data?.gameId===y):-1,b={key:y||`${_}-${Date.now()}-${Math.random()}`,uploadedAt:Date.now(),fileName:_,data:p.data??null,status:p.status},M=(g!==-1?c.map((A,E)=>E===g?b:A):[b,...c]).sort((A,E)=>(E.uploadedAt??0)-(A.uploadedAt??0));return u(M),console.timeEnd(`add-result-${_}`),M})},[u]),f=oe.useCallback((p,_)=>{console.time(`add-error-result-${p}`),t(x=>{const c=[{key:`${p}-${Date.now()}-${Math.random()}`,uploadedAt:_,fileName:p,data:null,status:"error"},...x].sort((y,g)=>(g.uploadedAt??0)-(y.uploadedAt??0));return u(c),console.timeEnd(`add-error-result-${p}`),c})},[u]),m=oe.useCallback(async()=>{console.time("clear-all-results"),await nv().catch(p=>console.error("Failed to clear results",p)),t([]),s({}),console.timeEnd("clear-all-results")},[]);return{fileResults:r,lanidNames:i,addResult:o,addErrorResult:f,clearAllResults:m}},Op=async(r,t,i,s,u,o)=>{const f=o?"parallel":"sequential";console.time(`process-batch-${f}-${t.length}-files`);const m=async p=>{console.time(`process-file-${p.name}`);try{const _=await r.processFile(p);s(_,_.fileName),Ix.play()}catch(_){console.error("Error processing file:",_),u(p.name,i)}finally{console.timeEnd(`process-file-${p.name}`)}};if(o)await Promise.allSettled(t.map(m));else for(const p of t)await m(p);console.timeEnd(`process-batch-${f}-${t.length}-files`)},_v=({fileInputRef:r,loading:t,onFileSelect:i})=>tt.jsxs(tt.Fragment,{children:[tt.jsx("input",{type:"file",ref:r,accept:".rep",multiple:!0,onChange:s=>{const u=s.target.files;u?.length&&(i(u),s.target.value="")},className:"hidden-input"}),tt.jsx("button",{className:"btn",disabled:t,onClick:()=>r.current?.click(),children:"Select Files to Parse"})]}),yv=({loading:r,hasResults:t,onClearHistory:i})=>tt.jsx("button",{className:"btn btn-danger",disabled:r||!t,onClick:i,title:t?"Clear saved results":"No history to clear",children:"Clear History"}),gv=({fileResults:r,lanidNames:t})=>{console.time("render-results-table");const i=tt.jsxs("table",{className:"results-table",children:[tt.jsx("thead",{children:tt.jsxs("tr",{children:[tt.jsx("th",{children:"#"}),tt.jsx("th",{children:"File Name"}),tt.jsx("th",{children:"Players"}),tt.jsx("th",{children:"Status"})]})}),tt.jsx("tbody",{children:r.map((s,u)=>tt.jsxs("tr",{children:[tt.jsx("td",{children:u+1}),tt.jsx("td",{children:s.fileName}),tt.jsx("td",{children:tt.jsx(fv,{data:s.data,lanidNames:t})}),tt.jsx("td",{children:s.status})]},s.key))})]});return console.timeEnd("render-results-table"),i};function xv(){const r=dv(),{fileResults:t,lanidNames:i,addResult:s,addErrorResult:u,clearAllResults:o}=pv(),[f,m]=oe.useState(!1),p=oe.useRef(null),_=oe.useCallback(async x=>{if(console.time("total-process-files"),!r)return console.error("Worker pool not initialized");m(!0);try{console.time("file-sorting");const c=30*1024*1024,y=Date.now(),[g,b]=Array.from(x).reduce(([T,M],A)=>A.size<=c?[[...T,A],M]:[T,[...M,A]],[[],[]]);console.timeEnd("file-sorting"),await Promise.all([Op(r,g,y,s,u,!0),Op(r,b,y,s,u,!1)]),Jx.play()}finally{m(!1),p.current&&(p.current.value=""),console.timeEnd("total-process-files")}},[r,s,u]);return tt.jsx("div",{className:"app-container",children:tt.jsxs("div",{className:"main-card card",children:[tt.jsx("h2",{children:"Cossacks 3 Replays Parser"}),tt.jsx("p",{children:"Upload `.rep` files to parse and display player info."}),tt.jsxs("div",{className:"stack stack--full",children:[tt.jsx(_v,{fileInputRef:p,loading:f,onFileSelect:_}),tt.jsx(yv,{loading:f,hasResults:t.length>0,onClearHistory:o}),f&&tt.jsx("div",{className:"spinner","aria-live":"polite",children:"Processing files..."}),t.length>0&&tt.jsx(gv,{fileResults:t,lanidNames:i})]})]})})}var Dl={exports:{}},vv=Dl.exports,Bp;function bv(){return Bp||(Bp=1,(function(r,t){(function(i,s){r.exports=s()})(vv,function(){var i=function(){function s(g){return f.appendChild(g.dom),g}function u(g){for(var b=0;b<f.children.length;b++)f.children[b].style.display=b===g?"block":"none";o=g}var o=0,f=document.createElement("div");f.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",f.addEventListener("click",function(g){g.preventDefault(),u(++o%f.children.length)},!1);var m=(performance||Date).now(),p=m,_=0,x=s(new i.Panel("FPS","#0ff","#002")),c=s(new i.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var y=s(new i.Panel("MB","#f08","#201"));return u(0),{REVISION:16,dom:f,addPanel:s,showPanel:u,begin:function(){m=(performance||Date).now()},end:function(){_++;var g=(performance||Date).now();if(c.update(g-m,200),g>p+1e3&&(x.update(1e3*_/(g-p),100),p=g,_=0,y)){var b=performance.memory;y.update(b.usedJSHeapSize/1048576,b.jsHeapSizeLimit/1048576)}return g},update:function(){m=this.end()},domElement:f,setMode:u}};return i.Panel=function(s,u,o){var f=1/0,m=0,p=Math.round,_=p(window.devicePixelRatio||1),x=80*_,c=48*_,y=3*_,g=2*_,b=3*_,T=15*_,M=74*_,A=30*_,E=document.createElement("canvas");E.width=x,E.height=c,E.style.cssText="width:80px;height:48px";var C=E.getContext("2d");return C.font="bold "+9*_+"px Helvetica,Arial,sans-serif",C.textBaseline="top",C.fillStyle=o,C.fillRect(0,0,x,c),C.fillStyle=u,C.fillText(s,y,g),C.fillRect(b,T,M,A),C.fillStyle=o,C.globalAlpha=.9,C.fillRect(b,T,M,A),{dom:E,update:function(B,X){f=Math.min(f,B),m=Math.max(m,B),C.fillStyle=o,C.globalAlpha=1,C.fillRect(0,0,x,T),C.fillStyle=u,C.fillText(p(B)+" "+s+" ("+p(f)+"-"+p(m)+")",y,g),C.drawImage(E,b+_,T,M-_,A,b,T,M-_,A),C.fillRect(b+M-_,T,_,A),C.fillStyle=o,C.globalAlpha=.9,C.fillRect(b+M-_,T,_,p((1-B/X)*A))}}},i})})(Dl)),Dl.exports}var Sv=bv();const Av=Is(Sv);function Tv(){return oe.useEffect(()=>{const r=new Av;r.showPanel(0),document.body.appendChild(r.dom);const t=()=>{r.begin(),r.end(),requestAnimationFrame(t)};return requestAnimationFrame(t),()=>{document.body.removeChild(r.dom)}},[]),null}const Mv="modulepreload",wv=function(r){return"/cossacks-replay-parser/"+r},Gp={},ks=function(t,i,s){let u=Promise.resolve();if(i&&i.length>0){let p=function(_){return Promise.all(_.map(x=>Promise.resolve(x).then(c=>({status:"fulfilled",value:c}),c=>({status:"rejected",reason:c}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),m=f?.nonce||f?.getAttribute("nonce");u=p(i.map(_=>{if(_=wv(_),_ in Gp)return;Gp[_]=!0;const x=_.endsWith(".css"),c=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${_}"]${c}`))return;const y=document.createElement("link");if(y.rel=x?"stylesheet":Mv,x||(y.as="script"),y.crossOrigin="",y.href=_,m&&y.setAttribute("nonce",m),document.head.appendChild(y),x)return new Promise((g,b)=>{y.addEventListener("load",g),y.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${_}`)))})}))}function o(f){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=f,window.dispatchEvent(m),!m.defaultPrevented)throw f}return u.then(f=>{for(const m of f||[])m.status==="rejected"&&o(m.reason);return t().catch(o)})};var vt=(r=>(r.Application="application",r.WebGLPipes="webgl-pipes",r.WebGLPipesAdaptor="webgl-pipes-adaptor",r.WebGLSystem="webgl-system",r.WebGPUPipes="webgpu-pipes",r.WebGPUPipesAdaptor="webgpu-pipes-adaptor",r.WebGPUSystem="webgpu-system",r.CanvasSystem="canvas-system",r.CanvasPipesAdaptor="canvas-pipes-adaptor",r.CanvasPipes="canvas-pipes",r.Asset="asset",r.LoadParser="load-parser",r.ResolveParser="resolve-parser",r.CacheParser="cache-parser",r.DetectionParser="detection-parser",r.MaskEffect="mask-effect",r.BlendMode="blend-mode",r.TextureSource="texture-source",r.Environment="environment",r.ShapeBuilder="shape-builder",r.Batcher="batcher",r))(vt||{});const Lc=r=>{if(typeof r=="function"||typeof r=="object"&&r.extension){if(!r.extension)throw new Error("Extension class must have an extension object");r={...typeof r.extension!="object"?{type:r.extension}:r.extension,ref:r}}if(typeof r=="object")r={...r};else throw new Error("Invalid extension type");return typeof r.type=="string"&&(r.type=[r.type]),r},yl=(r,t)=>Lc(r).priority??t,ie={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...r){return r.map(Lc).forEach(t=>{t.type.forEach(i=>this._removeHandlers[i]?.(t))}),this},add(...r){return r.map(Lc).forEach(t=>{t.type.forEach(i=>{const s=this._addHandlers,u=this._queue;s[i]?s[i]?.(t):(u[i]=u[i]||[],u[i]?.push(t))})}),this},handle(r,t,i){const s=this._addHandlers,u=this._removeHandlers;if(s[r]||u[r])throw new Error(`Extension type ${r} already has a handler`);s[r]=t,u[r]=i;const o=this._queue;return o[r]&&(o[r]?.forEach(f=>t(f)),delete o[r]),this},handleByMap(r,t){return this.handle(r,i=>{i.name&&(t[i.name]=i.ref)},i=>{i.name&&delete t[i.name]})},handleByNamedList(r,t,i=-1){return this.handle(r,s=>{t.findIndex(o=>o.name===s.name)>=0||(t.push({name:s.name,value:s.ref}),t.sort((o,f)=>yl(f.value,i)-yl(o.value,i)))},s=>{const u=t.findIndex(o=>o.name===s.name);u!==-1&&t.splice(u,1)})},handleByList(r,t,i=-1){return this.handle(r,s=>{t.includes(s.ref)||(t.push(s.ref),t.sort((u,o)=>yl(o,i)-yl(u,i)))},s=>{const u=t.indexOf(s.ref);u!==-1&&t.splice(u,1)})},mixin(r,...t){for(const i of t)Object.defineProperties(r.prototype,Object.getOwnPropertyDescriptors(i))}},Cv={extension:{type:vt.Environment,name:"browser",priority:-1},test:()=>!0,load:async()=>{await ks(()=>import("./browserAll-D-gOCgfh.js"),__vite__mapDeps([0,1]))}},Ev={extension:{type:vt.Environment,name:"webworker",priority:0},test:()=>typeof self<"u"&&self.WorkerGlobalScope!==void 0,load:async()=>{await ks(()=>import("./webworkerAll-CxTGYGrH.js"),[])}};class fe{constructor(t,i,s){this._x=i||0,this._y=s||0,this._observer=t}clone(t){return new fe(t??this._observer,this._x,this._y)}set(t=0,i=t){return(this._x!==t||this._y!==i)&&(this._x=t,this._y=i,this._observer._onUpdate(this)),this}copyFrom(t){return(this._x!==t.x||this._y!==t.y)&&(this._x=t.x,this._y=t.y,this._observer._onUpdate(this)),this}copyTo(t){return t.set(this._x,this._y),t}equals(t){return t.x===this._x&&t.y===this._y}toString(){return`[pixi.js/math:ObservablePoint x=${this._x} y=${this._y} scope=${this._observer}]`}get x(){return this._x}set x(t){this._x!==t&&(this._x=t,this._observer._onUpdate(this))}get y(){return this._y}set y(t){this._y!==t&&(this._y=t,this._observer._onUpdate(this))}}var fc={exports:{}},Up;function Rv(){return Up||(Up=1,(function(r){var t=Object.prototype.hasOwnProperty,i="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(i=!1));function u(p,_,x){this.fn=p,this.context=_,this.once=x||!1}function o(p,_,x,c,y){if(typeof x!="function")throw new TypeError("The listener must be a function");var g=new u(x,c||p,y),b=i?i+_:_;return p._events[b]?p._events[b].fn?p._events[b]=[p._events[b],g]:p._events[b].push(g):(p._events[b]=g,p._eventsCount++),p}function f(p,_){--p._eventsCount===0?p._events=new s:delete p._events[_]}function m(){this._events=new s,this._eventsCount=0}m.prototype.eventNames=function(){var _=[],x,c;if(this._eventsCount===0)return _;for(c in x=this._events)t.call(x,c)&&_.push(i?c.slice(1):c);return Object.getOwnPropertySymbols?_.concat(Object.getOwnPropertySymbols(x)):_},m.prototype.listeners=function(_){var x=i?i+_:_,c=this._events[x];if(!c)return[];if(c.fn)return[c.fn];for(var y=0,g=c.length,b=new Array(g);y<g;y++)b[y]=c[y].fn;return b},m.prototype.listenerCount=function(_){var x=i?i+_:_,c=this._events[x];return c?c.fn?1:c.length:0},m.prototype.emit=function(_,x,c,y,g,b){var T=i?i+_:_;if(!this._events[T])return!1;var M=this._events[T],A=arguments.length,E,C;if(M.fn){switch(M.once&&this.removeListener(_,M.fn,void 0,!0),A){case 1:return M.fn.call(M.context),!0;case 2:return M.fn.call(M.context,x),!0;case 3:return M.fn.call(M.context,x,c),!0;case 4:return M.fn.call(M.context,x,c,y),!0;case 5:return M.fn.call(M.context,x,c,y,g),!0;case 6:return M.fn.call(M.context,x,c,y,g,b),!0}for(C=1,E=new Array(A-1);C<A;C++)E[C-1]=arguments[C];M.fn.apply(M.context,E)}else{var B=M.length,X;for(C=0;C<B;C++)switch(M[C].once&&this.removeListener(_,M[C].fn,void 0,!0),A){case 1:M[C].fn.call(M[C].context);break;case 2:M[C].fn.call(M[C].context,x);break;case 3:M[C].fn.call(M[C].context,x,c);break;case 4:M[C].fn.call(M[C].context,x,c,y);break;default:if(!E)for(X=1,E=new Array(A-1);X<A;X++)E[X-1]=arguments[X];M[C].fn.apply(M[C].context,E)}}return!0},m.prototype.on=function(_,x,c){return o(this,_,x,c,!1)},m.prototype.once=function(_,x,c){return o(this,_,x,c,!0)},m.prototype.removeListener=function(_,x,c,y){var g=i?i+_:_;if(!this._events[g])return this;if(!x)return f(this,g),this;var b=this._events[g];if(b.fn)b.fn===x&&(!y||b.once)&&(!c||b.context===c)&&f(this,g);else{for(var T=0,M=[],A=b.length;T<A;T++)(b[T].fn!==x||y&&!b[T].once||c&&b[T].context!==c)&&M.push(b[T]);M.length?this._events[g]=M.length===1?M[0]:M:f(this,g)}return this},m.prototype.removeAllListeners=function(_){var x;return _?(x=i?i+_:_,this._events[x]&&f(this,x)):(this._events=new s,this._eventsCount=0),this},m.prototype.off=m.prototype.removeListener,m.prototype.addListener=m.prototype.on,m.prefixed=i,m.EventEmitter=m,r.exports=m})(fc)),fc.exports}var zv=Rv();const Hn=Is(zv),Dv=Math.PI*2,Ov=180/Math.PI,Bv=Math.PI/180;class ce{constructor(t=0,i=0){this.x=0,this.y=0,this.x=t,this.y=i}clone(){return new ce(this.x,this.y)}copyFrom(t){return this.set(t.x,t.y),this}copyTo(t){return t.set(this.x,this.y),t}equals(t){return t.x===this.x&&t.y===this.y}set(t=0,i=t){return this.x=t,this.y=i,this}toString(){return`[pixi.js/math:Point x=${this.x} y=${this.y}]`}static get shared(){return dc.x=0,dc.y=0,dc}}const dc=new ce;class gt{constructor(t=1,i=0,s=0,u=1,o=0,f=0){this.array=null,this.a=t,this.b=i,this.c=s,this.d=u,this.tx=o,this.ty=f}fromArray(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]}set(t,i,s,u,o,f){return this.a=t,this.b=i,this.c=s,this.d=u,this.tx=o,this.ty=f,this}toArray(t,i){this.array||(this.array=new Float32Array(9));const s=i||this.array;return t?(s[0]=this.a,s[1]=this.b,s[2]=0,s[3]=this.c,s[4]=this.d,s[5]=0,s[6]=this.tx,s[7]=this.ty,s[8]=1):(s[0]=this.a,s[1]=this.c,s[2]=this.tx,s[3]=this.b,s[4]=this.d,s[5]=this.ty,s[6]=0,s[7]=0,s[8]=1),s}apply(t,i){i=i||new ce;const s=t.x,u=t.y;return i.x=this.a*s+this.c*u+this.tx,i.y=this.b*s+this.d*u+this.ty,i}applyInverse(t,i){i=i||new ce;const s=this.a,u=this.b,o=this.c,f=this.d,m=this.tx,p=this.ty,_=1/(s*f+o*-u),x=t.x,c=t.y;return i.x=f*_*x+-o*_*c+(p*o-m*f)*_,i.y=s*_*c+-u*_*x+(-p*s+m*u)*_,i}translate(t,i){return this.tx+=t,this.ty+=i,this}scale(t,i){return this.a*=t,this.d*=i,this.c*=t,this.b*=i,this.tx*=t,this.ty*=i,this}rotate(t){const i=Math.cos(t),s=Math.sin(t),u=this.a,o=this.c,f=this.tx;return this.a=u*i-this.b*s,this.b=u*s+this.b*i,this.c=o*i-this.d*s,this.d=o*s+this.d*i,this.tx=f*i-this.ty*s,this.ty=f*s+this.ty*i,this}append(t){const i=this.a,s=this.b,u=this.c,o=this.d;return this.a=t.a*i+t.b*u,this.b=t.a*s+t.b*o,this.c=t.c*i+t.d*u,this.d=t.c*s+t.d*o,this.tx=t.tx*i+t.ty*u+this.tx,this.ty=t.tx*s+t.ty*o+this.ty,this}appendFrom(t,i){const s=t.a,u=t.b,o=t.c,f=t.d,m=t.tx,p=t.ty,_=i.a,x=i.b,c=i.c,y=i.d;return this.a=s*_+u*c,this.b=s*x+u*y,this.c=o*_+f*c,this.d=o*x+f*y,this.tx=m*_+p*c+i.tx,this.ty=m*x+p*y+i.ty,this}setTransform(t,i,s,u,o,f,m,p,_){return this.a=Math.cos(m+_)*o,this.b=Math.sin(m+_)*o,this.c=-Math.sin(m-p)*f,this.d=Math.cos(m-p)*f,this.tx=t-(s*this.a+u*this.c),this.ty=i-(s*this.b+u*this.d),this}prepend(t){const i=this.tx;if(t.a!==1||t.b!==0||t.c!==0||t.d!==1){const s=this.a,u=this.c;this.a=s*t.a+this.b*t.c,this.b=s*t.b+this.b*t.d,this.c=u*t.a+this.d*t.c,this.d=u*t.b+this.d*t.d}return this.tx=i*t.a+this.ty*t.c+t.tx,this.ty=i*t.b+this.ty*t.d+t.ty,this}decompose(t){const i=this.a,s=this.b,u=this.c,o=this.d,f=t.pivot,m=-Math.atan2(-u,o),p=Math.atan2(s,i),_=Math.abs(m+p);return _<1e-5||Math.abs(Dv-_)<1e-5?(t.rotation=p,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=m,t.skew.y=p),t.scale.x=Math.sqrt(i*i+s*s),t.scale.y=Math.sqrt(u*u+o*o),t.position.x=this.tx+(f.x*i+f.y*u),t.position.y=this.ty+(f.x*s+f.y*o),t}invert(){const t=this.a,i=this.b,s=this.c,u=this.d,o=this.tx,f=t*u-i*s;return this.a=u/f,this.b=-i/f,this.c=-s/f,this.d=t/f,this.tx=(s*this.ty-u*o)/f,this.ty=-(t*this.ty-i*o)/f,this}isIdentity(){return this.a===1&&this.b===0&&this.c===0&&this.d===1&&this.tx===0&&this.ty===0}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const t=new gt;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyTo(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyFrom(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this}equals(t){return t.a===this.a&&t.b===this.b&&t.c===this.c&&t.d===this.d&&t.tx===this.tx&&t.ty===this.ty}toString(){return`[pixi.js:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return Uv.identity()}static get shared(){return Gv.identity()}}const Gv=new gt,Uv=new gt,Di=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Oi=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Bi=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Gi=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Yc=[],I_=[],gl=Math.sign;function Hv(){for(let r=0;r<16;r++){const t=[];Yc.push(t);for(let i=0;i<16;i++){const s=gl(Di[r]*Di[i]+Bi[r]*Oi[i]),u=gl(Oi[r]*Di[i]+Gi[r]*Oi[i]),o=gl(Di[r]*Bi[i]+Bi[r]*Gi[i]),f=gl(Oi[r]*Bi[i]+Gi[r]*Gi[i]);for(let m=0;m<16;m++)if(Di[m]===s&&Oi[m]===u&&Bi[m]===o&&Gi[m]===f){t.push(m);break}}}for(let r=0;r<16;r++){const t=new gt;t.set(Di[r],Oi[r],Bi[r],Gi[r],0,0),I_.push(t)}}Hv();const Bt={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:r=>Di[r],uY:r=>Oi[r],vX:r=>Bi[r],vY:r=>Gi[r],inv:r=>r&8?r&15:-r&7,add:(r,t)=>Yc[r][t],sub:(r,t)=>Yc[r][Bt.inv(t)],rotate180:r=>r^4,isVertical:r=>(r&3)===2,byDirection:(r,t)=>Math.abs(r)*2<=Math.abs(t)?t>=0?Bt.S:Bt.N:Math.abs(t)*2<=Math.abs(r)?r>0?Bt.E:Bt.W:t>0?r>0?Bt.SE:Bt.SW:r>0?Bt.NE:Bt.NW,matrixAppendRotationInv:(r,t,i=0,s=0,u=0,o=0)=>{const f=I_[Bt.inv(t)],m=f.a,p=f.b,_=f.c,x=f.d,c=i-Math.min(0,m*u,_*o,m*u+_*o),y=s-Math.min(0,p*u,x*o,p*u+x*o),g=r.a,b=r.b,T=r.c,M=r.d;r.a=m*g+p*T,r.b=m*b+p*M,r.c=_*g+x*T,r.d=_*b+x*M,r.tx=c*g+y*T+r.tx,r.ty=c*b+y*M+r.ty},transformRectCoords:(r,t,i,s)=>{const{x:u,y:o,width:f,height:m}=r,{x:p,y:_,width:x,height:c}=t;return i===Bt.E?(s.set(u+p,o+_,f,m),s):i===Bt.S?s.set(x-o-m+p,u+_,m,f):i===Bt.W?s.set(x-u-f+p,c-o-m+_,f,m):i===Bt.N?s.set(o+p,c-u-f+_,m,f):s.set(u+p,o+_,f,m)}},xl=[new ce,new ce,new ce,new ce];class ne{constructor(t=0,i=0,s=0,u=0){this.type="rectangle",this.x=Number(t),this.y=Number(i),this.width=Number(s),this.height=Number(u)}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}isEmpty(){return this.left===this.right||this.top===this.bottom}static get EMPTY(){return new ne(0,0,0,0)}clone(){return new ne(this.x,this.y,this.width,this.height)}copyFromBounds(t){return this.x=t.minX,this.y=t.minY,this.width=t.maxX-t.minX,this.height=t.maxY-t.minY,this}copyFrom(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this}copyTo(t){return t.copyFrom(this),t}contains(t,i){return this.width<=0||this.height<=0?!1:t>=this.x&&t<this.x+this.width&&i>=this.y&&i<this.y+this.height}strokeContains(t,i,s,u=.5){const{width:o,height:f}=this;if(o<=0||f<=0)return!1;const m=this.x,p=this.y,_=s*(1-u),x=s-_,c=m-_,y=m+o+_,g=p-_,b=p+f+_,T=m+x,M=m+o-x,A=p+x,E=p+f-x;return t>=c&&t<=y&&i>=g&&i<=b&&!(t>T&&t<M&&i>A&&i<E)}intersects(t,i){if(!i){const it=this.x<t.x?t.x:this.x;if((this.right>t.right?t.right:this.right)<=it)return!1;const Z=this.y<t.y?t.y:this.y;return(this.bottom>t.bottom?t.bottom:this.bottom)>Z}const s=this.left,u=this.right,o=this.top,f=this.bottom;if(u<=s||f<=o)return!1;const m=xl[0].set(t.left,t.top),p=xl[1].set(t.left,t.bottom),_=xl[2].set(t.right,t.top),x=xl[3].set(t.right,t.bottom);if(_.x<=m.x||p.y<=m.y)return!1;const c=Math.sign(i.a*i.d-i.b*i.c);if(c===0||(i.apply(m,m),i.apply(p,p),i.apply(_,_),i.apply(x,x),Math.max(m.x,p.x,_.x,x.x)<=s||Math.min(m.x,p.x,_.x,x.x)>=u||Math.max(m.y,p.y,_.y,x.y)<=o||Math.min(m.y,p.y,_.y,x.y)>=f))return!1;const y=c*(p.y-m.y),g=c*(m.x-p.x),b=y*s+g*o,T=y*u+g*o,M=y*s+g*f,A=y*u+g*f;if(Math.max(b,T,M,A)<=y*m.x+g*m.y||Math.min(b,T,M,A)>=y*x.x+g*x.y)return!1;const E=c*(m.y-_.y),C=c*(_.x-m.x),B=E*s+C*o,X=E*u+C*o,P=E*s+C*f,k=E*u+C*f;return!(Math.max(B,X,P,k)<=E*m.x+C*m.y||Math.min(B,X,P,k)>=E*x.x+C*x.y)}pad(t=0,i=t){return this.x-=t,this.y-=i,this.width+=t*2,this.height+=i*2,this}fit(t){const i=Math.max(this.x,t.x),s=Math.min(this.x+this.width,t.x+t.width),u=Math.max(this.y,t.y),o=Math.min(this.y+this.height,t.y+t.height);return this.x=i,this.width=Math.max(s-i,0),this.y=u,this.height=Math.max(o-u,0),this}ceil(t=1,i=.001){const s=Math.ceil((this.x+this.width-i)*t)/t,u=Math.ceil((this.y+this.height-i)*t)/t;return this.x=Math.floor((this.x+i)*t)/t,this.y=Math.floor((this.y+i)*t)/t,this.width=s-this.x,this.height=u-this.y,this}scale(t,i=t){return this.x*=t,this.y*=i,this.width*=t,this.height*=i,this}enlarge(t){const i=Math.min(this.x,t.x),s=Math.max(this.x+this.width,t.x+t.width),u=Math.min(this.y,t.y),o=Math.max(this.y+this.height,t.y+t.height);return this.x=i,this.width=s-i,this.y=u,this.height=o-u,this}getBounds(t){return t||(t=new ne),t.copyFrom(this),t}containsRect(t){if(this.width<=0||this.height<=0)return!1;const i=t.x,s=t.y,u=t.x+t.width,o=t.y+t.height;return i>=this.x&&i<this.x+this.width&&s>=this.y&&s<this.y+this.height&&u>=this.x&&u<this.x+this.width&&o>=this.y&&o<this.y+this.height}set(t,i,s,u){return this.x=t,this.y=i,this.width=s,this.height=u,this}toString(){return`[pixi.js/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}const mc={default:-1};function Vt(r="default"){return mc[r]===void 0&&(mc[r]=-1),++mc[r]}const Hp=new Set,Kt="8.0.0",Nv="8.3.4",Ta={quiet:!1,noColor:!1},Ct=((r,t,i=3)=>{if(Ta.quiet||Hp.has(t))return;let s=new Error().stack;const u=`${t}
Deprecated since v${r}`,o=typeof console.groupCollapsed=="function"&&!Ta.noColor;typeof s>"u"?console.warn("PixiJS Deprecation Warning: ",u):(s=s.split(`
`).splice(i).join(`
`),o?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",u),console.warn(s),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",u),console.warn(s))),Hp.add(t)});Object.defineProperties(Ct,{quiet:{get:()=>Ta.quiet,set:r=>{Ta.quiet=r},enumerable:!0,configurable:!1},noColor:{get:()=>Ta.noColor,set:r=>{Ta.noColor=r},enumerable:!0,configurable:!1}});const K_=()=>{};function Np(r){return r+=r===0?1:0,--r,r|=r>>>1,r|=r>>>2,r|=r>>>4,r|=r>>>8,r|=r>>>16,r+1}function kp(r){return!(r&r-1)&&!!r}function J_(r){const t={};for(const i in r)r[i]!==void 0&&(t[i]=r[i]);return t}const Lp=Object.create(null);function kv(r){const t=Lp[r];return t===void 0&&(Lp[r]=Vt("resource")),t}const $_=class W_ extends Hn{constructor(t={}){super(),this._resourceType="textureSampler",this._touched=0,this._maxAnisotropy=1,this.destroyed=!1,t={...W_.defaultOptions,...t},this.addressMode=t.addressMode,this.addressModeU=t.addressModeU??this.addressModeU,this.addressModeV=t.addressModeV??this.addressModeV,this.addressModeW=t.addressModeW??this.addressModeW,this.scaleMode=t.scaleMode,this.magFilter=t.magFilter??this.magFilter,this.minFilter=t.minFilter??this.minFilter,this.mipmapFilter=t.mipmapFilter??this.mipmapFilter,this.lodMinClamp=t.lodMinClamp,this.lodMaxClamp=t.lodMaxClamp,this.compare=t.compare,this.maxAnisotropy=t.maxAnisotropy??1}set addressMode(t){this.addressModeU=t,this.addressModeV=t,this.addressModeW=t}get addressMode(){return this.addressModeU}set wrapMode(t){Ct(Kt,"TextureStyle.wrapMode is now TextureStyle.addressMode"),this.addressMode=t}get wrapMode(){return this.addressMode}set scaleMode(t){this.magFilter=t,this.minFilter=t,this.mipmapFilter=t}get scaleMode(){return this.magFilter}set maxAnisotropy(t){this._maxAnisotropy=Math.min(t,16),this._maxAnisotropy>1&&(this.scaleMode="linear")}get maxAnisotropy(){return this._maxAnisotropy}get _resourceId(){return this._sharedResourceId||this._generateResourceId()}update(){this._sharedResourceId=null,this.emit("change",this)}_generateResourceId(){const t=`${this.addressModeU}-${this.addressModeV}-${this.addressModeW}-${this.magFilter}-${this.minFilter}-${this.mipmapFilter}-${this.lodMinClamp}-${this.lodMaxClamp}-${this.compare}-${this._maxAnisotropy}`;return this._sharedResourceId=kv(t),this._resourceId}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this.removeAllListeners()}};$_.defaultOptions={addressMode:"clamp-to-edge",scaleMode:"linear"};let ty=$_;const ey=class ny extends Hn{constructor(t={}){super(),this.options=t,this._gpuData=Object.create(null),this._gcLastUsed=-1,this.uid=Vt("textureSource"),this._resourceType="textureSource",this._resourceId=Vt("resource"),this.uploadMethodId="unknown",this._resolution=1,this.pixelWidth=1,this.pixelHeight=1,this.width=1,this.height=1,this.sampleCount=1,this.mipLevelCount=1,this.autoGenerateMipmaps=!1,this.format="rgba8unorm",this.dimension="2d",this.viewDimension="2d",this.arrayLayerCount=1,this.antialias=!1,this._touched=0,this._batchTick=-1,this._textureBindLocation=-1,t={...ny.defaultOptions,...t},this.label=t.label??"",this.resource=t.resource,this.autoGarbageCollect=t.autoGarbageCollect,this._resolution=t.resolution,t.width?this.pixelWidth=t.width*this._resolution:this.pixelWidth=this.resource?this.resourceWidth??1:1,t.height?this.pixelHeight=t.height*this._resolution:this.pixelHeight=this.resource?this.resourceHeight??1:1,this.width=this.pixelWidth/this._resolution,this.height=this.pixelHeight/this._resolution,this.format=t.format,this.dimension=t.dimensions,this.viewDimension=t.viewDimension??t.dimensions,this.arrayLayerCount=t.arrayLayerCount,this.mipLevelCount=t.mipLevelCount,this.autoGenerateMipmaps=t.autoGenerateMipmaps,this.sampleCount=t.sampleCount,this.antialias=t.antialias,this.alphaMode=t.alphaMode,this.style=new ty(J_(t)),this.destroyed=!1,this._refreshPOT()}get source(){return this}get style(){return this._style}set style(t){this.style!==t&&(this._style?.off("change",this._onStyleChange,this),this._style=t,this._style?.on("change",this._onStyleChange,this),this._onStyleChange())}set maxAnisotropy(t){this._style.maxAnisotropy=t}get maxAnisotropy(){return this._style.maxAnisotropy}get addressMode(){return this._style.addressMode}set addressMode(t){this._style.addressMode=t}get repeatMode(){return this._style.addressMode}set repeatMode(t){this._style.addressMode=t}get magFilter(){return this._style.magFilter}set magFilter(t){this._style.magFilter=t}get minFilter(){return this._style.minFilter}set minFilter(t){this._style.minFilter=t}get mipmapFilter(){return this._style.mipmapFilter}set mipmapFilter(t){this._style.mipmapFilter=t}get lodMinClamp(){return this._style.lodMinClamp}set lodMinClamp(t){this._style.lodMinClamp=t}get lodMaxClamp(){return this._style.lodMaxClamp}set lodMaxClamp(t){this._style.lodMaxClamp=t}_onStyleChange(){this.emit("styleChange",this)}update(){if(this.resource){const t=this._resolution;if(this.resize(this.resourceWidth/t,this.resourceHeight/t))return}this.emit("update",this)}destroy(){this.destroyed=!0,this.unload(),this.emit("destroy",this),this._style&&(this._style.destroy(),this._style=null),this.uploadMethodId=null,this.resource=null,this.removeAllListeners()}unload(){this._resourceId=Vt("resource"),this.emit("change",this),this.emit("unload",this);for(const t in this._gpuData)this._gpuData[t]?.destroy?.();this._gpuData=Object.create(null)}get resourceWidth(){const{resource:t}=this;return t.naturalWidth||t.videoWidth||t.displayWidth||t.width}get resourceHeight(){const{resource:t}=this;return t.naturalHeight||t.videoHeight||t.displayHeight||t.height}get resolution(){return this._resolution}set resolution(t){this._resolution!==t&&(this._resolution=t,this.width=this.pixelWidth/t,this.height=this.pixelHeight/t)}resize(t,i,s){s||(s=this._resolution),t||(t=this.width),i||(i=this.height);const u=Math.round(t*s),o=Math.round(i*s);return this.width=u/s,this.height=o/s,this._resolution=s,this.pixelWidth===u&&this.pixelHeight===o?!1:(this._refreshPOT(),this.pixelWidth=u,this.pixelHeight=o,this.emit("resize",this),this._resourceId=Vt("resource"),this.emit("change",this),!0)}updateMipmaps(){this.autoGenerateMipmaps&&this.mipLevelCount>1&&this.emit("updateMipmaps",this)}set wrapMode(t){this._style.wrapMode=t}get wrapMode(){return this._style.wrapMode}set scaleMode(t){this._style.scaleMode=t}get scaleMode(){return this._style.scaleMode}_refreshPOT(){this.isPowerOfTwo=kp(this.pixelWidth)&&kp(this.pixelHeight)}static test(t){throw new Error("Unimplemented")}};ey.defaultOptions={resolution:1,format:"bgra8unorm",alphaMode:"premultiply-alpha-on-upload",dimensions:"2d",viewDimension:"2d",arrayLayerCount:1,mipLevelCount:1,autoGenerateMipmaps:!1,sampleCount:1,antialias:!1,autoGarbageCollect:!1};let sn=ey;class rh extends sn{constructor(t){const i=t.resource||new Float32Array(t.width*t.height*4);let s=t.format;s||(i instanceof Float32Array?s="rgba32float":i instanceof Int32Array||i instanceof Uint32Array?s="rgba32uint":i instanceof Int16Array||i instanceof Uint16Array?s="rgba16uint":(i instanceof Int8Array,s="bgra8unorm")),super({...t,resource:i,format:s}),this.uploadMethodId="buffer"}static test(t){return t instanceof Int8Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array}}rh.extension=vt.TextureSource;const Yp=new gt;class Lv{constructor(t,i){this.mapCoord=new gt,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,typeof i>"u"?this.clampMargin=t.width<10?0:.5:this.clampMargin=i,this.isSimple=!1,this.texture=t}get texture(){return this._texture}set texture(t){this.texture!==t&&(this._texture?.removeListener("update",this.update,this),this._texture=t,this._texture.addListener("update",this.update,this),this.update())}multiplyUvs(t,i){i===void 0&&(i=t);const s=this.mapCoord;for(let u=0;u<t.length;u+=2){const o=t[u],f=t[u+1];i[u]=o*s.a+f*s.c+s.tx,i[u+1]=o*s.b+f*s.d+s.ty}return i}update(){const t=this._texture;this._updateID++;const i=t.uvs;this.mapCoord.set(i.x1-i.x0,i.y1-i.y0,i.x3-i.x0,i.y3-i.y0,i.x0,i.y0);const s=t.orig,u=t.trim;u&&(Yp.set(s.width/u.width,0,0,s.height/u.height,-u.x/u.width,-u.y/u.height),this.mapCoord.append(Yp));const o=t.source,f=this.uClampFrame,m=this.clampMargin/o._resolution,p=this.clampOffset/o._resolution;return f[0]=(t.frame.x+m+p)/o.width,f[1]=(t.frame.y+m+p)/o.height,f[2]=(t.frame.x+t.frame.width-m+p)/o.width,f[3]=(t.frame.y+t.frame.height-m+p)/o.height,this.uClampOffset[0]=this.clampOffset/o.pixelWidth,this.uClampOffset[1]=this.clampOffset/o.pixelHeight,this.isSimple=t.frame.width===o.width&&t.frame.height===o.height&&t.rotate===0,!0}}class Dt extends Hn{constructor({source:t,label:i,frame:s,orig:u,trim:o,defaultAnchor:f,defaultBorders:m,rotate:p,dynamic:_}={}){if(super(),this.uid=Vt("texture"),this.uvs={x0:0,y0:0,x1:0,y1:0,x2:0,y2:0,x3:0,y3:0},this.frame=new ne,this.noFrame=!1,this.dynamic=!1,this.isTexture=!0,this.label=i,this.source=t?.source??new sn,this.noFrame=!s,s)this.frame.copyFrom(s);else{const{width:x,height:c}=this._source;this.frame.width=x,this.frame.height=c}this.orig=u||this.frame,this.trim=o,this.rotate=p??0,this.defaultAnchor=f,this.defaultBorders=m,this.destroyed=!1,this.dynamic=_||!1,this.updateUvs()}set source(t){this._source&&this._source.off("resize",this.update,this),this._source=t,t.on("resize",this.update,this),this.emit("update",this)}get source(){return this._source}get textureMatrix(){return this._textureMatrix||(this._textureMatrix=new Lv(this)),this._textureMatrix}get width(){return this.orig.width}get height(){return this.orig.height}updateUvs(){const{uvs:t,frame:i}=this,{width:s,height:u}=this._source,o=i.x/s,f=i.y/u,m=i.width/s,p=i.height/u;let _=this.rotate;if(_){const x=m/2,c=p/2,y=o+x,g=f+c;_=Bt.add(_,Bt.NW),t.x0=y+x*Bt.uX(_),t.y0=g+c*Bt.uY(_),_=Bt.add(_,2),t.x1=y+x*Bt.uX(_),t.y1=g+c*Bt.uY(_),_=Bt.add(_,2),t.x2=y+x*Bt.uX(_),t.y2=g+c*Bt.uY(_),_=Bt.add(_,2),t.x3=y+x*Bt.uX(_),t.y3=g+c*Bt.uY(_)}else t.x0=o,t.y0=f,t.x1=o+m,t.y1=f,t.x2=o+m,t.y2=f+p,t.x3=o,t.y3=f+p}destroy(t=!1){this._source&&(this._source.off("resize",this.update,this),t&&(this._source.destroy(),this._source=null)),this._textureMatrix=null,this.destroyed=!0,this.emit("destroy",this),this.removeAllListeners()}update(){this.noFrame&&(this.frame.width=this._source.width,this.frame.height=this._source.height),this.updateUvs(),this.emit("update",this)}get baseTexture(){return Ct(Kt,"Texture.baseTexture is now Texture.source"),this._source}}Dt.EMPTY=new Dt({label:"EMPTY",source:new sn({label:"EMPTY"})});Dt.EMPTY.destroy=K_;Dt.WHITE=new Dt({source:new rh({resource:new Uint8Array([255,255,255,255]),width:1,height:1,alphaMode:"premultiply-alpha-on-upload",label:"WHITE"}),label:"WHITE"});Dt.WHITE.destroy=K_;function Yv(r,t,i){const{width:s,height:u}=i.orig,o=i.trim;if(o){const f=o.width,m=o.height;r.minX=o.x-t._x*s,r.maxX=r.minX+f,r.minY=o.y-t._y*u,r.maxY=r.minY+m}else r.minX=-t._x*s,r.maxX=r.minX+s,r.minY=-t._y*u,r.maxY=r.minY+u}const qp=new gt;class an{constructor(t=1/0,i=1/0,s=-1/0,u=-1/0){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=qp,this.minX=t,this.minY=i,this.maxX=s,this.maxY=u}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}get rectangle(){this._rectangle||(this._rectangle=new ne);const t=this._rectangle;return this.minX>this.maxX||this.minY>this.maxY?(t.x=0,t.y=0,t.width=0,t.height=0):t.copyFromBounds(this),t}clear(){return this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=qp,this}set(t,i,s,u){this.minX=t,this.minY=i,this.maxX=s,this.maxY=u}addFrame(t,i,s,u,o){o||(o=this.matrix);const f=o.a,m=o.b,p=o.c,_=o.d,x=o.tx,c=o.ty;let y=this.minX,g=this.minY,b=this.maxX,T=this.maxY,M=f*t+p*i+x,A=m*t+_*i+c;M<y&&(y=M),A<g&&(g=A),M>b&&(b=M),A>T&&(T=A),M=f*s+p*i+x,A=m*s+_*i+c,M<y&&(y=M),A<g&&(g=A),M>b&&(b=M),A>T&&(T=A),M=f*t+p*u+x,A=m*t+_*u+c,M<y&&(y=M),A<g&&(g=A),M>b&&(b=M),A>T&&(T=A),M=f*s+p*u+x,A=m*s+_*u+c,M<y&&(y=M),A<g&&(g=A),M>b&&(b=M),A>T&&(T=A),this.minX=y,this.minY=g,this.maxX=b,this.maxY=T}addRect(t,i){this.addFrame(t.x,t.y,t.x+t.width,t.y+t.height,i)}addBounds(t,i){this.addFrame(t.minX,t.minY,t.maxX,t.maxY,i)}addBoundsMask(t){this.minX=this.minX>t.minX?this.minX:t.minX,this.minY=this.minY>t.minY?this.minY:t.minY,this.maxX=this.maxX<t.maxX?this.maxX:t.maxX,this.maxY=this.maxY<t.maxY?this.maxY:t.maxY}applyMatrix(t){const i=this.minX,s=this.minY,u=this.maxX,o=this.maxY,{a:f,b:m,c:p,d:_,tx:x,ty:c}=t;let y=f*i+p*s+x,g=m*i+_*s+c;this.minX=y,this.minY=g,this.maxX=y,this.maxY=g,y=f*u+p*s+x,g=m*u+_*s+c,this.minX=y<this.minX?y:this.minX,this.minY=g<this.minY?g:this.minY,this.maxX=y>this.maxX?y:this.maxX,this.maxY=g>this.maxY?g:this.maxY,y=f*i+p*o+x,g=m*i+_*o+c,this.minX=y<this.minX?y:this.minX,this.minY=g<this.minY?g:this.minY,this.maxX=y>this.maxX?y:this.maxX,this.maxY=g>this.maxY?g:this.maxY,y=f*u+p*o+x,g=m*u+_*o+c,this.minX=y<this.minX?y:this.minX,this.minY=g<this.minY?g:this.minY,this.maxX=y>this.maxX?y:this.maxX,this.maxY=g>this.maxY?g:this.maxY}fit(t){return this.minX<t.left&&(this.minX=t.left),this.maxX>t.right&&(this.maxX=t.right),this.minY<t.top&&(this.minY=t.top),this.maxY>t.bottom&&(this.maxY=t.bottom),this}fitBounds(t,i,s,u){return this.minX<t&&(this.minX=t),this.maxX>i&&(this.maxX=i),this.minY<s&&(this.minY=s),this.maxY>u&&(this.maxY=u),this}pad(t,i=t){return this.minX-=t,this.maxX+=t,this.minY-=i,this.maxY+=i,this}ceil(){return this.minX=Math.floor(this.minX),this.minY=Math.floor(this.minY),this.maxX=Math.ceil(this.maxX),this.maxY=Math.ceil(this.maxY),this}clone(){return new an(this.minX,this.minY,this.maxX,this.maxY)}scale(t,i=t){return this.minX*=t,this.minY*=i,this.maxX*=t,this.maxY*=i,this}get x(){return this.minX}set x(t){const i=this.maxX-this.minX;this.minX=t,this.maxX=t+i}get y(){return this.minY}set y(t){const i=this.maxY-this.minY;this.minY=t,this.maxY=t+i}get width(){return this.maxX-this.minX}set width(t){this.maxX=this.minX+t}get height(){return this.maxY-this.minY}set height(t){this.maxY=this.minY+t}get left(){return this.minX}get right(){return this.maxX}get top(){return this.minY}get bottom(){return this.maxY}get isPositive(){return this.maxX-this.minX>0&&this.maxY-this.minY>0}get isValid(){return this.minX+this.minY!==1/0}addVertexData(t,i,s,u){let o=this.minX,f=this.minY,m=this.maxX,p=this.maxY;u||(u=this.matrix);const _=u.a,x=u.b,c=u.c,y=u.d,g=u.tx,b=u.ty;for(let T=i;T<s;T+=2){const M=t[T],A=t[T+1],E=_*M+c*A+g,C=x*M+y*A+b;o=E<o?E:o,f=C<f?C:f,m=E>m?E:m,p=C>p?C:p}this.minX=o,this.minY=f,this.maxX=m,this.maxY=p}containsPoint(t,i){return this.minX<=t&&this.minY<=i&&this.maxX>=t&&this.maxY>=i}toString(){return`[pixi.js:Bounds minX=${this.minX} minY=${this.minY} maxX=${this.maxX} maxY=${this.maxY} width=${this.width} height=${this.height}]`}copyFrom(t){return this.minX=t.minX,this.minY=t.minY,this.maxX=t.maxX,this.maxY=t.maxY,this}}var qv={grad:.9,turn:360,rad:360/(2*Math.PI)},On=function(r){return typeof r=="string"?r.length>0:typeof r=="number"},ee=function(r,t,i){return t===void 0&&(t=0),i===void 0&&(i=Math.pow(10,t)),Math.round(i*r)/i+0},Ze=function(r,t,i){return t===void 0&&(t=0),i===void 0&&(i=1),r>i?i:r>t?r:t},iy=function(r){return(r=isFinite(r)?r%360:0)>0?r:r+360},Xp=function(r){return{r:Ze(r.r,0,255),g:Ze(r.g,0,255),b:Ze(r.b,0,255),a:Ze(r.a)}},pc=function(r){return{r:ee(r.r),g:ee(r.g),b:ee(r.b),a:ee(r.a,3)}},Xv=/^#([0-9a-f]{3,8})$/i,vl=function(r){var t=r.toString(16);return t.length<2?"0"+t:t},ay=function(r){var t=r.r,i=r.g,s=r.b,u=r.a,o=Math.max(t,i,s),f=o-Math.min(t,i,s),m=f?o===t?(i-s)/f:o===i?2+(s-t)/f:4+(t-i)/f:0;return{h:60*(m<0?m+6:m),s:o?f/o*100:0,v:o/255*100,a:u}},sy=function(r){var t=r.h,i=r.s,s=r.v,u=r.a;t=t/360*6,i/=100,s/=100;var o=Math.floor(t),f=s*(1-i),m=s*(1-(t-o)*i),p=s*(1-(1-t+o)*i),_=o%6;return{r:255*[s,m,f,f,p,s][_],g:255*[p,s,s,m,f,f][_],b:255*[f,f,p,s,s,m][_],a:u}},jp=function(r){return{h:iy(r.h),s:Ze(r.s,0,100),l:Ze(r.l,0,100),a:Ze(r.a)}},Vp=function(r){return{h:ee(r.h),s:ee(r.s),l:ee(r.l),a:ee(r.a,3)}},Pp=function(r){return sy((i=(t=r).s,{h:t.h,s:(i*=((s=t.l)<50?s:100-s)/100)>0?2*i/(s+i)*100:0,v:s+i,a:t.a}));var t,i,s},Ls=function(r){return{h:(t=ay(r)).h,s:(u=(200-(i=t.s))*(s=t.v)/100)>0&&u<200?i*s/100/(u<=100?u:200-u)*100:0,l:u/2,a:t.a};var t,i,s,u},jv=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Vv=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Pv=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Fv=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,qc={string:[[function(r){var t=Xv.exec(r);return t?(r=t[1]).length<=4?{r:parseInt(r[0]+r[0],16),g:parseInt(r[1]+r[1],16),b:parseInt(r[2]+r[2],16),a:r.length===4?ee(parseInt(r[3]+r[3],16)/255,2):1}:r.length===6||r.length===8?{r:parseInt(r.substr(0,2),16),g:parseInt(r.substr(2,2),16),b:parseInt(r.substr(4,2),16),a:r.length===8?ee(parseInt(r.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(r){var t=Pv.exec(r)||Fv.exec(r);return t?t[2]!==t[4]||t[4]!==t[6]?null:Xp({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:t[7]===void 0?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(r){var t=jv.exec(r)||Vv.exec(r);if(!t)return null;var i,s,u=jp({h:(i=t[1],s=t[2],s===void 0&&(s="deg"),Number(i)*(qv[s]||1)),s:Number(t[3]),l:Number(t[4]),a:t[5]===void 0?1:Number(t[5])/(t[6]?100:1)});return Pp(u)},"hsl"]],object:[[function(r){var t=r.r,i=r.g,s=r.b,u=r.a,o=u===void 0?1:u;return On(t)&&On(i)&&On(s)?Xp({r:Number(t),g:Number(i),b:Number(s),a:Number(o)}):null},"rgb"],[function(r){var t=r.h,i=r.s,s=r.l,u=r.a,o=u===void 0?1:u;if(!On(t)||!On(i)||!On(s))return null;var f=jp({h:Number(t),s:Number(i),l:Number(s),a:Number(o)});return Pp(f)},"hsl"],[function(r){var t=r.h,i=r.s,s=r.v,u=r.a,o=u===void 0?1:u;if(!On(t)||!On(i)||!On(s))return null;var f=(function(m){return{h:iy(m.h),s:Ze(m.s,0,100),v:Ze(m.v,0,100),a:Ze(m.a)}})({h:Number(t),s:Number(i),v:Number(s),a:Number(o)});return sy(f)},"hsv"]]},Fp=function(r,t){for(var i=0;i<t.length;i++){var s=t[i][0](r);if(s)return[s,t[i][1]]}return[null,void 0]},Qv=function(r){return typeof r=="string"?Fp(r.trim(),qc.string):typeof r=="object"&&r!==null?Fp(r,qc.object):[null,void 0]},_c=function(r,t){var i=Ls(r);return{h:i.h,s:Ze(i.s+100*t,0,100),l:i.l,a:i.a}},yc=function(r){return(299*r.r+587*r.g+114*r.b)/1e3/255},Qp=function(r,t){var i=Ls(r);return{h:i.h,s:i.s,l:Ze(i.l+100*t,0,100),a:i.a}},Xc=(function(){function r(t){this.parsed=Qv(t)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return r.prototype.isValid=function(){return this.parsed!==null},r.prototype.brightness=function(){return ee(yc(this.rgba),2)},r.prototype.isDark=function(){return yc(this.rgba)<.5},r.prototype.isLight=function(){return yc(this.rgba)>=.5},r.prototype.toHex=function(){return t=pc(this.rgba),i=t.r,s=t.g,u=t.b,f=(o=t.a)<1?vl(ee(255*o)):"","#"+vl(i)+vl(s)+vl(u)+f;var t,i,s,u,o,f},r.prototype.toRgb=function(){return pc(this.rgba)},r.prototype.toRgbString=function(){return t=pc(this.rgba),i=t.r,s=t.g,u=t.b,(o=t.a)<1?"rgba("+i+", "+s+", "+u+", "+o+")":"rgb("+i+", "+s+", "+u+")";var t,i,s,u,o},r.prototype.toHsl=function(){return Vp(Ls(this.rgba))},r.prototype.toHslString=function(){return t=Vp(Ls(this.rgba)),i=t.h,s=t.s,u=t.l,(o=t.a)<1?"hsla("+i+", "+s+"%, "+u+"%, "+o+")":"hsl("+i+", "+s+"%, "+u+"%)";var t,i,s,u,o},r.prototype.toHsv=function(){return t=ay(this.rgba),{h:ee(t.h),s:ee(t.s),v:ee(t.v),a:ee(t.a,3)};var t},r.prototype.invert=function(){return fn({r:255-(t=this.rgba).r,g:255-t.g,b:255-t.b,a:t.a});var t},r.prototype.saturate=function(t){return t===void 0&&(t=.1),fn(_c(this.rgba,t))},r.prototype.desaturate=function(t){return t===void 0&&(t=.1),fn(_c(this.rgba,-t))},r.prototype.grayscale=function(){return fn(_c(this.rgba,-1))},r.prototype.lighten=function(t){return t===void 0&&(t=.1),fn(Qp(this.rgba,t))},r.prototype.darken=function(t){return t===void 0&&(t=.1),fn(Qp(this.rgba,-t))},r.prototype.rotate=function(t){return t===void 0&&(t=15),this.hue(this.hue()+t)},r.prototype.alpha=function(t){return typeof t=="number"?fn({r:(i=this.rgba).r,g:i.g,b:i.b,a:t}):ee(this.rgba.a,3);var i},r.prototype.hue=function(t){var i=Ls(this.rgba);return typeof t=="number"?fn({h:t,s:i.s,l:i.l,a:i.a}):ee(i.h)},r.prototype.isEqual=function(t){return this.toHex()===fn(t).toHex()},r})(),fn=function(r){return r instanceof Xc?r:new Xc(r)},Zp=[],Zv=function(r){r.forEach(function(t){Zp.indexOf(t)<0&&(t(Xc,qc),Zp.push(t))})};function Iv(r,t){var i={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},s={};for(var u in i)s[i[u]]=u;var o={};r.prototype.toName=function(f){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var m,p,_=s[this.toHex()];if(_)return _;if(f?.closest){var x=this.toRgb(),c=1/0,y="black";if(!o.length)for(var g in i)o[g]=new r(i[g]).toRgb();for(var b in i){var T=(m=x,p=o[b],Math.pow(m.r-p.r,2)+Math.pow(m.g-p.g,2)+Math.pow(m.b-p.b,2));T<c&&(c=T,y=b)}return y}},t.string.push([function(f){var m=f.toLowerCase(),p=m==="transparent"?"#0000":i[m];return p?new r(p).toRgb():null},"name"])}Zv([Iv]);const wa=class Gs{constructor(t=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=t}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(t){return this.value=t,this}set value(t){if(t instanceof Gs)this._value=this._cloneSource(t._value),this._int=t._int,this._components.set(t._components);else{if(t===null)throw new Error("Cannot set Color#value to null");(this._value===null||!this._isSourceEqual(this._value,t))&&(this._value=this._cloneSource(t),this._normalize(this._value))}}get value(){return this._value}_cloneSource(t){return typeof t=="string"||typeof t=="number"||t instanceof Number||t===null?t:Array.isArray(t)||ArrayBuffer.isView(t)?t.slice(0):typeof t=="object"&&t!==null?{...t}:t}_isSourceEqual(t,i){const s=typeof t;if(s!==typeof i)return!1;if(s==="number"||s==="string"||t instanceof Number)return t===i;if(Array.isArray(t)&&Array.isArray(i)||ArrayBuffer.isView(t)&&ArrayBuffer.isView(i))return t.length!==i.length?!1:t.every((o,f)=>o===i[f]);if(t!==null&&i!==null){const o=Object.keys(t),f=Object.keys(i);return o.length!==f.length?!1:o.every(m=>t[m]===i[m])}return t===i}toRgba(){const[t,i,s,u]=this._components;return{r:t,g:i,b:s,a:u}}toRgb(){const[t,i,s]=this._components;return{r:t,g:i,b:s}}toRgbaString(){const[t,i,s]=this.toUint8RgbArray();return`rgba(${t},${i},${s},${this.alpha})`}toUint8RgbArray(t){const[i,s,u]=this._components;return this._arrayRgb||(this._arrayRgb=[]),t||(t=this._arrayRgb),t[0]=Math.round(i*255),t[1]=Math.round(s*255),t[2]=Math.round(u*255),t}toArray(t){this._arrayRgba||(this._arrayRgba=[]),t||(t=this._arrayRgba);const[i,s,u,o]=this._components;return t[0]=i,t[1]=s,t[2]=u,t[3]=o,t}toRgbArray(t){this._arrayRgb||(this._arrayRgb=[]),t||(t=this._arrayRgb);const[i,s,u]=this._components;return t[0]=i,t[1]=s,t[2]=u,t}toNumber(){return this._int}toBgrNumber(){const[t,i,s]=this.toUint8RgbArray();return(s<<16)+(i<<8)+t}toLittleEndianNumber(){const t=this._int;return(t>>16)+(t&65280)+((t&255)<<16)}multiply(t){const[i,s,u,o]=Gs._temp.setValue(t)._components;return this._components[0]*=i,this._components[1]*=s,this._components[2]*=u,this._components[3]*=o,this._refreshInt(),this._value=null,this}premultiply(t,i=!0){return i&&(this._components[0]*=t,this._components[1]*=t,this._components[2]*=t),this._components[3]=t,this._refreshInt(),this._value=null,this}toPremultiplied(t,i=!0){if(t===1)return(255<<24)+this._int;if(t===0)return i?0:this._int;let s=this._int>>16&255,u=this._int>>8&255,o=this._int&255;return i&&(s=s*t+.5|0,u=u*t+.5|0,o=o*t+.5|0),(t*255<<24)+(s<<16)+(u<<8)+o}toHex(){const t=this._int.toString(16);return`#${"000000".substring(0,6-t.length)+t}`}toHexa(){const i=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-i.length)+i}setAlpha(t){return this._components[3]=this._clamp(t),this}_normalize(t){let i,s,u,o;if((typeof t=="number"||t instanceof Number)&&t>=0&&t<=16777215){const f=t;i=(f>>16&255)/255,s=(f>>8&255)/255,u=(f&255)/255,o=1}else if((Array.isArray(t)||t instanceof Float32Array)&&t.length>=3&&t.length<=4)t=this._clamp(t),[i,s,u,o=1]=t;else if((t instanceof Uint8Array||t instanceof Uint8ClampedArray)&&t.length>=3&&t.length<=4)t=this._clamp(t,0,255),[i,s,u,o=255]=t,i/=255,s/=255,u/=255,o/=255;else if(typeof t=="string"||typeof t=="object"){if(typeof t=="string"){const m=Gs.HEX_PATTERN.exec(t);m&&(t=`#${m[2]}`)}const f=fn(t);f.isValid()&&({r:i,g:s,b:u,a:o}=f.rgba,i/=255,s/=255,u/=255)}if(i!==void 0)this._components[0]=i,this._components[1]=s,this._components[2]=u,this._components[3]=o,this._refreshInt();else throw new Error(`Unable to convert color ${t}`)}_refreshInt(){this._clamp(this._components);const[t,i,s]=this._components;this._int=(t*255<<16)+(i*255<<8)+(s*255|0)}_clamp(t,i=0,s=1){return typeof t=="number"?Math.min(Math.max(t,i),s):(t.forEach((u,o)=>{t[o]=Math.min(Math.max(u,i),s)}),t)}static isColorLike(t){return typeof t=="number"||typeof t=="string"||t instanceof Number||t instanceof Gs||Array.isArray(t)||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Float32Array||t.r!==void 0&&t.g!==void 0&&t.b!==void 0||t.r!==void 0&&t.g!==void 0&&t.b!==void 0&&t.a!==void 0||t.h!==void 0&&t.s!==void 0&&t.l!==void 0||t.h!==void 0&&t.s!==void 0&&t.l!==void 0&&t.a!==void 0||t.h!==void 0&&t.s!==void 0&&t.v!==void 0||t.h!==void 0&&t.s!==void 0&&t.v!==void 0&&t.a!==void 0}};wa.shared=new wa;wa._temp=new wa;wa.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let Ie=wa;const Kv={cullArea:null,cullable:!1,cullableChildren:!0};let gc=0;const Ip=500;function Ne(...r){gc!==Ip&&(gc++,gc===Ip?console.warn("PixiJS Warning: too many warnings, no more warnings will be reported to the console by PixiJS."):console.warn("PixiJS Warning: ",...r))}const kl={_registeredResources:new Set,register(r){this._registeredResources.add(r)},unregister(r){this._registeredResources.delete(r)},release(){this._registeredResources.forEach(r=>r.clear())},get registeredCount(){return this._registeredResources.size},isRegistered(r){return this._registeredResources.has(r)},reset(){this._registeredResources.clear()}};class Jv{constructor(t,i){this._pool=[],this._count=0,this._index=0,this._classType=t,i&&this.prepopulate(i)}prepopulate(t){for(let i=0;i<t;i++)this._pool[this._index++]=new this._classType;this._count+=t}get(t){let i;return this._index>0?i=this._pool[--this._index]:(i=new this._classType,this._count++),i.init?.(t),i}return(t){t.reset?.(),this._pool[this._index++]=t}get totalSize(){return this._count}get totalFree(){return this._index}get totalUsed(){return this._count-this._index}clear(){if(this._pool.length>0&&this._pool[0].destroy)for(let t=0;t<this._index;t++)this._pool[t].destroy();this._pool.length=0,this._count=0,this._index=0}}class $v{constructor(){this._poolsByClass=new Map}prepopulate(t,i){this.getPool(t).prepopulate(i)}get(t,i){return this.getPool(t).get(i)}return(t){this.getPool(t.constructor).return(t)}getPool(t){return this._poolsByClass.has(t)||this._poolsByClass.set(t,new Jv(t)),this._poolsByClass.get(t)}stats(){const t={};return this._poolsByClass.forEach(i=>{const s=t[i._classType.name]?i._classType.name+i._classType.ID:i._classType.name;t[s]={free:i.totalFree,used:i.totalUsed,size:i.totalSize}}),t}clear(){this._poolsByClass.forEach(t=>t.clear()),this._poolsByClass.clear()}}const Me=new $v;kl.register(Me);const Wv={get isCachedAsTexture(){return!!this.renderGroup?.isCachedAsTexture},cacheAsTexture(r){typeof r=="boolean"&&r===!1?this.disableRenderGroup():(this.enableRenderGroup(),this.renderGroup.enableCacheAsTexture(r===!0?{}:r))},updateCacheTexture(){this.renderGroup?.updateCacheTexture()},get cacheAsBitmap(){return this.isCachedAsTexture},set cacheAsBitmap(r){Ct("v8.6.0","cacheAsBitmap is deprecated, use cacheAsTexture instead."),this.cacheAsTexture(r)}};function tb(r,t,i){const s=r.length;let u;if(t>=s||i===0)return;i=t+i>s?s-t:i;const o=s-i;for(u=t;u<o;++u)r[u]=r[u+i];r.length=o}const eb={allowChildren:!0,removeChildren(r=0,t){const i=t??this.children.length,s=i-r,u=[];if(s>0&&s<=i){for(let f=i-1;f>=r;f--){const m=this.children[f];m&&(u.push(m),m.parent=null)}tb(this.children,r,i);const o=this.renderGroup||this.parentRenderGroup;o&&o.removeChildren(u);for(let f=0;f<u.length;++f){const m=u[f];m.parentRenderLayer?.detach(m),this.emit("childRemoved",m,this,f),u[f].emit("removed",this)}return u.length>0&&this._didViewChangeTick++,u}else if(s===0&&this.children.length===0)return u;throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},removeChildAt(r){const t=this.getChildAt(r);return this.removeChild(t)},getChildAt(r){if(r<0||r>=this.children.length)throw new Error(`getChildAt: Index (${r}) does not exist.`);return this.children[r]},setChildIndex(r,t){if(t<0||t>=this.children.length)throw new Error(`The index ${t} supplied is out of bounds ${this.children.length}`);this.getChildIndex(r),this.addChildAt(r,t)},getChildIndex(r){const t=this.children.indexOf(r);if(t===-1)throw new Error("The supplied Container must be a child of the caller");return t},addChildAt(r,t){this.allowChildren||Ct(Kt,"addChildAt: Only Containers will be allowed to add children in v8.0.0");const{children:i}=this;if(t<0||t>i.length)throw new Error(`${r}addChildAt: The index ${t} supplied is out of bounds ${i.length}`);if(r.parent){const u=r.parent.children.indexOf(r);if(r.parent===this&&u===t)return r;u!==-1&&r.parent.children.splice(u,1)}t===i.length?i.push(r):i.splice(t,0,r),r.parent=this,r.didChange=!0,r._updateFlags=15;const s=this.renderGroup||this.parentRenderGroup;return s&&s.addChild(r),this.sortableChildren&&(this.sortDirty=!0),this.emit("childAdded",r,this,t),r.emit("added",this),r},swapChildren(r,t){if(r===t)return;const i=this.getChildIndex(r),s=this.getChildIndex(t);this.children[i]=t,this.children[s]=r;const u=this.renderGroup||this.parentRenderGroup;u&&(u.structureDidChange=!0),this._didContainerChangeTick++},removeFromParent(){this.parent?.removeChild(this)},reparentChild(...r){return r.length===1?this.reparentChildAt(r[0],this.children.length):(r.forEach(t=>this.reparentChildAt(t,this.children.length)),r[0])},reparentChildAt(r,t){if(r.parent===this)return this.setChildIndex(r,t),r;const i=r.worldTransform.clone();r.removeFromParent(),this.addChildAt(r,t);const s=this.worldTransform.clone();return s.invert(),i.prepend(s),r.setFromMatrix(i),r},replaceChild(r,t){r.updateLocalTransform(),this.addChildAt(t,this.getChildIndex(r)),t.setFromMatrix(r.localTransform),t.updateLocalTransform(),this.removeChild(r)}},nb={collectRenderables(r,t,i){this.parentRenderLayer&&this.parentRenderLayer!==i||this.globalDisplayStatus<7||!this.includeInBuild||(this.sortableChildren&&this.sortChildren(),this.isSimple?this.collectRenderablesSimple(r,t,i):this.renderGroup?t.renderPipes.renderGroup.addRenderGroup(this.renderGroup,r):this.collectRenderablesWithEffects(r,t,i))},collectRenderablesSimple(r,t,i){const s=this.children,u=s.length;for(let o=0;o<u;o++)s[o].collectRenderables(r,t,i)},collectRenderablesWithEffects(r,t,i){const{renderPipes:s}=t;for(let u=0;u<this.effects.length;u++){const o=this.effects[u];s[o.pipe].push(o,this,r)}this.collectRenderablesSimple(r,t,i);for(let u=this.effects.length-1;u>=0;u--){const o=this.effects[u];s[o.pipe].pop(o,this,r)}}};class Kp{constructor(){this.pipe="filter",this.priority=1}destroy(){for(let t=0;t<this.filters.length;t++)this.filters[t].destroy();this.filters=null,this.filterArea=null}}class ib{constructor(){this._effectClasses=[],this._tests=[],this._initialized=!1}init(){this._initialized||(this._initialized=!0,this._effectClasses.forEach(t=>{this.add({test:t.test,maskClass:t})}))}add(t){this._tests.push(t)}getMaskEffect(t){this._initialized||this.init();for(let i=0;i<this._tests.length;i++){const s=this._tests[i];if(s.test(t))return Me.get(s.maskClass,t)}return t}returnMaskEffect(t){Me.return(t)}}const jc=new ib;ie.handleByList(vt.MaskEffect,jc._effectClasses);const ab={_maskEffect:null,_maskOptions:{inverse:!1},_filterEffect:null,effects:[],_markStructureAsChanged(){const r=this.renderGroup||this.parentRenderGroup;r&&(r.structureDidChange=!0)},addEffect(r){this.effects.indexOf(r)===-1&&(this.effects.push(r),this.effects.sort((i,s)=>i.priority-s.priority),this._markStructureAsChanged(),this._updateIsSimple())},removeEffect(r){const t=this.effects.indexOf(r);t!==-1&&(this.effects.splice(t,1),this._markStructureAsChanged(),this._updateIsSimple())},set mask(r){const t=this._maskEffect;t?.mask!==r&&(t&&(this.removeEffect(t),jc.returnMaskEffect(t),this._maskEffect=null),r!=null&&(this._maskEffect=jc.getMaskEffect(r),this.addEffect(this._maskEffect)))},get mask(){return this._maskEffect?.mask},setMask(r){this._maskOptions={...this._maskOptions,...r},r.mask&&(this.mask=r.mask),this._markStructureAsChanged()},set filters(r){!Array.isArray(r)&&r&&(r=[r]);const t=this._filterEffect||(this._filterEffect=new Kp);r=r;const i=r?.length>0,s=t.filters?.length>0,u=i!==s;r=Array.isArray(r)?r.slice(0):r,t.filters=Object.freeze(r),u&&(i?this.addEffect(t):(this.removeEffect(t),t.filters=r??null))},get filters(){return this._filterEffect?.filters},set filterArea(r){this._filterEffect||(this._filterEffect=new Kp),this._filterEffect.filterArea=r},get filterArea(){return this._filterEffect?.filterArea}},sb={label:null,get name(){return Ct(Kt,"Container.name property has been removed, use Container.label instead"),this.label},set name(r){Ct(Kt,"Container.name property has been removed, use Container.label instead"),this.label=r},getChildByName(r,t=!1){return this.getChildByLabel(r,t)},getChildByLabel(r,t=!1){const i=this.children;for(let s=0;s<i.length;s++){const u=i[s];if(u.label===r||r instanceof RegExp&&r.test(u.label))return u}if(t)for(let s=0;s<i.length;s++){const o=i[s].getChildByLabel(r,!0);if(o)return o}return null},getChildrenByLabel(r,t=!1,i=[]){const s=this.children;for(let u=0;u<s.length;u++){const o=s[u];(o.label===r||r instanceof RegExp&&r.test(o.label))&&i.push(o)}if(t)for(let u=0;u<s.length;u++)s[u].getChildrenByLabel(r,!0,i);return i}},_e=Me.getPool(gt),Bn=Me.getPool(an),rb=new gt,lb={getFastGlobalBounds(r,t){t||(t=new an),t.clear(),this._getGlobalBoundsRecursive(!!r,t,this.parentRenderLayer),t.isValid||t.set(0,0,0,0);const i=this.renderGroup||this.parentRenderGroup;return t.applyMatrix(i.worldTransform),t},_getGlobalBoundsRecursive(r,t,i){let s=t;if(r&&this.parentRenderLayer&&this.parentRenderLayer!==i||this.localDisplayStatus!==7||!this.measurable)return;const u=!!this.effects.length;if((this.renderGroup||u)&&(s=Bn.get().clear()),this.boundsArea)t.addRect(this.boundsArea,this.worldTransform);else{if(this.renderPipeId){const f=this.bounds;s.addFrame(f.minX,f.minY,f.maxX,f.maxY,this.groupTransform)}const o=this.children;for(let f=0;f<o.length;f++)o[f]._getGlobalBoundsRecursive(r,s,i)}if(u){let o=!1;const f=this.renderGroup||this.parentRenderGroup;for(let m=0;m<this.effects.length;m++)this.effects[m].addBounds&&(o||(o=!0,s.applyMatrix(f.worldTransform)),this.effects[m].addBounds(s,!0));o&&s.applyMatrix(f.worldTransform.copyTo(rb).invert()),t.addBounds(s),Bn.return(s)}else this.renderGroup&&(t.addBounds(s,this.relativeGroupTransform),Bn.return(s))}};function ry(r,t,i){i.clear();let s,u;return r.parent?t?s=r.parent.worldTransform:(u=_e.get().identity(),s=lh(r,u)):s=gt.IDENTITY,ly(r,i,s,t),u&&_e.return(u),i.isValid||i.set(0,0,0,0),i}function ly(r,t,i,s){if(!r.visible||!r.measurable)return;let u;s?u=r.worldTransform:(r.updateLocalTransform(),u=_e.get(),u.appendFrom(r.localTransform,i));const o=t,f=!!r.effects.length;if(f&&(t=Bn.get().clear()),r.boundsArea)t.addRect(r.boundsArea,u);else{const m=r.bounds;m&&!m.isEmpty()&&(t.matrix=u,t.addBounds(m));for(let p=0;p<r.children.length;p++)ly(r.children[p],t,u,s)}if(f){for(let m=0;m<r.effects.length;m++)r.effects[m].addBounds?.(t);o.addBounds(t,gt.IDENTITY),Bn.return(t)}s||_e.return(u)}function lh(r,t){const i=r.parent;return i&&(lh(i,t),i.updateLocalTransform(),t.append(i.localTransform)),t}function uy(r,t){if(r===16777215||!t)return t;if(t===16777215||!r)return r;const i=r>>16&255,s=r>>8&255,u=r&255,o=t>>16&255,f=t>>8&255,m=t&255,p=i*o/255|0,_=s*f/255|0,x=u*m/255|0;return(p<<16)+(_<<8)+x}const Jp=16777215;function $p(r,t){return r===Jp?t:t===Jp?r:uy(r,t)}function Ol(r){return((r&255)<<16)+(r&65280)+(r>>16&255)}const ub={getGlobalAlpha(r){if(r)return this.renderGroup?this.renderGroup.worldAlpha:this.parentRenderGroup?this.parentRenderGroup.worldAlpha*this.alpha:this.alpha;let t=this.alpha,i=this.parent;for(;i;)t*=i.alpha,i=i.parent;return t},getGlobalTransform(r=new gt,t){if(t)return r.copyFrom(this.worldTransform);this.updateLocalTransform();const i=lh(this,_e.get().identity());return r.appendFrom(this.localTransform,i),_e.return(i),r},getGlobalTint(r){if(r)return this.renderGroup?Ol(this.renderGroup.worldColor):this.parentRenderGroup?Ol($p(this.localColor,this.parentRenderGroup.worldColor)):this.tint;let t=this.localColor,i=this.parent;for(;i;)t=$p(t,i.localColor),i=i.parent;return Ol(t)}};function oy(r,t,i){return t.clear(),i||(i=gt.IDENTITY),cy(r,t,i,r,!0),t.isValid||t.set(0,0,0,0),t}function cy(r,t,i,s,u){let o;if(u)o=_e.get(),o=i.copyTo(o);else{if(!r.visible||!r.measurable)return;r.updateLocalTransform();const p=r.localTransform;o=_e.get(),o.appendFrom(p,i)}const f=t,m=!!r.effects.length;if(m&&(t=Bn.get().clear()),r.boundsArea)t.addRect(r.boundsArea,o);else{r.renderPipeId&&(t.matrix=o,t.addBounds(r.bounds));const p=r.children;for(let _=0;_<p.length;_++)cy(p[_],t,o,s,!1)}if(m){for(let p=0;p<r.effects.length;p++)r.effects[p].addLocalBounds?.(t,s);f.addBounds(t,gt.IDENTITY),Bn.return(t)}_e.return(o)}function hy(r,t){const i=r.children;for(let s=0;s<i.length;s++){const u=i[s],o=u.uid,f=(u._didViewChangeTick&65535)<<16|u._didContainerChangeTick&65535,m=t.index;(t.data[m]!==o||t.data[m+1]!==f)&&(t.data[t.index]=o,t.data[t.index+1]=f,t.didChange=!0),t.index=m+2,u.children.length&&hy(u,t)}return t.didChange}const ob=new gt,cb={_localBoundsCacheId:-1,_localBoundsCacheData:null,_setWidth(r,t){const i=Math.sign(this.scale.x)||1;t!==0?this.scale.x=r/t*i:this.scale.x=i},_setHeight(r,t){const i=Math.sign(this.scale.y)||1;t!==0?this.scale.y=r/t*i:this.scale.y=i},getLocalBounds(){this._localBoundsCacheData||(this._localBoundsCacheData={data:[],index:1,didChange:!1,localBounds:new an});const r=this._localBoundsCacheData;return r.index=1,r.didChange=!1,r.data[0]!==this._didViewChangeTick&&(r.didChange=!0,r.data[0]=this._didViewChangeTick),hy(this,r),r.didChange&&oy(this,r.localBounds,ob),r.localBounds},getBounds(r,t){return ry(this,r,t||new an)}},hb={_onRender:null,set onRender(r){const t=this.renderGroup||this.parentRenderGroup;if(!r){this._onRender&&t?.removeOnRender(this),this._onRender=null;return}this._onRender||t?.addOnRender(this),this._onRender=r},get onRender(){return this._onRender}},fb={_zIndex:0,sortDirty:!1,sortableChildren:!1,get zIndex(){return this._zIndex},set zIndex(r){this._zIndex!==r&&(this._zIndex=r,this.depthOfChildModified())},depthOfChildModified(){this.parent&&(this.parent.sortableChildren=!0,this.parent.sortDirty=!0),this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0)},sortChildren(){this.sortDirty&&(this.sortDirty=!1,this.children.sort(db))}};function db(r,t){return r._zIndex-t._zIndex}const mb={getGlobalPosition(r=new ce,t=!1){return this.parent?this.parent.toGlobal(this._position,r,t):(r.x=this._position.x,r.y=this._position.y),r},toGlobal(r,t,i=!1){const s=this.getGlobalTransform(_e.get(),i);return t=s.apply(r,t),_e.return(s),t},toLocal(r,t,i,s){t&&(r=t.toGlobal(r,i,s));const u=this.getGlobalTransform(_e.get(),s);return i=u.applyInverse(r,i),_e.return(u),i}};class uh{constructor(){this.uid=Vt("instructionSet"),this.instructions=[],this.instructionSize=0,this.renderables=[],this.gcTick=0}reset(){this.instructionSize=0}destroy(){this.instructions.length=0,this.renderables.length=0,this.renderPipes=null,this.gcTick=0}add(t){this.instructions[this.instructionSize++]=t}log(){this.instructions.length=this.instructionSize,console.table(this.instructions,["type","action"])}}let pb=0;class _b{constructor(t){this._poolKeyHash=Object.create(null),this._texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this.textureStyle=new ty(this.textureOptions)}createTexture(t,i,s){const u=new sn({...this.textureOptions,width:t,height:i,resolution:1,antialias:s,autoGarbageCollect:!1});return new Dt({source:u,label:`texturePool_${pb++}`})}getOptimalTexture(t,i,s=1,u){let o=Math.ceil(t*s-1e-6),f=Math.ceil(i*s-1e-6);o=Np(o),f=Np(f);const m=(o<<17)+(f<<1)+(u?1:0);this._texturePool[m]||(this._texturePool[m]=[]);let p=this._texturePool[m].pop();return p||(p=this.createTexture(o,f,u)),p.source._resolution=s,p.source.width=o/s,p.source.height=f/s,p.source.pixelWidth=o,p.source.pixelHeight=f,p.frame.x=0,p.frame.y=0,p.frame.width=t,p.frame.height=i,p.updateUvs(),this._poolKeyHash[p.uid]=m,p}getSameSizeTexture(t,i=!1){const s=t.source;return this.getOptimalTexture(t.width,t.height,s._resolution,i)}returnTexture(t,i=!1){const s=this._poolKeyHash[t.uid];i&&(t.source.style=this.textureStyle),this._texturePool[s].push(t)}clear(t){if(t=t!==!1,t)for(const i in this._texturePool){const s=this._texturePool[i];if(s)for(let u=0;u<s.length;u++)s[u].destroy(!0)}this._texturePool={}}}const fy=new _b;kl.register(fy);class yb{constructor(){this.renderPipeId="renderGroup",this.root=null,this.canBundle=!1,this.renderGroupParent=null,this.renderGroupChildren=[],this.worldTransform=new gt,this.worldColorAlpha=4294967295,this.worldColor=16777215,this.worldAlpha=1,this.childrenToUpdate=Object.create(null),this.updateTick=0,this.gcTick=0,this.childrenRenderablesToUpdate={list:[],index:0},this.structureDidChange=!0,this.instructionSet=new uh,this._onRenderContainers=[],this.textureNeedsUpdate=!0,this.isCachedAsTexture=!1,this._matrixDirty=7}init(t){this.root=t,t._onRender&&this.addOnRender(t),t.didChange=!0;const i=t.children;for(let s=0;s<i.length;s++){const u=i[s];u._updateFlags=15,this.addChild(u)}}enableCacheAsTexture(t={}){this.textureOptions=t,this.isCachedAsTexture=!0,this.textureNeedsUpdate=!0}disableCacheAsTexture(){this.isCachedAsTexture=!1,this.texture&&(fy.returnTexture(this.texture,!0),this.texture=null)}updateCacheTexture(){this.textureNeedsUpdate=!0;const t=this._parentCacheAsTextureRenderGroup;t&&!t.textureNeedsUpdate&&t.updateCacheTexture()}reset(){this.renderGroupChildren.length=0;for(const t in this.childrenToUpdate){const i=this.childrenToUpdate[t];i.list.fill(null),i.index=0}this.childrenRenderablesToUpdate.index=0,this.childrenRenderablesToUpdate.list.fill(null),this.root=null,this.updateTick=0,this.structureDidChange=!0,this._onRenderContainers.length=0,this.renderGroupParent=null,this.disableCacheAsTexture()}get localTransform(){return this.root.localTransform}addRenderGroupChild(t){t.renderGroupParent&&t.renderGroupParent._removeRenderGroupChild(t),t.renderGroupParent=this,this.renderGroupChildren.push(t)}_removeRenderGroupChild(t){const i=this.renderGroupChildren.indexOf(t);i>-1&&this.renderGroupChildren.splice(i,1),t.renderGroupParent=null}addChild(t){if(this.structureDidChange=!0,t.parentRenderGroup=this,t.updateTick=-1,t.parent===this.root?t.relativeRenderGroupDepth=1:t.relativeRenderGroupDepth=t.parent.relativeRenderGroupDepth+1,t.didChange=!0,this.onChildUpdate(t),t.renderGroup){this.addRenderGroupChild(t.renderGroup);return}t._onRender&&this.addOnRender(t);const i=t.children;for(let s=0;s<i.length;s++)this.addChild(i[s])}removeChild(t){if(this.structureDidChange=!0,t._onRender&&(t.renderGroup||this.removeOnRender(t)),t.parentRenderGroup=null,t.renderGroup){this._removeRenderGroupChild(t.renderGroup);return}const i=t.children;for(let s=0;s<i.length;s++)this.removeChild(i[s])}removeChildren(t){for(let i=0;i<t.length;i++)this.removeChild(t[i])}onChildUpdate(t){let i=this.childrenToUpdate[t.relativeRenderGroupDepth];i||(i=this.childrenToUpdate[t.relativeRenderGroupDepth]={index:0,list:[]}),i.list[i.index++]=t}updateRenderable(t){t.globalDisplayStatus<7||(this.instructionSet.renderPipes[t.renderPipeId].updateRenderable(t),t.didViewUpdate=!1)}onChildViewUpdate(t){this.childrenRenderablesToUpdate.list[this.childrenRenderablesToUpdate.index++]=t}get isRenderable(){return this.root.localDisplayStatus===7&&this.worldAlpha>0}addOnRender(t){this._onRenderContainers.push(t)}removeOnRender(t){this._onRenderContainers.splice(this._onRenderContainers.indexOf(t),1)}runOnRender(t){for(let i=0;i<this._onRenderContainers.length;i++)this._onRenderContainers[i]._onRender(t)}destroy(){this.disableCacheAsTexture(),this.renderGroupParent=null,this.root=null,this.childrenRenderablesToUpdate=null,this.childrenToUpdate=null,this.renderGroupChildren=null,this._onRenderContainers=null,this.instructionSet=null}getChildren(t=[]){const i=this.root.children;for(let s=0;s<i.length;s++)this._getChildren(i[s],t);return t}_getChildren(t,i=[]){if(i.push(t),t.renderGroup)return i;const s=t.children;for(let u=0;u<s.length;u++)this._getChildren(s[u],i);return i}invalidateMatrices(){this._matrixDirty=7}get inverseWorldTransform(){return(this._matrixDirty&1)===0?this._inverseWorldTransform:(this._matrixDirty&=-2,this._inverseWorldTransform||(this._inverseWorldTransform=new gt),this._inverseWorldTransform.copyFrom(this.worldTransform).invert())}get textureOffsetInverseTransform(){return(this._matrixDirty&2)===0?this._textureOffsetInverseTransform:(this._matrixDirty&=-3,this._textureOffsetInverseTransform||(this._textureOffsetInverseTransform=new gt),this._textureOffsetInverseTransform.copyFrom(this.inverseWorldTransform).translate(-this._textureBounds.x,-this._textureBounds.y))}get inverseParentTextureTransform(){if((this._matrixDirty&4)===0)return this._inverseParentTextureTransform;this._matrixDirty&=-5;const t=this._parentCacheAsTextureRenderGroup;return t?(this._inverseParentTextureTransform||(this._inverseParentTextureTransform=new gt),this._inverseParentTextureTransform.copyFrom(this.worldTransform).prepend(t.inverseWorldTransform).translate(-t._textureBounds.x,-t._textureBounds.y)):this.worldTransform}get cacheToLocalTransform(){return this.isCachedAsTexture?this.textureOffsetInverseTransform:this._parentCacheAsTextureRenderGroup?this._parentCacheAsTextureRenderGroup.textureOffsetInverseTransform:null}}function gb(r,t,i={}){for(const s in t)!i[s]&&t[s]!==void 0&&(r[s]=t[s])}const xc=new fe(null),bl=new fe(null),vc=new fe(null,1,1),Sl=new fe(null),Wp=1,xb=2,bc=4;class nn extends Hn{constructor(t={}){super(),this.uid=Vt("renderable"),this._updateFlags=15,this.renderGroup=null,this.parentRenderGroup=null,this.parentRenderGroupIndex=0,this.didChange=!1,this.didViewUpdate=!1,this.relativeRenderGroupDepth=0,this.children=[],this.parent=null,this.includeInBuild=!0,this.measurable=!0,this.isSimple=!0,this.parentRenderLayer=null,this.updateTick=-1,this.localTransform=new gt,this.relativeGroupTransform=new gt,this.groupTransform=this.relativeGroupTransform,this.destroyed=!1,this._position=new fe(this,0,0),this._scale=vc,this._pivot=bl,this._origin=Sl,this._skew=xc,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._rotation=0,this.localColor=16777215,this.localAlpha=1,this.groupAlpha=1,this.groupColor=16777215,this.groupColorAlpha=4294967295,this.localBlendMode="inherit",this.groupBlendMode="normal",this.localDisplayStatus=7,this.globalDisplayStatus=7,this._didContainerChangeTick=0,this._didViewChangeTick=0,this._didLocalTransformChangeId=-1,this.effects=[],gb(this,t,{children:!0,parent:!0,effects:!0}),t.children?.forEach(i=>this.addChild(i)),t.parent?.addChild(this)}static mixin(t){Ct("8.8.0","Container.mixin is deprecated, please use extensions.mixin instead."),ie.mixin(nn,t)}set _didChangeId(t){this._didViewChangeTick=t>>12&4095,this._didContainerChangeTick=t&4095}get _didChangeId(){return this._didContainerChangeTick&4095|(this._didViewChangeTick&4095)<<12}addChild(...t){if(this.allowChildren||Ct(Kt,"addChild: Only Containers will be allowed to add children in v8.0.0"),t.length>1){for(let u=0;u<t.length;u++)this.addChild(t[u]);return t[0]}const i=t[0],s=this.renderGroup||this.parentRenderGroup;return i.parent===this?(this.children.splice(this.children.indexOf(i),1),this.children.push(i),s&&(s.structureDidChange=!0),i):(i.parent&&i.parent.removeChild(i),this.children.push(i),this.sortableChildren&&(this.sortDirty=!0),i.parent=this,i.didChange=!0,i._updateFlags=15,s&&s.addChild(i),this.emit("childAdded",i,this,this.children.length-1),i.emit("added",this),this._didViewChangeTick++,i._zIndex!==0&&i.depthOfChildModified(),i)}removeChild(...t){if(t.length>1){for(let u=0;u<t.length;u++)this.removeChild(t[u]);return t[0]}const i=t[0],s=this.children.indexOf(i);return s>-1&&(this._didViewChangeTick++,this.children.splice(s,1),this.renderGroup?this.renderGroup.removeChild(i):this.parentRenderGroup&&this.parentRenderGroup.removeChild(i),i.parentRenderLayer&&i.parentRenderLayer.detach(i),i.parent=null,this.emit("childRemoved",i,this,s),i.emit("removed",this)),i}_onUpdate(t){t&&t===this._skew&&this._updateSkew(),this._didContainerChangeTick++,!this.didChange&&(this.didChange=!0,this.parentRenderGroup&&this.parentRenderGroup.onChildUpdate(this))}set isRenderGroup(t){!!this.renderGroup!==t&&(t?this.enableRenderGroup():this.disableRenderGroup())}get isRenderGroup(){return!!this.renderGroup}enableRenderGroup(){if(this.renderGroup)return;const t=this.parentRenderGroup;t?.removeChild(this),this.renderGroup=Me.get(yb,this),this.groupTransform=gt.IDENTITY,t?.addChild(this),this._updateIsSimple()}disableRenderGroup(){if(!this.renderGroup)return;const t=this.parentRenderGroup;t?.removeChild(this),Me.return(this.renderGroup),this.renderGroup=null,this.groupTransform=this.relativeGroupTransform,t?.addChild(this),this._updateIsSimple()}_updateIsSimple(){this.isSimple=!this.renderGroup&&this.effects.length===0}get worldTransform(){return this._worldTransform||(this._worldTransform=new gt),this.renderGroup?this._worldTransform.copyFrom(this.renderGroup.worldTransform):this.parentRenderGroup&&this._worldTransform.appendFrom(this.relativeGroupTransform,this.parentRenderGroup.worldTransform),this._worldTransform}get x(){return this._position.x}set x(t){this._position.x=t}get y(){return this._position.y}set y(t){this._position.y=t}get position(){return this._position}set position(t){this._position.copyFrom(t)}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this._onUpdate(this._skew))}get angle(){return this.rotation*Ov}set angle(t){this.rotation=t*Bv}get pivot(){return this._pivot===bl&&(this._pivot=new fe(this,0,0)),this._pivot}set pivot(t){this._pivot===bl&&(this._pivot=new fe(this,0,0),this._origin!==Sl&&Ne("Setting both a pivot and origin on a Container is not recommended. This can lead to unexpected behavior if not handled carefully.")),typeof t=="number"?this._pivot.set(t):this._pivot.copyFrom(t)}get skew(){return this._skew===xc&&(this._skew=new fe(this,0,0)),this._skew}set skew(t){this._skew===xc&&(this._skew=new fe(this,0,0)),this._skew.copyFrom(t)}get scale(){return this._scale===vc&&(this._scale=new fe(this,1,1)),this._scale}set scale(t){this._scale===vc&&(this._scale=new fe(this,0,0)),typeof t=="string"&&(t=parseFloat(t)),typeof t=="number"?this._scale.set(t):this._scale.copyFrom(t)}get origin(){return this._origin===Sl&&(this._origin=new fe(this,0,0)),this._origin}set origin(t){this._origin===Sl&&(this._origin=new fe(this,0,0),this._pivot!==bl&&Ne("Setting both a pivot and origin on a Container is not recommended. This can lead to unexpected behavior if not handled carefully.")),typeof t=="number"?this._origin.set(t):this._origin.copyFrom(t)}get width(){return Math.abs(this.scale.x*this.getLocalBounds().width)}set width(t){const i=this.getLocalBounds().width;this._setWidth(t,i)}get height(){return Math.abs(this.scale.y*this.getLocalBounds().height)}set height(t){const i=this.getLocalBounds().height;this._setHeight(t,i)}getSize(t){t||(t={});const i=this.getLocalBounds();return t.width=Math.abs(this.scale.x*i.width),t.height=Math.abs(this.scale.y*i.height),t}setSize(t,i){const s=this.getLocalBounds();typeof t=="object"?(i=t.height??t.width,t=t.width):i??(i=t),t!==void 0&&this._setWidth(t,s.width),i!==void 0&&this._setHeight(i,s.height)}_updateSkew(){const t=this._rotation,i=this._skew;this._cx=Math.cos(t+i._y),this._sx=Math.sin(t+i._y),this._cy=-Math.sin(t-i._x),this._sy=Math.cos(t-i._x)}updateTransform(t){return this.position.set(typeof t.x=="number"?t.x:this.position.x,typeof t.y=="number"?t.y:this.position.y),this.scale.set(typeof t.scaleX=="number"?t.scaleX||1:this.scale.x,typeof t.scaleY=="number"?t.scaleY||1:this.scale.y),this.rotation=typeof t.rotation=="number"?t.rotation:this.rotation,this.skew.set(typeof t.skewX=="number"?t.skewX:this.skew.x,typeof t.skewY=="number"?t.skewY:this.skew.y),this.pivot.set(typeof t.pivotX=="number"?t.pivotX:this.pivot.x,typeof t.pivotY=="number"?t.pivotY:this.pivot.y),this.origin.set(typeof t.originX=="number"?t.originX:this.origin.x,typeof t.originY=="number"?t.originY:this.origin.y),this}setFromMatrix(t){t.decompose(this)}updateLocalTransform(){const t=this._didContainerChangeTick;if(this._didLocalTransformChangeId===t)return;this._didLocalTransformChangeId=t;const i=this.localTransform,s=this._scale,u=this._pivot,o=this._origin,f=this._position,m=s._x,p=s._y,_=u._x,x=u._y,c=-o._x,y=-o._y;i.a=this._cx*m,i.b=this._sx*m,i.c=this._cy*p,i.d=this._sy*p,i.tx=f._x-(_*i.a+x*i.c)+(c*i.a+y*i.c)-c,i.ty=f._y-(_*i.b+x*i.d)+(c*i.b+y*i.d)-y}set alpha(t){t!==this.localAlpha&&(this.localAlpha=t,this._updateFlags|=Wp,this._onUpdate())}get alpha(){return this.localAlpha}set tint(t){const s=Ie.shared.setValue(t??16777215).toBgrNumber();s!==this.localColor&&(this.localColor=s,this._updateFlags|=Wp,this._onUpdate())}get tint(){return Ol(this.localColor)}set blendMode(t){this.localBlendMode!==t&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=xb,this.localBlendMode=t,this._onUpdate())}get blendMode(){return this.localBlendMode}get visible(){return!!(this.localDisplayStatus&2)}set visible(t){const i=t?2:0;(this.localDisplayStatus&2)!==i&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=bc,this.localDisplayStatus^=2,this._onUpdate())}get culled(){return!(this.localDisplayStatus&4)}set culled(t){const i=t?0:4;(this.localDisplayStatus&4)!==i&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=bc,this.localDisplayStatus^=4,this._onUpdate())}get renderable(){return!!(this.localDisplayStatus&1)}set renderable(t){const i=t?1:0;(this.localDisplayStatus&1)!==i&&(this._updateFlags|=bc,this.localDisplayStatus^=1,this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._onUpdate())}get isRenderable(){return this.localDisplayStatus===7&&this.groupAlpha>0}destroy(t=!1){if(this.destroyed)return;this.destroyed=!0;let i;if(this.children.length&&(i=this.removeChildren(0,this.children.length)),this.removeFromParent(),this.parent=null,this._maskEffect=null,this._filterEffect=null,this.effects=null,this._position=null,this._scale=null,this._pivot=null,this._origin=null,this._skew=null,this.emit("destroyed",this),this.removeAllListeners(),(typeof t=="boolean"?t:t?.children)&&i)for(let u=0;u<i.length;++u)i[u].destroy(t);this.renderGroup?.destroy(),this.renderGroup=null}}ie.mixin(nn,eb,lb,mb,hb,cb,ab,sb,fb,Kv,Wv,ub,nb);class dy extends nn{constructor(t){super(t),this.canBundle=!0,this.allowChildren=!1,this._roundPixels=0,this._lastUsed=-1,this._gpuData=Object.create(null),this.autoGarbageCollect=!0,this._gcLastUsed=-1,this._bounds=new an(0,1,0,0),this._boundsDirty=!0,this.autoGarbageCollect=t.autoGarbageCollect??!0}get bounds(){return this._boundsDirty?(this.updateBounds(),this._boundsDirty=!1,this._bounds):this._bounds}get roundPixels(){return!!this._roundPixels}set roundPixels(t){this._roundPixels=t?1:0}containsPoint(t){const i=this.bounds,{x:s,y:u}=t;return s>=i.minX&&s<=i.maxX&&u>=i.minY&&u<=i.maxY}onViewUpdate(){if(this._didViewChangeTick++,this._boundsDirty=!0,this.didViewUpdate)return;this.didViewUpdate=!0;const t=this.renderGroup||this.parentRenderGroup;t&&t.onChildViewUpdate(this)}unload(){this.emit("unload",this);for(const t in this._gpuData)this._gpuData[t]?.destroy();this._gpuData=Object.create(null),this.onViewUpdate()}destroy(t){this.unload(),super.destroy(t),this._bounds=null}collectRenderablesSimple(t,i,s){const{renderPipes:u}=i;u.blendMode.pushBlendMode(this,this.groupBlendMode,t);const f=u[this.renderPipeId];f?.addRenderable&&f.addRenderable(this,t),this.didViewUpdate=!1;const m=this.children,p=m.length;for(let _=0;_<p;_++)m[_].collectRenderables(t,i,s);u.blendMode.popBlendMode(t)}}class Gn extends dy{constructor(t=Dt.EMPTY){t instanceof Dt&&(t={texture:t});const{texture:i=Dt.EMPTY,anchor:s,roundPixels:u,width:o,height:f,...m}=t;super({label:"Sprite",...m}),this.renderPipeId="sprite",this.batched=!0,this._visualBounds={minX:0,maxX:1,minY:0,maxY:0},this._anchor=new fe({_onUpdate:()=>{this.onViewUpdate()}}),s?this.anchor=s:i.defaultAnchor&&(this.anchor=i.defaultAnchor),this.texture=i,this.allowChildren=!1,this.roundPixels=u??!1,o!==void 0&&(this.width=o),f!==void 0&&(this.height=f)}static from(t,i=!1){return t instanceof Dt?new Gn(t):new Gn(Dt.from(t,i))}set texture(t){t||(t=Dt.EMPTY);const i=this._texture;i!==t&&(i&&i.dynamic&&i.off("update",this.onViewUpdate,this),t.dynamic&&t.on("update",this.onViewUpdate,this),this._texture=t,this._width&&this._setWidth(this._width,this._texture.orig.width),this._height&&this._setHeight(this._height,this._texture.orig.height),this.onViewUpdate())}get texture(){return this._texture}get visualBounds(){return Yv(this._visualBounds,this._anchor,this._texture),this._visualBounds}get sourceBounds(){return Ct("8.6.1","Sprite.sourceBounds is deprecated, use visualBounds instead."),this.visualBounds}updateBounds(){const t=this._anchor,i=this._texture,s=this._bounds,{width:u,height:o}=i.orig;s.minX=-t._x*u,s.maxX=s.minX+u,s.minY=-t._y*o,s.maxY=s.minY+o}destroy(t=!1){if(super.destroy(t),typeof t=="boolean"?t:t?.texture){const s=typeof t=="boolean"?t:t?.textureSource;this._texture.destroy(s)}this._texture=null,this._visualBounds=null,this._bounds=null,this._anchor=null}get anchor(){return this._anchor}set anchor(t){typeof t=="number"?this._anchor.set(t):this._anchor.copyFrom(t)}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(t){this._setWidth(t,this._texture.orig.width),this._width=t}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(t){this._setHeight(t,this._texture.orig.height),this._height=t}getSize(t){return t||(t={}),t.width=Math.abs(this.scale.x)*this._texture.orig.width,t.height=Math.abs(this.scale.y)*this._texture.orig.height,t}setSize(t,i){typeof t=="object"?(i=t.height??t.width,t=t.width):i??(i=t),t!==void 0&&this._setWidth(t,this._texture.orig.width),i!==void 0&&this._setHeight(i,this._texture.orig.height)}}const vb=new an;function my(r,t,i){const s=vb;r.measurable=!0,ry(r,i,s),t.addBoundsMask(s),r.measurable=!1}function py(r,t,i){const s=Bn.get();r.measurable=!0;const u=_e.get().identity(),o=_y(r,i,u);oy(r,s,o),r.measurable=!1,t.addBoundsMask(s),_e.return(u),Bn.return(s)}function _y(r,t,i){return r?(r!==t&&(_y(r.parent,t,i),r.updateLocalTransform(),i.append(r.localTransform)),i):(Ne("Mask bounds, renderable is not inside the root container"),i)}class yy{constructor(t){this.priority=0,this.inverse=!1,this.pipe="alphaMask",t?.mask&&this.init(t.mask)}init(t){this.mask=t,this.renderMaskToTexture=!(t instanceof Gn),this.mask.renderable=this.renderMaskToTexture,this.mask.includeInBuild=!this.renderMaskToTexture,this.mask.measurable=!1}reset(){this.mask!==null&&(this.mask.measurable=!0,this.mask=null)}addBounds(t,i){this.inverse||my(this.mask,t,i)}addLocalBounds(t,i){py(this.mask,t,i)}containsPoint(t,i){const s=this.mask;return i(s,t)}destroy(){this.reset()}static test(t){return t instanceof Gn}}yy.extension=vt.MaskEffect;class gy{constructor(t){this.priority=0,this.pipe="colorMask",t?.mask&&this.init(t.mask)}init(t){this.mask=t}destroy(){}static test(t){return typeof t=="number"}}gy.extension=vt.MaskEffect;class xy{constructor(t){this.priority=0,this.pipe="stencilMask",t?.mask&&this.init(t.mask)}init(t){this.mask=t,this.mask.includeInBuild=!1,this.mask.measurable=!1}reset(){this.mask!==null&&(this.mask.measurable=!0,this.mask.includeInBuild=!0,this.mask=null)}addBounds(t,i){my(this.mask,t,i)}addLocalBounds(t,i){py(this.mask,t,i)}containsPoint(t,i){const s=this.mask;return i(s,t)}destroy(){this.reset()}static test(t){return t instanceof nn}}xy.extension=vt.MaskEffect;const bb={createCanvas:(r,t)=>{const i=document.createElement("canvas");return i.width=r,i.height=t,i},createImage:()=>new Image,getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(r,t)=>fetch(r,t),parseXML:r=>new DOMParser().parseFromString(r,"text/xml")};let t_=bb;const hi={get(){return t_},set(r){t_=r}};class vy extends sn{constructor(t){t.resource||(t.resource=hi.get().createCanvas()),t.width||(t.width=t.resource.width,t.autoDensity||(t.width/=t.resolution)),t.height||(t.height=t.resource.height,t.autoDensity||(t.height/=t.resolution)),super(t),this.uploadMethodId="image",this.autoDensity=t.autoDensity,this.resizeCanvas(),this.transparent=!!t.transparent}resizeCanvas(){this.autoDensity&&"style"in this.resource&&(this.resource.style.width=`${this.width}px`,this.resource.style.height=`${this.height}px`),(this.resource.width!==this.pixelWidth||this.resource.height!==this.pixelHeight)&&(this.resource.width=this.pixelWidth,this.resource.height=this.pixelHeight)}resize(t=this.width,i=this.height,s=this._resolution){const u=super.resize(t,i,s);return u&&this.resizeCanvas(),u}static test(t){return globalThis.HTMLCanvasElement&&t instanceof HTMLCanvasElement||globalThis.OffscreenCanvas&&t instanceof OffscreenCanvas}get context2D(){return this._context2D||(this._context2D=this.resource.getContext("2d"))}}vy.extension=vt.TextureSource;class Gl extends sn{constructor(t){super(t),this.uploadMethodId="image",this.autoGarbageCollect=!0}static test(t){return globalThis.HTMLImageElement&&t instanceof HTMLImageElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap||globalThis.VideoFrame&&t instanceof VideoFrame}}Gl.extension=vt.TextureSource;var Ul=(r=>(r[r.INTERACTION=50]="INTERACTION",r[r.HIGH=25]="HIGH",r[r.NORMAL=0]="NORMAL",r[r.LOW=-25]="LOW",r[r.UTILITY=-50]="UTILITY",r))(Ul||{});class Sc{constructor(t,i=null,s=0,u=!1){this.next=null,this.previous=null,this._destroyed=!1,this._fn=t,this._context=i,this.priority=s,this._once=u}match(t,i=null){return this._fn===t&&this._context===i}emit(t){this._fn&&(this._context?this._fn.call(this._context,t):this._fn(t));const i=this.next;return this._once&&this.destroy(!0),this._destroyed&&(this.next=null),i}connect(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this}destroy(t=!1){this._destroyed=!0,this._fn=null,this._context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const i=this.next;return this.next=t?null:i,this.previous=null,i}}const by=class He{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new Sc(null,null,1/0),this.deltaMS=1/He.targetFPMS,this.elapsedMS=1/He.targetFPMS,this._tick=t=>{this._requestId=null,this.started&&(this.update(t),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(t,i,s=Ul.NORMAL){return this._addListener(new Sc(t,i,s))}addOnce(t,i,s=Ul.NORMAL){return this._addListener(new Sc(t,i,s,!0))}_addListener(t){let i=this._head.next,s=this._head;if(!i)t.connect(s);else{for(;i;){if(t.priority>i.priority){t.connect(s);break}s=i,i=i.next}t.previous||t.connect(s)}return this._startIfPossible(),this}remove(t,i){let s=this._head.next;for(;s;)s.match(t,i)?s=s.destroy():s=s.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let t=0,i=this._head;for(;i=i.next;)t++;return t}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let t=this._head.next;for(;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}}update(t=performance.now()){let i;if(t>this.lastTime){if(i=this.elapsedMS=t-this.lastTime,i>this._maxElapsedMS&&(i=this._maxElapsedMS),i*=this.speed,this._minElapsedMS){const o=t-this._lastFrame|0;if(o<this._minElapsedMS)return;this._lastFrame=t-o%this._minElapsedMS}this.deltaMS=i,this.deltaTime=this.deltaMS*He.targetFPMS;const s=this._head;let u=s.next;for(;u;)u=u.emit(this);s.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(t){const i=Math.min(this.maxFPS,t),s=Math.min(Math.max(0,i)/1e3,He.targetFPMS);this._maxElapsedMS=1/s}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(t){if(t===0)this._minElapsedMS=0;else{const i=Math.max(this.minFPS,t);this._minElapsedMS=1/(i/1e3)}}static get shared(){if(!He._shared){const t=He._shared=new He;t.autoStart=!0,t._protected=!0}return He._shared}static get system(){if(!He._system){const t=He._system=new He;t.autoStart=!0,t._protected=!0}return He._system}};by.targetFPMS=.06;let Ma=by,Ac;async function Sb(){return Ac??(Ac=(async()=>{const t=hi.get().createCanvas(1,1).getContext("webgl");if(!t)return"premultiply-alpha-on-upload";const i=await new Promise(f=>{const m=document.createElement("video");m.onloadeddata=()=>f(m),m.onerror=()=>f(null),m.autoplay=!1,m.crossOrigin="anonymous",m.preload="auto",m.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",m.load()});if(!i)return"premultiply-alpha-on-upload";const s=t.createTexture();t.bindTexture(t.TEXTURE_2D,s);const u=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,u),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,s,0),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,i);const o=new Uint8Array(4);return t.readPixels(0,0,1,1,t.RGBA,t.UNSIGNED_BYTE,o),t.deleteFramebuffer(u),t.deleteTexture(s),t.getExtension("WEBGL_lose_context")?.loseContext(),o[0]<=o[3]?"premultiplied-alpha":"premultiply-alpha-on-upload"})()),Ac}const Ll=class Sy extends sn{constructor(t){super(t),this.isReady=!1,this.uploadMethodId="video",t={...Sy.defaultOptions,...t},this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=t.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=t.autoPlay!==!1,this.alphaMode=t.alphaMode??"premultiply-alpha-on-upload",this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onCanPlayThrough=this._onCanPlayThrough.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),t.autoLoad!==!1&&this.load()}updateFrame(){if(!this.destroyed){if(this._updateFPS){const t=Ma.shared.elapsedMS*this.resource.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-t)}(!this._updateFPS||this._msToNextUpdate<=0)&&(this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0),this.isValid&&this.update()}}_videoFrameRequestCallback(){this.updateFrame(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback)}get isValid(){return!!this.resource.videoWidth&&!!this.resource.videoHeight}async load(){if(this._load)return this._load;const t=this.resource,i=this.options;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart),t.addEventListener("pause",this._onPlayStop),t.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._mediaReady():(i.preload||t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlayThrough),t.addEventListener("error",this._onError,!0)),this.alphaMode=await Sb(),this._load=new Promise((s,u)=>{this.isValid?s(this):(this._resolve=s,this._reject=u,i.preloadTimeoutMs!==void 0&&(this._preloadTimeout=setTimeout(()=>{this._onError(new ErrorEvent(`Preload exceeded timeout of ${i.preloadTimeoutMs}ms`))})),t.load())}),this._load}_onError(t){this.resource.removeEventListener("error",this._onError,!0),this.emit("error",t),this._reject&&(this._reject(t),this._reject=null,this._resolve=null)}_isSourcePlaying(){const t=this.resource;return!t.paused&&!t.ended}_isSourceReady(){return this.resource.readyState>2}_onPlayStart(){this.isValid||this._mediaReady(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0)}_onCanPlay(){this.resource.removeEventListener("canplay",this._onCanPlay),this._mediaReady()}_onCanPlayThrough(){this.resource.removeEventListener("canplaythrough",this._onCanPlay),this._preloadTimeout&&(clearTimeout(this._preloadTimeout),this._preloadTimeout=void 0),this._mediaReady()}_mediaReady(){const t=this.resource;this.isValid&&(this.isReady=!0,this.resize(t.videoWidth,t.videoHeight)),this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0,this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.resource.play()}destroy(){this._configureAutoUpdate();const t=this.resource;t&&(t.removeEventListener("play",this._onPlayStart),t.removeEventListener("pause",this._onPlayStop),t.removeEventListener("seeked",this._onSeeked),t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlayThrough),t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),super.destroy()}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(t){t!==this._updateFPS&&(this._updateFPS=t,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.resource.requestVideoFrameCallback?(this._isConnectedToTicker&&(Ma.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(Ma.shared.add(this.updateFrame,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(Ma.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(t){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement}};Ll.extension=vt.TextureSource;Ll.defaultOptions={...sn.defaultOptions,autoLoad:!0,autoPlay:!0,updateFPS:0,crossorigin:!0,loop:!1,muted:!0,playsinline:!0,preload:!1};Ll.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let Ab=Ll;const Sa=(r,t,i=!1)=>(Array.isArray(r)||(r=[r]),t?r.map(s=>typeof s=="string"||i?t(s):s):r);class Tb{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(t){return this._cache.has(t)}get(t){const i=this._cache.get(t);return i||Ne(`[Assets] Asset id ${t} was not found in the Cache`),i}set(t,i){const s=Sa(t);let u;for(let p=0;p<this.parsers.length;p++){const _=this.parsers[p];if(_.test(i)){u=_.getCacheableAssets(s,i);break}}const o=new Map(Object.entries(u||{}));u||s.forEach(p=>{o.set(p,i)});const f=[...o.keys()],m={cacheKeys:f,keys:s};s.forEach(p=>{this._cacheMap.set(p,m)}),f.forEach(p=>{const _=u?u[p]:i;this._cache.has(p)&&this._cache.get(p)!==_&&Ne("[Cache] already has key:",p),this._cache.set(p,o.get(p))})}remove(t){if(!this._cacheMap.has(t)){Ne(`[Assets] Asset id ${t} was not found in the Cache`);return}const i=this._cacheMap.get(t);i.cacheKeys.forEach(u=>{this._cache.delete(u)}),i.keys.forEach(u=>{this._cacheMap.delete(u)})}get parsers(){return this._parsers}}const Aa=new Tb,Vc=[];ie.handleByList(vt.TextureSource,Vc);function Ay(r={}){const t=r&&r.resource,i=t?r.resource:r,s=t?r:{resource:r};for(let u=0;u<Vc.length;u++){const o=Vc[u];if(o.test(i))return new o(s)}throw new Error(`Could not find a source type for resource: ${s.resource}`)}function Mb(r={},t=!1){const i=r&&r.resource,s=i?r.resource:r,u=i?r:{resource:r};if(!t&&Aa.has(s))return Aa.get(s);const o=new Dt({source:Ay(u)});return o.on("destroy",()=>{Aa.has(s)&&Aa.remove(s)}),t||Aa.set(s,o),o}function wb(r,t=!1){return typeof r=="string"?Aa.get(r):r instanceof sn?new Dt({source:r}):Mb(r,t)}Dt.from=wb;sn.from=Ay;ie.add(yy,gy,xy,Ab,Gl,vy,rh);var Ty=(r=>(r[r.Low=0]="Low",r[r.Normal=1]="Normal",r[r.High=2]="High",r))(Ty||{});function en(r){if(typeof r!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(r)}`)}function Ms(r){return r.split("?")[0].split("#")[0]}function Cb(r){return r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Eb(r,t,i){return r.replace(new RegExp(Cb(t),"g"),i)}function Rb(r,t){let i="",s=0,u=-1,o=0,f=-1;for(let m=0;m<=r.length;++m){if(m<r.length)f=r.charCodeAt(m);else{if(f===47)break;f=47}if(f===47){if(!(u===m-1||o===1))if(u!==m-1&&o===2){if(i.length<2||s!==2||i.charCodeAt(i.length-1)!==46||i.charCodeAt(i.length-2)!==46){if(i.length>2){const p=i.lastIndexOf("/");if(p!==i.length-1){p===-1?(i="",s=0):(i=i.slice(0,p),s=i.length-1-i.lastIndexOf("/")),u=m,o=0;continue}}else if(i.length===2||i.length===1){i="",s=0,u=m,o=0;continue}}}else i.length>0?i+=`/${r.slice(u+1,m)}`:i=r.slice(u+1,m),s=m-u-1;u=m,o=0}else f===46&&o!==-1?++o:o=-1}return i}const js={toPosix(r){return Eb(r,"\\","/")},isUrl(r){return/^https?:/.test(this.toPosix(r))},isDataUrl(r){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(r)},isBlobUrl(r){return r.startsWith("blob:")},hasProtocol(r){return/^[^/:]+:/.test(this.toPosix(r))},getProtocol(r){en(r),r=this.toPosix(r);const t=/^file:\/\/\//.exec(r);if(t)return t[0];const i=/^[^/:]+:\/{0,2}/.exec(r);return i?i[0]:""},toAbsolute(r,t,i){if(en(r),this.isDataUrl(r)||this.isBlobUrl(r))return r;const s=Ms(this.toPosix(t??hi.get().getBaseUrl())),u=Ms(this.toPosix(i??this.rootname(s)));return r=this.toPosix(r),r.startsWith("/")?js.join(u,r.slice(1)):this.isAbsolute(r)?r:this.join(s,r)},normalize(r){if(en(r),r.length===0)return".";if(this.isDataUrl(r)||this.isBlobUrl(r))return r;r=this.toPosix(r);let t="";const i=r.startsWith("/");this.hasProtocol(r)&&(t=this.rootname(r),r=r.slice(t.length));const s=r.endsWith("/");return r=Rb(r),r.length>0&&s&&(r+="/"),i?`/${r}`:t+r},isAbsolute(r){return en(r),r=this.toPosix(r),this.hasProtocol(r)?!0:r.startsWith("/")},join(...r){if(r.length===0)return".";let t;for(let i=0;i<r.length;++i){const s=r[i];if(en(s),s.length>0)if(t===void 0)t=s;else{const u=r[i-1]??"";this.joinExtensions.includes(this.extname(u).toLowerCase())?t+=`/../${s}`:t+=`/${s}`}}return t===void 0?".":this.normalize(t)},dirname(r){if(en(r),r.length===0)return".";r=this.toPosix(r);let t=r.charCodeAt(0);const i=t===47;let s=-1,u=!0;const o=this.getProtocol(r),f=r;r=r.slice(o.length);for(let m=r.length-1;m>=1;--m)if(t=r.charCodeAt(m),t===47){if(!u){s=m;break}}else u=!1;return s===-1?i?"/":this.isUrl(f)?o+r:o:i&&s===1?"//":o+r.slice(0,s)},rootname(r){en(r),r=this.toPosix(r);let t="";if(r.startsWith("/")?t="/":t=this.getProtocol(r),this.isUrl(r)){const i=r.indexOf("/",t.length);i!==-1?t=r.slice(0,i):t=r,t.endsWith("/")||(t+="/")}return t},basename(r,t){en(r),t&&en(t),r=Ms(this.toPosix(r));let i=0,s=-1,u=!0,o;if(t!==void 0&&t.length>0&&t.length<=r.length){if(t.length===r.length&&t===r)return"";let f=t.length-1,m=-1;for(o=r.length-1;o>=0;--o){const p=r.charCodeAt(o);if(p===47){if(!u){i=o+1;break}}else m===-1&&(u=!1,m=o+1),f>=0&&(p===t.charCodeAt(f)?--f===-1&&(s=o):(f=-1,s=m))}return i===s?s=m:s===-1&&(s=r.length),r.slice(i,s)}for(o=r.length-1;o>=0;--o)if(r.charCodeAt(o)===47){if(!u){i=o+1;break}}else s===-1&&(u=!1,s=o+1);return s===-1?"":r.slice(i,s)},extname(r){en(r),r=Ms(this.toPosix(r));let t=-1,i=0,s=-1,u=!0,o=0;for(let f=r.length-1;f>=0;--f){const m=r.charCodeAt(f);if(m===47){if(!u){i=f+1;break}continue}s===-1&&(u=!1,s=f+1),m===46?t===-1?t=f:o!==1&&(o=1):t!==-1&&(o=-1)}return t===-1||s===-1||o===0||o===1&&t===s-1&&t===i+1?"":r.slice(t,s)},parse(r){en(r);const t={root:"",dir:"",base:"",ext:"",name:""};if(r.length===0)return t;r=Ms(this.toPosix(r));let i=r.charCodeAt(0);const s=this.isAbsolute(r);let u;t.root=this.rootname(r),s||this.hasProtocol(r)?u=1:u=0;let o=-1,f=0,m=-1,p=!0,_=r.length-1,x=0;for(;_>=u;--_){if(i=r.charCodeAt(_),i===47){if(!p){f=_+1;break}continue}m===-1&&(p=!1,m=_+1),i===46?o===-1?o=_:x!==1&&(x=1):o!==-1&&(x=-1)}return o===-1||m===-1||x===0||x===1&&o===m-1&&o===f+1?m!==-1&&(f===0&&s?t.base=t.name=r.slice(1,m):t.base=t.name=r.slice(f,m)):(f===0&&s?(t.name=r.slice(1,o),t.base=r.slice(1,m)):(t.name=r.slice(f,o),t.base=r.slice(f,m)),t.ext=r.slice(o,m)),t.dir=this.dirname(r),t},sep:"/",delimiter:":",joinExtensions:[".html"]};function My(r,t,i,s,u){const o=t[i];for(let f=0;f<o.length;f++){const m=o[f];i<t.length-1?My(r.replace(s[i],m),t,i+1,s,u):u.push(r.replace(s[i],m))}}function zb(r){const t=/\{(.*?)\}/g,i=r.match(t),s=[];if(i){const u=[];i.forEach(o=>{const f=o.substring(1,o.length-1).split(",");u.push(f)}),My(r,u,0,i,s)}else s.push(r);return s}const e_=r=>!Array.isArray(r);class wy{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(t,i)=>`${t}${this._bundleIdConnector}${i}`,extractAssetIdFromBundle:(t,i)=>i.replace(`${t}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(t){if(this._bundleIdConnector=t.connector??this._bundleIdConnector,this._createBundleAssetId=t.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=t.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...t){t.forEach(i=>{this._preferredOrder.push(i),i.priority||(i.priority=Object.keys(i.params))}),this._resolverHash={}}set basePath(t){this._basePath=t}get basePath(){return this._basePath}set rootPath(t){this._rootPath=t}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(t){if(typeof t=="string")this._defaultSearchParams=t;else{const i=t;this._defaultSearchParams=Object.keys(i).map(s=>`${encodeURIComponent(s)}=${encodeURIComponent(i[s])}`).join("&")}}getAlias(t){const{alias:i,src:s}=t;return Sa(i||s,o=>typeof o=="string"?o:Array.isArray(o)?o.map(f=>f?.src??f):o?.src?o.src:o,!0)}addManifest(t){this._manifest&&Ne("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=t,t.bundles.forEach(i=>{this.addBundle(i.name,i.assets)})}addBundle(t,i){const s=[];let u=i;Array.isArray(i)||(u=Object.entries(i).map(([o,f])=>typeof f=="string"||Array.isArray(f)?{alias:o,src:f}:{alias:o,...f})),u.forEach(o=>{const f=o.src,m=o.alias;let p;if(typeof m=="string"){const _=this._createBundleAssetId(t,m);s.push(_),p=[m,_]}else{const _=m.map(x=>this._createBundleAssetId(t,x));s.push(..._),p=[...m,..._]}this.add({...o,alias:p,src:f})}),this._bundles[t]=s}add(t){const i=[];Array.isArray(t)?i.push(...t):i.push(t);let s;s=o=>{this.hasKey(o)&&Ne(`[Resolver] already has key: ${o} overwriting`)},Sa(i).forEach(o=>{const{src:f}=o;let{data:m,format:p,loadParser:_,parser:x}=o;const c=Sa(f).map(T=>typeof T=="string"?zb(T):Array.isArray(T)?T:[T]),y=this.getAlias(o);Array.isArray(y)?y.forEach(s):s(y);const g=[],b=T=>{const M=this._parsers.find(A=>A.test(T));return{src:T,...M?.parse(T)}};c.forEach(T=>{T.forEach(M=>{let A={};if(typeof M!="object"?A=b(M):(m=M.data??m,p=M.format??p,(M.loadParser||M.parser)&&(_=M.loadParser??_,x=M.parser??x),A={...b(M.src),...M}),!y)throw new Error(`[Resolver] alias is undefined for this asset: ${A.src}`);A=this._buildResolvedAsset(A,{aliases:y,data:m,format:p,loadParser:_,parser:x,progressSize:o.progressSize}),g.push(A)})}),y.forEach(T=>{this._assetMap[T]=g})})}resolveBundle(t){const i=e_(t);t=Sa(t);const s={};return t.forEach(u=>{const o=this._bundles[u];if(o){const f=this.resolve(o),m={};for(const p in f){const _=f[p];m[this._extractAssetIdFromBundle(u,p)]=_}s[u]=m}}),i?s[t[0]]:s}resolveUrl(t){const i=this.resolve(t);if(typeof t!="string"){const s={};for(const u in i)s[u]=i[u].src;return s}return i.src}resolve(t){const i=e_(t);t=Sa(t);const s={};return t.forEach(u=>{if(!this._resolverHash[u])if(this._assetMap[u]){let o=this._assetMap[u];const f=this._getPreferredOrder(o);f?.priority.forEach(m=>{f.params[m].forEach(p=>{const _=o.filter(x=>x[m]?x[m]===p:!1);_.length&&(o=_)})}),this._resolverHash[u]=o[0]}else this._resolverHash[u]=this._buildResolvedAsset({alias:[u],src:u},{});s[u]=this._resolverHash[u]}),i?s[t[0]]:s}hasKey(t){return!!this._assetMap[t]}hasBundle(t){return!!this._bundles[t]}_getPreferredOrder(t){for(let i=0;i<t.length;i++){const s=t[i],u=this._preferredOrder.find(o=>o.params.format.includes(s.format));if(u)return u}return this._preferredOrder[0]}_appendDefaultSearchParams(t){if(!this._defaultSearchParams)return t;const i=/\?/.test(t)?"&":"?";return`${t}${i}${this._defaultSearchParams}`}_buildResolvedAsset(t,i){const{aliases:s,data:u,loadParser:o,parser:f,format:m,progressSize:p}=i;return(this._basePath||this._rootPath)&&(t.src=js.toAbsolute(t.src,this._basePath,this._rootPath)),t.alias=s??t.alias??[t.src],t.src=this._appendDefaultSearchParams(t.src),t.data={...u||{},...t.data},t.loadParser=o??t.loadParser,t.parser=f??t.parser,t.format=m??t.format??Db(t.src),p!==void 0&&(t.progressSize=p),t}}wy.RETINA_PREFIX=/@([0-9\.]+)x/;function Db(r){return r.split(".").pop().split("?").shift().split("#").shift()}const n_=(r,t)=>{const i=t.split("?")[1];return i&&(r+=`?${i}`),r},Cy=class Us{constructor(t,i){this.linkedSheets=[];let s=t;t?.source instanceof sn&&(s={texture:t,data:i});const{texture:u,data:o,cachePrefix:f=""}=s;this.cachePrefix=f,this._texture=u instanceof Dt?u:null,this.textureSource=u.source,this.textures={},this.animations={},this.data=o;const m=parseFloat(o.meta.scale);m?(this.resolution=m,u.source.resolution=this.resolution):this.resolution=u.source._resolution,this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}parse(){return new Promise(t=>{this._callback=t,this._batchIndex=0,this._frameKeys.length<=Us.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}parseSync(){return this._processFrames(0,!0),this._processAnimations(),this.textures}_processFrames(t,i=!1){let s=t;const u=i?1/0:Us.BATCH_SIZE;for(;s-t<u&&s<this._frameKeys.length;){const o=this._frameKeys[s],f=this._frames[o],m=f.frame;if(m){let p=null,_=null;const x=f.trimmed!==!1&&f.sourceSize?f.sourceSize:f.frame,c=new ne(0,0,Math.floor(x.w)/this.resolution,Math.floor(x.h)/this.resolution);f.rotated?p=new ne(Math.floor(m.x)/this.resolution,Math.floor(m.y)/this.resolution,Math.floor(m.h)/this.resolution,Math.floor(m.w)/this.resolution):p=new ne(Math.floor(m.x)/this.resolution,Math.floor(m.y)/this.resolution,Math.floor(m.w)/this.resolution,Math.floor(m.h)/this.resolution),f.trimmed!==!1&&f.spriteSourceSize&&(_=new ne(Math.floor(f.spriteSourceSize.x)/this.resolution,Math.floor(f.spriteSourceSize.y)/this.resolution,Math.floor(m.w)/this.resolution,Math.floor(m.h)/this.resolution)),this.textures[o]=new Dt({source:this.textureSource,frame:p,orig:c,trim:_,rotate:f.rotated?2:0,defaultAnchor:f.anchor,defaultBorders:f.borders,label:o.toString()})}s++}}_processAnimations(){const t=this.data.animations||{};for(const i in t){this.animations[i]=[];for(let s=0;s<t[i].length;s++){const u=t[i][s];this.animations[i].push(this.textures[u])}}}_parseComplete(){const t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*Us.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*Us.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(t=!1){for(const i in this.textures)this.textures[i].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&(this._texture?.destroy(),this.textureSource.destroy()),this._texture=null,this.textureSource=null,this.linkedSheets=[]}};Cy.BATCH_SIZE=1e3;let i_=Cy;const Ob=["jpg","png","jpeg","avif","webp","basis","etc2","bc7","bc6h","bc5","bc4","bc3","bc2","bc1","eac","astc"];function Ey(r,t,i){const s={};if(r.forEach(u=>{s[u]=t}),Object.keys(t.textures).forEach(u=>{s[`${t.cachePrefix}${u}`]=t.textures[u]}),!i){const u=js.dirname(r[0]);t.linkedSheets.forEach((o,f)=>{const m=Ey([`${u}/${t.data.meta.related_multi_packs[f]}`],o,!0);Object.assign(s,m)})}return s}const Bb={extension:vt.Asset,cache:{test:r=>r instanceof i_,getCacheableAssets:(r,t)=>Ey(r,t,!1)},resolver:{extension:{type:vt.ResolveParser,name:"resolveSpritesheet"},test:r=>{const i=r.split("?")[0].split("."),s=i.pop(),u=i.pop();return s==="json"&&Ob.includes(u)},parse:r=>{const t=r.split(".");return{resolution:parseFloat(wy.RETINA_PREFIX.exec(r)?.[1]??"1"),format:t[t.length-2],src:r}}},loader:{name:"spritesheetLoader",id:"spritesheet",extension:{type:vt.LoadParser,priority:Ty.Normal,name:"spritesheetLoader"},async testParse(r,t){return js.extname(t.src).toLowerCase()===".json"&&!!r.frames},async parse(r,t,i){const{texture:s,imageFilename:u,textureOptions:o,cachePrefix:f}=t?.data??{};let m=js.dirname(t.src);m&&m.lastIndexOf("/")!==m.length-1&&(m+="/");let p;if(s instanceof Dt)p=s;else{const c=n_(m+(u??r.meta.image),t.src);p=(await i.load([{src:c,data:o}]))[c]}const _=new i_({texture:p.source,data:r,cachePrefix:f});await _.parse();const x=r?.meta?.related_multi_packs;if(Array.isArray(x)){const c=[];for(const g of x){if(typeof g!="string")continue;let b=m+g;t.data?.ignoreMultiPack||(b=n_(b,t.src),c.push(i.load({src:b,data:{textureOptions:o,ignoreMultiPack:!0}})))}const y=await Promise.all(c);_.linkedSheets=y,y.forEach(g=>{g.linkedSheets=[_].concat(_.linkedSheets.filter(b=>b!==g))})}return _},async unload(r,t,i){await i.unload(r.textureSource._sourceOrigin),r.destroy(!1)}}};ie.add(Bb);const Tc=Object.create(null),a_=Object.create(null);function oh(r,t){let i=a_[r];return i===void 0&&(Tc[t]===void 0&&(Tc[t]=1),a_[r]=i=Tc[t]++),i}let Al;function Ry(){return(!Al||Al?.isContextLost())&&(Al=hi.get().createCanvas().getContext("webgl",{})),Al}let Tl;function Gb(){if(!Tl){Tl="mediump";const r=Ry();r&&r.getShaderPrecisionFormat&&(Tl=r.getShaderPrecisionFormat(r.FRAGMENT_SHADER,r.HIGH_FLOAT).precision?"highp":"mediump")}return Tl}function Ub(r,t,i){return t?r:i?(r=r.replace("out vec4 finalColor;",""),`

        #ifdef GL_ES // This checks if it is WebGL1
        #define in varying
        #define finalColor gl_FragColor
        #define texture texture2D
        #endif
        ${r}
        `):`

        #ifdef GL_ES // This checks if it is WebGL1
        #define in attribute
        #define out varying
        #endif
        ${r}
        `}function Hb(r,t,i){const s=i?t.maxSupportedFragmentPrecision:t.maxSupportedVertexPrecision;if(r.substring(0,9)!=="precision"){let u=i?t.requestedFragmentPrecision:t.requestedVertexPrecision;return u==="highp"&&s!=="highp"&&(u="mediump"),`precision ${u} float;
${r}`}else if(s!=="highp"&&r.substring(0,15)==="precision highp")return r.replace("precision highp","precision mediump");return r}function Nb(r,t){return t?`#version 300 es
${r}`:r}const kb={},Lb={};function Yb(r,{name:t="pixi-program"},i=!0){t=t.replace(/\s+/g,"-"),t+=i?"-fragment":"-vertex";const s=i?kb:Lb;return s[t]?(s[t]++,t+=`-${s[t]}`):s[t]=1,r.indexOf("#define SHADER_NAME")!==-1?r:`${`#define SHADER_NAME ${t}`}
${r}`}function qb(r,t){return t?r.replace("#version 300 es",""):r}const Mc={stripVersion:qb,ensurePrecision:Hb,addProgramDefines:Ub,setProgramName:Yb,insertVersion:Nb},ws=Object.create(null),zy=class Pc{constructor(t){t={...Pc.defaultOptions,...t};const i=t.fragment.indexOf("#version 300 es")!==-1,s={stripVersion:i,ensurePrecision:{requestedFragmentPrecision:t.preferredFragmentPrecision,requestedVertexPrecision:t.preferredVertexPrecision,maxSupportedVertexPrecision:"highp",maxSupportedFragmentPrecision:Gb()},setProgramName:{name:t.name},addProgramDefines:i,insertVersion:i};let u=t.fragment,o=t.vertex;Object.keys(Mc).forEach(f=>{const m=s[f];u=Mc[f](u,m,!0),o=Mc[f](o,m,!1)}),this.fragment=u,this.vertex=o,this.transformFeedbackVaryings=t.transformFeedbackVaryings,this._key=oh(`${this.vertex}:${this.fragment}`,"gl-program")}destroy(){this.fragment=null,this.vertex=null,this._attributeData=null,this._uniformData=null,this._uniformBlockData=null,this.transformFeedbackVaryings=null,ws[this._cacheKey]=null}static from(t){const i=`${t.vertex}:${t.fragment}`;return ws[i]||(ws[i]=new Pc(t),ws[i]._cacheKey=i),ws[i]}};zy.defaultOptions={preferredVertexPrecision:"highp",preferredFragmentPrecision:"mediump"};let Yl=zy;const s_={uint8x2:{size:2,stride:2,normalised:!1},uint8x4:{size:4,stride:4,normalised:!1},sint8x2:{size:2,stride:2,normalised:!1},sint8x4:{size:4,stride:4,normalised:!1},unorm8x2:{size:2,stride:2,normalised:!0},unorm8x4:{size:4,stride:4,normalised:!0},snorm8x2:{size:2,stride:2,normalised:!0},snorm8x4:{size:4,stride:4,normalised:!0},uint16x2:{size:2,stride:4,normalised:!1},uint16x4:{size:4,stride:8,normalised:!1},sint16x2:{size:2,stride:4,normalised:!1},sint16x4:{size:4,stride:8,normalised:!1},unorm16x2:{size:2,stride:4,normalised:!0},unorm16x4:{size:4,stride:8,normalised:!0},snorm16x2:{size:2,stride:4,normalised:!0},snorm16x4:{size:4,stride:8,normalised:!0},float16x2:{size:2,stride:4,normalised:!1},float16x4:{size:4,stride:8,normalised:!1},float32:{size:1,stride:4,normalised:!1},float32x2:{size:2,stride:8,normalised:!1},float32x3:{size:3,stride:12,normalised:!1},float32x4:{size:4,stride:16,normalised:!1},uint32:{size:1,stride:4,normalised:!1},uint32x2:{size:2,stride:8,normalised:!1},uint32x3:{size:3,stride:12,normalised:!1},uint32x4:{size:4,stride:16,normalised:!1},sint32:{size:1,stride:4,normalised:!1},sint32x2:{size:2,stride:8,normalised:!1},sint32x3:{size:3,stride:12,normalised:!1},sint32x4:{size:4,stride:16,normalised:!1}};function Xb(r){return s_[r]??s_.float32}const jb={f32:"float32","vec2<f32>":"float32x2","vec3<f32>":"float32x3","vec4<f32>":"float32x4",vec2f:"float32x2",vec3f:"float32x3",vec4f:"float32x4",i32:"sint32","vec2<i32>":"sint32x2","vec3<i32>":"sint32x3","vec4<i32>":"sint32x4",vec2i:"sint32x2",vec3i:"sint32x3",vec4i:"sint32x4",u32:"uint32","vec2<u32>":"uint32x2","vec3<u32>":"uint32x3","vec4<u32>":"uint32x4",vec2u:"uint32x2",vec3u:"uint32x3",vec4u:"uint32x4",bool:"uint32","vec2<bool>":"uint32x2","vec3<bool>":"uint32x3","vec4<bool>":"uint32x4"},r_=/@location\((\d+)\)\s+([a-zA-Z0-9_]+)\s*:\s*([a-zA-Z0-9_<>]+)(?:,|\s|\)|$)/g;function l_(r,t){let i;for(;(i=r_.exec(r))!==null;){const s=jb[i[3]]??"float32";t[i[2]]={location:parseInt(i[1],10),format:s,stride:Xb(s).stride,offset:0,instance:!1,start:0}}r_.lastIndex=0}function Vb(r){return r.replace(/\/\/.*$/gm,"").replace(/\/\*[\s\S]*?\*\//g,"")}function Pb({source:r,entryPoint:t}){const i={},s=Vb(r),u=s.indexOf(`fn ${t}(`);if(u===-1)return i;const o=s.indexOf("->",u);if(o===-1)return i;const f=s.substring(u,o);if(l_(f,i),Object.keys(i).length===0){const m=f.match(/\(\s*\w+\s*:\s*(\w+)/);if(m){const p=m[1],_=new RegExp(`struct\\s+${p}\\s*\\{([^}]+)\\}`,"s"),x=s.match(_);x&&l_(x[1],i)}}return i}function wc(r){const t=/(^|[^/])@(group|binding)\(\d+\)[^;]+;/g,i=/@group\((\d+)\)/,s=/@binding\((\d+)\)/,u=/var(<[^>]+>)? (\w+)/,o=/:\s*([\w<>]+)/,f=/struct\s+(\w+)\s*{([^}]+)}/g,m=/(\w+)\s*:\s*([\w\<\>]+)/g,p=/struct\s+(\w+)/,_=r.match(t)?.map(c=>({group:parseInt(c.match(i)[1],10),binding:parseInt(c.match(s)[1],10),name:c.match(u)[2],isUniform:c.match(u)[1]==="<uniform>",type:c.match(o)[1]}));if(!_)return{groups:[],structs:[]};const x=r.match(f)?.map(c=>{const y=c.match(p)[1],g=c.match(m).reduce((b,T)=>{const[M,A]=T.split(":");return b[M.trim()]=A.trim(),b},{});return g?{name:y,members:g}:null}).filter(({name:c})=>_.some(y=>y.type===c||y.type.includes(`<${c}>`)))??[];return{groups:_,structs:x}}var Ui=(r=>(r[r.VERTEX=1]="VERTEX",r[r.FRAGMENT=2]="FRAGMENT",r[r.COMPUTE=4]="COMPUTE",r))(Ui||{});function Fb({groups:r}){const t=[];for(let i=0;i<r.length;i++){const s=r[i];t[s.group]||(t[s.group]=[]),s.isUniform?t[s.group].push({binding:s.binding,visibility:Ui.VERTEX|Ui.FRAGMENT,buffer:{type:"uniform"}}):s.type==="sampler"?t[s.group].push({binding:s.binding,visibility:Ui.FRAGMENT,sampler:{type:"filtering"}}):s.type==="texture_2d"||s.type.startsWith("texture_2d<")?t[s.group].push({binding:s.binding,visibility:Ui.FRAGMENT,texture:{sampleType:"float",viewDimension:"2d",multisampled:!1}}):s.type==="texture_2d_array"||s.type.startsWith("texture_2d_array<")?t[s.group].push({binding:s.binding,visibility:Ui.FRAGMENT,texture:{sampleType:"float",viewDimension:"2d-array",multisampled:!1}}):(s.type==="texture_cube"||s.type.startsWith("texture_cube<"))&&t[s.group].push({binding:s.binding,visibility:Ui.FRAGMENT,texture:{sampleType:"float",viewDimension:"cube",multisampled:!1}})}for(let i=0;i<t.length;i++)t[i]||(t[i]=[]);return t}function Qb({groups:r}){const t=[];for(let i=0;i<r.length;i++){const s=r[i];t[s.group]||(t[s.group]={}),t[s.group][s.name]=s.binding}return t}function Zb(r,t){const i=new Set,s=new Set,u=[...r.structs,...t.structs].filter(f=>i.has(f.name)?!1:(i.add(f.name),!0)),o=[...r.groups,...t.groups].filter(f=>{const m=`${f.name}-${f.binding}`;return s.has(m)?!1:(s.add(m),!0)});return{structs:u,groups:o}}const Cs=Object.create(null);class Ea{constructor(t){this._layoutKey=0,this._attributeLocationsKey=0;const{fragment:i,vertex:s,layout:u,gpuLayout:o,name:f}=t;if(this.name=f,this.fragment=i,this.vertex=s,i.source===s.source){const m=wc(i.source);this.structsAndGroups=m}else{const m=wc(s.source),p=wc(i.source);this.structsAndGroups=Zb(m,p)}this.layout=u??Qb(this.structsAndGroups),this.gpuLayout=o??Fb(this.structsAndGroups),this.autoAssignGlobalUniforms=this.layout[0]?.globalUniforms!==void 0,this.autoAssignLocalUniforms=this.layout[1]?.localUniforms!==void 0,this._generateProgramKey()}_generateProgramKey(){const{vertex:t,fragment:i}=this,s=t.source+i.source+t.entryPoint+i.entryPoint;this._layoutKey=oh(s,"program")}get attributeData(){return this._attributeData??(this._attributeData=Pb(this.vertex)),this._attributeData}destroy(){this.gpuLayout=null,this.layout=null,this.structsAndGroups=null,this.fragment=null,this.vertex=null,Cs[this._cacheKey]=null}static from(t){const i=`${t.vertex.source}:${t.fragment.source}:${t.fragment.entryPoint}:${t.vertex.entryPoint}`;return Cs[i]||(Cs[i]=new Ea(t),Cs[i]._cacheKey=i),Cs[i]}}const Dy=["f32","i32","vec2<f32>","vec3<f32>","vec4<f32>","mat2x2<f32>","mat3x3<f32>","mat4x4<f32>","mat3x2<f32>","mat4x2<f32>","mat2x3<f32>","mat4x3<f32>","mat2x4<f32>","mat3x4<f32>","vec2<i32>","vec3<i32>","vec4<i32>"],Ib=Dy.reduce((r,t)=>(r[t]=!0,r),{});function Kb(r,t){switch(r){case"f32":return 0;case"vec2<f32>":return new Float32Array(2*t);case"vec3<f32>":return new Float32Array(3*t);case"vec4<f32>":return new Float32Array(4*t);case"mat2x2<f32>":return new Float32Array([1,0,0,1]);case"mat3x3<f32>":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4x4<f32>":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const Oy=class By{constructor(t,i){this._touched=0,this.uid=Vt("uniform"),this._resourceType="uniformGroup",this._resourceId=Vt("resource"),this.isUniformGroup=!0,this._dirtyId=0,this.destroyed=!1,i={...By.defaultOptions,...i},this.uniformStructures=t;const s={};for(const u in t){const o=t[u];if(o.name=u,o.size=o.size??1,!Ib[o.type]){const f=o.type.match(/^array<(\w+(?:<\w+>)?),\s*(\d+)>$/);if(f){const[,m,p]=f;throw new Error(`Uniform type ${o.type} is not supported. Use type: '${m}', size: ${p} instead.`)}throw new Error(`Uniform type ${o.type} is not supported. Supported uniform types are: ${Dy.join(", ")}`)}o.value??(o.value=Kb(o.type,o.size)),s[u]=o.value}this.uniforms=s,this._dirtyId=1,this.ubo=i.ubo,this.isStatic=i.isStatic,this._signature=oh(Object.keys(s).map(u=>`${u}-${t[u].type}`).join("-"),"uniform-group")}update(){this._dirtyId++}};Oy.defaultOptions={ubo:!1,isStatic:!1};let ch=Oy;class Bl{constructor(t){this.resources=Object.create(null),this._dirty=!0;let i=0;for(const s in t){const u=t[s];this.setResource(u,i++)}this._updateKey()}_updateKey(){if(!this._dirty)return;this._dirty=!1;const t=[];let i=0;for(const s in this.resources)t[i++]=this.resources[s]._resourceId;this._key=t.join("|")}setResource(t,i){const s=this.resources[i];t!==s&&(s&&t.off?.("change",this.onResourceChange,this),t.on?.("change",this.onResourceChange,this),this.resources[i]=t,this._dirty=!0)}getResource(t){return this.resources[t]}_touch(t,i){const s=this.resources;for(const u in s)s[u]._gcLastUsed=t,s[u]._touched=i}destroy(){const t=this.resources;for(const i in t)t[i]?.off?.("change",this.onResourceChange,this);this.resources=null}onResourceChange(t){if(this._dirty=!0,t.destroyed){const i=this.resources;for(const s in i)i[s]===t&&(i[s]=null)}else this._updateKey()}}var Fc=(r=>(r[r.WEBGL=1]="WEBGL",r[r.WEBGPU=2]="WEBGPU",r[r.CANVAS=4]="CANVAS",r[r.BOTH=3]="BOTH",r))(Fc||{});class ql extends Hn{constructor(t){super(),this.uid=Vt("shader"),this._uniformBindMap=Object.create(null),this._ownedBindGroups=[],this._destroyed=!1;let{gpuProgram:i,glProgram:s,groups:u,resources:o,compatibleRenderers:f,groupMap:m}=t;this.gpuProgram=i,this.glProgram=s,f===void 0&&(f=0,i&&(f|=Fc.WEBGPU),s&&(f|=Fc.WEBGL)),this.compatibleRenderers=f;const p={};if(!o&&!u&&(o={}),o&&u)throw new Error("[Shader] Cannot have both resources and groups");if(!i&&u&&!m)throw new Error("[Shader] No group map or WebGPU shader provided - consider using resources instead.");if(!i&&u&&m)for(const _ in m)for(const x in m[_]){const c=m[_][x];p[c]={group:_,binding:x,name:c}}else if(i&&u&&!m){const _=i.structsAndGroups.groups;m={},_.forEach(x=>{m[x.group]=m[x.group]||{},m[x.group][x.binding]=x.name,p[x.name]=x})}else if(o){u={},m={},i&&i.structsAndGroups.groups.forEach(c=>{m[c.group]=m[c.group]||{},m[c.group][c.binding]=c.name,p[c.name]=c});let _=0;for(const x in o)p[x]||(u[99]||(u[99]=new Bl,this._ownedBindGroups.push(u[99])),p[x]={group:99,binding:_,name:x},m[99]=m[99]||{},m[99][_]=x,_++);for(const x in o){const c=x;let y=o[x];!y.source&&!y._resourceType&&(y=new ch(y));const g=p[c];g&&(u[g.group]||(u[g.group]=new Bl,this._ownedBindGroups.push(u[g.group])),u[g.group].setResource(y,g.binding))}}this.groups=u,this._uniformBindMap=m,this.resources=this._buildResourceAccessor(u,p)}addResource(t,i,s){var u,o;(u=this._uniformBindMap)[i]||(u[i]={}),(o=this._uniformBindMap[i])[s]||(o[s]=t),this.groups[i]||(this.groups[i]=new Bl,this._ownedBindGroups.push(this.groups[i]))}_buildResourceAccessor(t,i){const s={};for(const u in i){const o=i[u];Object.defineProperty(s,o.name,{get(){return t[o.group].getResource(o.binding)},set(f){t[o.group].setResource(f,o.binding)}})}return s}destroy(t=!1){this._destroyed||(this._destroyed=!0,this.emit("destroy",this),t&&(this.gpuProgram?.destroy(),this.glProgram?.destroy()),this.gpuProgram=null,this.glProgram=null,this.removeAllListeners(),this._uniformBindMap=null,this._ownedBindGroups.forEach(i=>{i.destroy()}),this._ownedBindGroups=null,this.resources=null,this.groups=null)}static from(t){const{gpu:i,gl:s,...u}=t;let o,f;return i&&(o=Ea.from(i)),s&&(f=Yl.from(s)),new ql({gpuProgram:o,glProgram:f,...u})}}const Jb={normal:0,add:1,multiply:2,screen:3,overlay:4,erase:5,"normal-npm":6,"add-npm":7,"screen-npm":8,min:9,max:10},Cc=0,Ec=1,Rc=2,zc=3,Dc=4,Oc=5,Qc=class Gy{constructor(){this.data=0,this.blendMode="normal",this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<Cc)}set blend(t){!!(this.data&1<<Cc)!==t&&(this.data^=1<<Cc)}get offsets(){return!!(this.data&1<<Ec)}set offsets(t){!!(this.data&1<<Ec)!==t&&(this.data^=1<<Ec)}set cullMode(t){if(t==="none"){this.culling=!1;return}this.culling=!0,this.clockwiseFrontFace=t==="front"}get cullMode(){return this.culling?this.clockwiseFrontFace?"front":"back":"none"}get culling(){return!!(this.data&1<<Rc)}set culling(t){!!(this.data&1<<Rc)!==t&&(this.data^=1<<Rc)}get depthTest(){return!!(this.data&1<<zc)}set depthTest(t){!!(this.data&1<<zc)!==t&&(this.data^=1<<zc)}get depthMask(){return!!(this.data&1<<Oc)}set depthMask(t){!!(this.data&1<<Oc)!==t&&(this.data^=1<<Oc)}get clockwiseFrontFace(){return!!(this.data&1<<Dc)}set clockwiseFrontFace(t){!!(this.data&1<<Dc)!==t&&(this.data^=1<<Dc)}get blendMode(){return this._blendMode}set blendMode(t){this.blend=t!=="none",this._blendMode=t,this._blendModeId=Jb[t]||0}get polygonOffset(){return this._polygonOffset}set polygonOffset(t){this.offsets=!!t,this._polygonOffset=t}toString(){return`[pixi.js/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`}static for2d(){const t=new Gy;return t.depthTest=!1,t.blend=!0,t}};Qc.default2d=Qc.for2d();let hh=Qc;const Uy=class Zc extends ql{constructor(t){t={...Zc.defaultOptions,...t},super(t),this.enabled=!0,this._state=hh.for2d(),this.blendMode=t.blendMode,this.padding=t.padding,typeof t.antialias=="boolean"?this.antialias=t.antialias?"on":"off":this.antialias=t.antialias,this.resolution=t.resolution,this.blendRequired=t.blendRequired,this.clipToViewport=t.clipToViewport,this.addResource("uTexture",0,1),t.blendRequired&&this.addResource("uBackTexture",0,3)}apply(t,i,s,u){t.applyFilter(this,i,s,u)}get blendMode(){return this._state.blendMode}set blendMode(t){this._state.blendMode=t}static from(t){const{gpu:i,gl:s,...u}=t;let o,f;return i&&(o=Ea.from(i)),s&&(f=Yl.from(s)),new Zc({gpuProgram:o,glProgram:f,...u})}};Uy.defaultOptions={blendMode:"normal",resolution:1,padding:0,antialias:"off",blendRequired:!1,clipToViewport:!0};let $b=Uy;const Ic=[];ie.handleByNamedList(vt.Environment,Ic);async function Wb(r){if(!r)for(let t=0;t<Ic.length;t++){const i=Ic[t];if(i.value.test()){await i.value.load();return}}}let Es;function t1(){if(typeof Es=="boolean")return Es;try{Es=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{Es=!1}return Es}function u_(r,t,i=2){const s=t&&t.length,u=s?t[0]*i:r.length;let o=Hy(r,0,u,i,!0);const f=[];if(!o||o.next===o.prev)return f;let m,p,_;if(s&&(o=s1(r,t,o,i)),r.length>80*i){m=r[0],p=r[1];let x=m,c=p;for(let y=i;y<u;y+=i){const g=r[y],b=r[y+1];g<m&&(m=g),b<p&&(p=b),g>x&&(x=g),b>c&&(c=b)}_=Math.max(x-m,c-p),_=_!==0?32767/_:0}return Vs(o,f,i,m,p,_,0),f}function Hy(r,t,i,s,u){let o;if(u===_1(r,t,i,s)>0)for(let f=t;f<i;f+=s)o=o_(f/s|0,r[f],r[f+1],o);else for(let f=i-s;f>=t;f-=s)o=o_(f/s|0,r[f],r[f+1],o);return o&&Ca(o,o.next)&&(Fs(o),o=o.next),o}function Hi(r,t){if(!r)return r;t||(t=r);let i=r,s;do if(s=!1,!i.steiner&&(Ca(i,i.next)||kt(i.prev,i,i.next)===0)){if(Fs(i),i=t=i.prev,i===i.next)break;s=!0}else i=i.next;while(s||i!==t);return t}function Vs(r,t,i,s,u,o,f){if(!r)return;!f&&o&&c1(r,s,u,o);let m=r;for(;r.prev!==r.next;){const p=r.prev,_=r.next;if(o?n1(r,s,u,o):e1(r)){t.push(p.i,r.i,_.i),Fs(r),r=_.next,m=_.next;continue}if(r=_,r===m){f?f===1?(r=i1(Hi(r),t),Vs(r,t,i,s,u,o,2)):f===2&&a1(r,t,i,s,u,o):Vs(Hi(r),t,i,s,u,o,1);break}}}function e1(r){const t=r.prev,i=r,s=r.next;if(kt(t,i,s)>=0)return!1;const u=t.x,o=i.x,f=s.x,m=t.y,p=i.y,_=s.y,x=Math.min(u,o,f),c=Math.min(m,p,_),y=Math.max(u,o,f),g=Math.max(m,p,_);let b=s.next;for(;b!==t;){if(b.x>=x&&b.x<=y&&b.y>=c&&b.y<=g&&Hs(u,m,o,p,f,_,b.x,b.y)&&kt(b.prev,b,b.next)>=0)return!1;b=b.next}return!0}function n1(r,t,i,s){const u=r.prev,o=r,f=r.next;if(kt(u,o,f)>=0)return!1;const m=u.x,p=o.x,_=f.x,x=u.y,c=o.y,y=f.y,g=Math.min(m,p,_),b=Math.min(x,c,y),T=Math.max(m,p,_),M=Math.max(x,c,y),A=Kc(g,b,t,i,s),E=Kc(T,M,t,i,s);let C=r.prevZ,B=r.nextZ;for(;C&&C.z>=A&&B&&B.z<=E;){if(C.x>=g&&C.x<=T&&C.y>=b&&C.y<=M&&C!==u&&C!==f&&Hs(m,x,p,c,_,y,C.x,C.y)&&kt(C.prev,C,C.next)>=0||(C=C.prevZ,B.x>=g&&B.x<=T&&B.y>=b&&B.y<=M&&B!==u&&B!==f&&Hs(m,x,p,c,_,y,B.x,B.y)&&kt(B.prev,B,B.next)>=0))return!1;B=B.nextZ}for(;C&&C.z>=A;){if(C.x>=g&&C.x<=T&&C.y>=b&&C.y<=M&&C!==u&&C!==f&&Hs(m,x,p,c,_,y,C.x,C.y)&&kt(C.prev,C,C.next)>=0)return!1;C=C.prevZ}for(;B&&B.z<=E;){if(B.x>=g&&B.x<=T&&B.y>=b&&B.y<=M&&B!==u&&B!==f&&Hs(m,x,p,c,_,y,B.x,B.y)&&kt(B.prev,B,B.next)>=0)return!1;B=B.nextZ}return!0}function i1(r,t){let i=r;do{const s=i.prev,u=i.next.next;!Ca(s,u)&&ky(s,i,i.next,u)&&Ps(s,u)&&Ps(u,s)&&(t.push(s.i,i.i,u.i),Fs(i),Fs(i.next),i=r=u),i=i.next}while(i!==r);return Hi(i)}function a1(r,t,i,s,u,o){let f=r;do{let m=f.next.next;for(;m!==f.prev;){if(f.i!==m.i&&d1(f,m)){let p=Ly(f,m);f=Hi(f,f.next),p=Hi(p,p.next),Vs(f,t,i,s,u,o,0),Vs(p,t,i,s,u,o,0);return}m=m.next}f=f.next}while(f!==r)}function s1(r,t,i,s){const u=[];for(let o=0,f=t.length;o<f;o++){const m=t[o]*s,p=o<f-1?t[o+1]*s:r.length,_=Hy(r,m,p,s,!1);_===_.next&&(_.steiner=!0),u.push(f1(_))}u.sort(r1);for(let o=0;o<u.length;o++)i=l1(u[o],i);return i}function r1(r,t){let i=r.x-t.x;if(i===0&&(i=r.y-t.y,i===0)){const s=(r.next.y-r.y)/(r.next.x-r.x),u=(t.next.y-t.y)/(t.next.x-t.x);i=s-u}return i}function l1(r,t){const i=u1(r,t);if(!i)return t;const s=Ly(i,r);return Hi(s,s.next),Hi(i,i.next)}function u1(r,t){let i=t;const s=r.x,u=r.y;let o=-1/0,f;if(Ca(r,i))return i;do{if(Ca(r,i.next))return i.next;if(u<=i.y&&u>=i.next.y&&i.next.y!==i.y){const c=i.x+(u-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(c<=s&&c>o&&(o=c,f=i.x<i.next.x?i:i.next,c===s))return f}i=i.next}while(i!==t);if(!f)return null;const m=f,p=f.x,_=f.y;let x=1/0;i=f;do{if(s>=i.x&&i.x>=p&&s!==i.x&&Ny(u<_?s:o,u,p,_,u<_?o:s,u,i.x,i.y)){const c=Math.abs(u-i.y)/(s-i.x);Ps(i,r)&&(c<x||c===x&&(i.x>f.x||i.x===f.x&&o1(f,i)))&&(f=i,x=c)}i=i.next}while(i!==m);return f}function o1(r,t){return kt(r.prev,r,t.prev)<0&&kt(t.next,r,r.next)<0}function c1(r,t,i,s){let u=r;do u.z===0&&(u.z=Kc(u.x,u.y,t,i,s)),u.prevZ=u.prev,u.nextZ=u.next,u=u.next;while(u!==r);u.prevZ.nextZ=null,u.prevZ=null,h1(u)}function h1(r){let t,i=1;do{let s=r,u;r=null;let o=null;for(t=0;s;){t++;let f=s,m=0;for(let _=0;_<i&&(m++,f=f.nextZ,!!f);_++);let p=i;for(;m>0||p>0&&f;)m!==0&&(p===0||!f||s.z<=f.z)?(u=s,s=s.nextZ,m--):(u=f,f=f.nextZ,p--),o?o.nextZ=u:r=u,u.prevZ=o,o=u;s=f}o.nextZ=null,i*=2}while(t>1);return r}function Kc(r,t,i,s,u){return r=(r-i)*u|0,t=(t-s)*u|0,r=(r|r<<8)&16711935,r=(r|r<<4)&252645135,r=(r|r<<2)&858993459,r=(r|r<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,r|t<<1}function f1(r){let t=r,i=r;do(t.x<i.x||t.x===i.x&&t.y<i.y)&&(i=t),t=t.next;while(t!==r);return i}function Ny(r,t,i,s,u,o,f,m){return(u-f)*(t-m)>=(r-f)*(o-m)&&(r-f)*(s-m)>=(i-f)*(t-m)&&(i-f)*(o-m)>=(u-f)*(s-m)}function Hs(r,t,i,s,u,o,f,m){return!(r===f&&t===m)&&Ny(r,t,i,s,u,o,f,m)}function d1(r,t){return r.next.i!==t.i&&r.prev.i!==t.i&&!m1(r,t)&&(Ps(r,t)&&Ps(t,r)&&p1(r,t)&&(kt(r.prev,r,t.prev)||kt(r,t.prev,t))||Ca(r,t)&&kt(r.prev,r,r.next)>0&&kt(t.prev,t,t.next)>0)}function kt(r,t,i){return(t.y-r.y)*(i.x-t.x)-(t.x-r.x)*(i.y-t.y)}function Ca(r,t){return r.x===t.x&&r.y===t.y}function ky(r,t,i,s){const u=wl(kt(r,t,i)),o=wl(kt(r,t,s)),f=wl(kt(i,s,r)),m=wl(kt(i,s,t));return!!(u!==o&&f!==m||u===0&&Ml(r,i,t)||o===0&&Ml(r,s,t)||f===0&&Ml(i,r,s)||m===0&&Ml(i,t,s))}function Ml(r,t,i){return t.x<=Math.max(r.x,i.x)&&t.x>=Math.min(r.x,i.x)&&t.y<=Math.max(r.y,i.y)&&t.y>=Math.min(r.y,i.y)}function wl(r){return r>0?1:r<0?-1:0}function m1(r,t){let i=r;do{if(i.i!==r.i&&i.next.i!==r.i&&i.i!==t.i&&i.next.i!==t.i&&ky(i,i.next,r,t))return!0;i=i.next}while(i!==r);return!1}function Ps(r,t){return kt(r.prev,r,r.next)<0?kt(r,t,r.next)>=0&&kt(r,r.prev,t)>=0:kt(r,t,r.prev)<0||kt(r,r.next,t)<0}function p1(r,t){let i=r,s=!1;const u=(r.x+t.x)/2,o=(r.y+t.y)/2;do i.y>o!=i.next.y>o&&i.next.y!==i.y&&u<(i.next.x-i.x)*(o-i.y)/(i.next.y-i.y)+i.x&&(s=!s),i=i.next;while(i!==r);return s}function Ly(r,t){const i=Jc(r.i,r.x,r.y),s=Jc(t.i,t.x,t.y),u=r.next,o=t.prev;return r.next=t,t.prev=r,i.next=u,u.prev=i,s.next=i,i.prev=s,o.next=s,s.prev=o,s}function o_(r,t,i,s){const u=Jc(r,t,i);return s?(u.next=s.next,u.prev=s,s.next.prev=u,s.next=u):(u.prev=u,u.next=u),u}function Fs(r){r.next.prev=r.prev,r.prev.next=r.next,r.prevZ&&(r.prevZ.nextZ=r.nextZ),r.nextZ&&(r.nextZ.prevZ=r.prevZ)}function Jc(r,t,i){return{i:r,x:t,y:i,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function _1(r,t,i,s){let u=0;for(let o=t,f=i-s;o<i;o+=s)u+=(r[f]-r[o])*(r[o+1]+r[f+1]),f=o;return u}const y1=u_.default||u_;var Yy=(r=>(r[r.NONE=0]="NONE",r[r.COLOR=16384]="COLOR",r[r.STENCIL=1024]="STENCIL",r[r.DEPTH=256]="DEPTH",r[r.COLOR_DEPTH=16640]="COLOR_DEPTH",r[r.COLOR_STENCIL=17408]="COLOR_STENCIL",r[r.DEPTH_STENCIL=1280]="DEPTH_STENCIL",r[r.ALL=17664]="ALL",r))(Yy||{});class g1{constructor(t){this.items=[],this._name=t}emit(t,i,s,u,o,f,m,p){const{name:_,items:x}=this;for(let c=0,y=x.length;c<y;c++)x[c][_](t,i,s,u,o,f,m,p);return this}add(t){return t[this._name]&&(this.remove(t),this.items.push(t)),this}remove(t){const i=this.items.indexOf(t);return i!==-1&&this.items.splice(i,1),this}contains(t){return this.items.indexOf(t)!==-1}removeAll(){return this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}const x1=["init","destroy","contextChange","resolutionChange","resetState","renderEnd","renderStart","render","update","postrender","prerender"],qy=class Xy extends Hn{constructor(t){super(),this.tick=0,this.uid=Vt("renderer"),this.runners=Object.create(null),this.renderPipes=Object.create(null),this._initOptions={},this._systemsHash=Object.create(null),this.type=t.type,this.name=t.name,this.config=t;const i=[...x1,...this.config.runners??[]];this._addRunners(...i),this._unsafeEvalCheck()}async init(t={}){const i=t.skipExtensionImports===!0?!0:t.manageImports===!1;await Wb(i),this._addSystems(this.config.systems),this._addPipes(this.config.renderPipes,this.config.renderPipeAdaptors);for(const s in this._systemsHash)t={...this._systemsHash[s].constructor.defaultOptions,...t};t={...Xy.defaultOptions,...t},this._roundPixels=t.roundPixels?1:0;for(let s=0;s<this.runners.init.items.length;s++)await this.runners.init.items[s].init(t);this._initOptions=t}render(t,i){this.tick++;let s=t;if(s instanceof nn&&(s={container:s},i&&(Ct(Kt,"passing a second argument is deprecated, please use render options instead"),s.target=i.renderTexture)),s.target||(s.target=this.view.renderTarget),s.target===this.view.renderTarget&&(this._lastObjectRendered=s.container,s.clearColor??(s.clearColor=this.background.colorRgba),s.clear??(s.clear=this.background.clearBeforeRender)),s.clearColor){const u=Array.isArray(s.clearColor)&&s.clearColor.length===4;s.clearColor=u?s.clearColor:Ie.shared.setValue(s.clearColor).toArray()}s.transform||(s.container.updateLocalTransform(),s.transform=s.container.localTransform),s.container.visible&&(s.container.enableRenderGroup(),this.runners.prerender.emit(s),this.runners.renderStart.emit(s),this.runners.render.emit(s),this.runners.renderEnd.emit(s),this.runners.postrender.emit(s))}resize(t,i,s){const u=this.view.resolution;this.view.resize(t,i,s),this.emit("resize",this.view.screen.width,this.view.screen.height,this.view.resolution),s!==void 0&&s!==u&&this.runners.resolutionChange.emit(s)}clear(t={}){const i=this;t.target||(t.target=i.renderTarget.renderTarget),t.clearColor||(t.clearColor=this.background.colorRgba),t.clear??(t.clear=Yy.ALL);const{clear:s,clearColor:u,target:o,mipLevel:f,layer:m}=t;Ie.shared.setValue(u??this.background.colorRgba),i.renderTarget.clear(o,s,Ie.shared.toArray(),f??0,m??0)}get resolution(){return this.view.resolution}set resolution(t){this.view.resolution=t,this.runners.resolutionChange.emit(t)}get width(){return this.view.texture.frame.width}get height(){return this.view.texture.frame.height}get canvas(){return this.view.canvas}get lastObjectRendered(){return this._lastObjectRendered}get renderingToScreen(){return this.renderTarget.renderingToScreen}get screen(){return this.view.screen}_addRunners(...t){t.forEach(i=>{this.runners[i]=new g1(i)})}_addSystems(t){let i;for(i in t){const s=t[i];this._addSystem(s.value,s.name)}}_addSystem(t,i){const s=new t(this);if(this[i])throw new Error(`Whoops! The name "${i}" is already in use`);this[i]=s,this._systemsHash[i]=s;for(const u in this.runners)this.runners[u].add(s);return this}_addPipes(t,i){const s=i.reduce((u,o)=>(u[o.name]=o.value,u),{});t.forEach(u=>{const o=u.value,f=u.name,m=s[f];this.renderPipes[f]=new o(this,m?new m:null),this.runners.destroy.add(this.renderPipes[f])})}destroy(t=!1){this.runners.destroy.items.reverse(),this.runners.destroy.emit(t),(t===!0||typeof t=="object"&&t.releaseGlobalResources)&&kl.release(),Object.values(this.runners).forEach(i=>{i.destroy()}),this._systemsHash=null,this.renderPipes=null}generateTexture(t){return this.textureGenerator.generateTexture(t)}get roundPixels(){return!!this._roundPixels}_unsafeEvalCheck(){if(!t1())throw new Error("Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support.")}resetState(){this.runners.resetState.emit()}};qy.defaultOptions={resolution:1,failIfMajorPerformanceCaveat:!1,roundPixels:!1};let jy=qy,Cl;function v1(r){return Cl!==void 0||(Cl=(()=>{const t={stencil:!0,failIfMajorPerformanceCaveat:r??jy.defaultOptions.failIfMajorPerformanceCaveat};try{if(!hi.get().getWebGLRenderingContext())return!1;let s=hi.get().createCanvas().getContext("webgl",t);const u=!!s?.getContextAttributes()?.stencil;if(s){const o=s.getExtension("WEBGL_lose_context");o&&o.loseContext()}return s=null,u}catch{return!1}})()),Cl}let El;async function b1(r={}){return El!==void 0||(El=await(async()=>{const t=hi.get().getNavigator().gpu;if(!t)return!1;try{return await(await t.requestAdapter(r)).requestDevice(),!0}catch{return!1}})()),El}const c_=["webgl","webgpu","canvas"];async function S1(r){let t=[];r.preference?(t.push(r.preference),c_.forEach(o=>{o!==r.preference&&t.push(o)})):t=c_.slice();let i,s={};for(let o=0;o<t.length;o++){const f=t[o];if(f==="webgpu"&&await b1()){const{WebGPURenderer:m}=await ks(async()=>{const{WebGPURenderer:p}=await import("./WebGPURenderer-B8II6iGH.js");return{WebGPURenderer:p}},__vite__mapDeps([2,3,4]));i=m,s={...r,...r.webgpu};break}else if(f==="webgl"&&v1(r.failIfMajorPerformanceCaveat??jy.defaultOptions.failIfMajorPerformanceCaveat)){const{WebGLRenderer:m}=await ks(async()=>{const{WebGLRenderer:p}=await import("./WebGLRenderer-B4tlK1EM.js");return{WebGLRenderer:p}},__vite__mapDeps([5,3,4]));i=m,s={...r,...r.webgl};break}else if(f==="canvas"){const{CanvasRenderer:m}=await ks(async()=>{const{CanvasRenderer:p}=await import("./CanvasRenderer-DTC-4uGY.js");return{CanvasRenderer:p}},__vite__mapDeps([6,4]));i=m,s={...r,...r.canvasOptions};break}}if(delete s.webgpu,delete s.webgl,delete s.canvasOptions,!i)throw new Error("No available renderer for the current environment");const u=new i;return await u.init(s),u}const Vy="8.16.0";class Py{static init(){globalThis.__PIXI_APP_INIT__?.(this,Vy)}static destroy(){}}Py.extension=vt.Application;class A1{constructor(t){this._renderer=t}init(){globalThis.__PIXI_RENDERER_INIT__?.(this._renderer,Vy)}destroy(){this._renderer=null}}A1.extension={type:[vt.WebGLSystem,vt.WebGPUSystem],name:"initHook",priority:-10};class Fy{static init(t){Object.defineProperty(this,"resizeTo",{configurable:!0,set(i){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=i,i&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this._cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this._cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this._cancelResize();let i,s;if(this._resizeTo===globalThis.window)i=globalThis.innerWidth,s=globalThis.innerHeight;else{const{clientWidth:u,clientHeight:o}=this._resizeTo;i=u,s=o}this.renderer.resize(i,s),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=t.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this._cancelResize(),this._cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}Fy.extension=vt.Application;class Qy{static init(t){t=Object.assign({autoStart:!0,sharedTicker:!1},t),Object.defineProperty(this,"ticker",{configurable:!0,set(i){this._ticker&&this._ticker.remove(this.render,this),this._ticker=i,i&&i.add(this.render,this,Ul.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=t.sharedTicker?Ma.shared:new Ma,t.autoStart&&this.start()}static destroy(){if(this._ticker){const t=this._ticker;this.ticker=null,t.destroy()}}}Qy.extension=vt.Application;ie.add(Fy);ie.add(Qy);const Zy=class $c{constructor(...t){this.stage=new nn,t[0]!==void 0&&Ct(Kt,"Application constructor options are deprecated, please use Application.init() instead.")}async init(t){t={...t},this.stage||(this.stage=new nn),this.renderer=await S1(t),$c._plugins.forEach(i=>{i.init.call(this,t)})}render(){this.renderer.render({container:this.stage})}get canvas(){return this.renderer.canvas}get view(){return Ct(Kt,"Application.view is deprecated, please use Application.canvas instead."),this.renderer.canvas}get screen(){return this.renderer.screen}destroy(t=!1,i=!1){const s=$c._plugins.slice(0);s.reverse(),s.forEach(u=>{u.destroy.call(this)}),this.stage.destroy(i),this.stage=null,this.renderer.destroy(t),this.renderer=null}};Zy._plugins=[];let Iy=Zy;ie.handleByList(vt.Application,Iy._plugins);ie.add(Py);var Bc,h_;function T1(){if(h_)return Bc;h_=1,Bc=i;var r={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},t=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function i(o){var f=[];return o.replace(t,function(m,p,_){var x=p.toLowerCase();for(_=u(_),x=="m"&&_.length>2&&(f.push([p].concat(_.splice(0,2))),x="l",p=p=="m"?"l":"L");;){if(_.length==r[x])return _.unshift(p),f.push(_);if(_.length<r[x])throw new Error("malformed path data");f.push([p].concat(_.splice(0,r[x])))}}),f}var s=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function u(o){var f=o.match(s);return f?f.map(Number):[]}return Bc}var M1=T1();const w1=Is(M1);function C1(r,t){const i=w1(r),s=[];let u=null,o=0,f=0;for(let m=0;m<i.length;m++){const p=i[m],_=p[0],x=p;switch(_){case"M":o=x[1],f=x[2],t.moveTo(o,f);break;case"m":o+=x[1],f+=x[2],t.moveTo(o,f);break;case"H":o=x[1],t.lineTo(o,f);break;case"h":o+=x[1],t.lineTo(o,f);break;case"V":f=x[1],t.lineTo(o,f);break;case"v":f+=x[1],t.lineTo(o,f);break;case"L":o=x[1],f=x[2],t.lineTo(o,f);break;case"l":o+=x[1],f+=x[2],t.lineTo(o,f);break;case"C":o=x[5],f=x[6],t.bezierCurveTo(x[1],x[2],x[3],x[4],o,f);break;case"c":t.bezierCurveTo(o+x[1],f+x[2],o+x[3],f+x[4],o+x[5],f+x[6]),o+=x[5],f+=x[6];break;case"S":o=x[3],f=x[4],t.bezierCurveToShort(x[1],x[2],o,f);break;case"s":t.bezierCurveToShort(o+x[1],f+x[2],o+x[3],f+x[4]),o+=x[3],f+=x[4];break;case"Q":o=x[3],f=x[4],t.quadraticCurveTo(x[1],x[2],o,f);break;case"q":t.quadraticCurveTo(o+x[1],f+x[2],o+x[3],f+x[4]),o+=x[3],f+=x[4];break;case"T":o=x[1],f=x[2],t.quadraticCurveToShort(o,f);break;case"t":o+=x[1],f+=x[2],t.quadraticCurveToShort(o,f);break;case"A":o=x[6],f=x[7],t.arcToSvg(x[1],x[2],x[3],x[4],x[5],o,f);break;case"a":o+=x[6],f+=x[7],t.arcToSvg(x[1],x[2],x[3],x[4],x[5],o,f);break;case"Z":case"z":t.closePath(),s.length>0&&(u=s.pop(),u?(o=u.startX,f=u.startY):(o=0,f=0)),u=null;break;default:Ne(`Unknown SVG path command: ${_}`)}_!=="Z"&&_!=="z"&&u===null&&(u={startX:o,startY:f},s.push(u))}return t}class fh{constructor(t=0,i=0,s=0){this.type="circle",this.x=t,this.y=i,this.radius=s}clone(){return new fh(this.x,this.y,this.radius)}contains(t,i){if(this.radius<=0)return!1;const s=this.radius*this.radius;let u=this.x-t,o=this.y-i;return u*=u,o*=o,u+o<=s}strokeContains(t,i,s,u=.5){if(this.radius===0)return!1;const o=this.x-t,f=this.y-i,m=this.radius,p=(1-u)*s,_=Math.sqrt(o*o+f*f);return _<=m+p&&_>m-(s-p)}getBounds(t){return t||(t=new ne),t.x=this.x-this.radius,t.y=this.y-this.radius,t.width=this.radius*2,t.height=this.radius*2,t}copyFrom(t){return this.x=t.x,this.y=t.y,this.radius=t.radius,this}copyTo(t){return t.copyFrom(this),t}toString(){return`[pixi.js/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class dh{constructor(t=0,i=0,s=0,u=0){this.type="ellipse",this.x=t,this.y=i,this.halfWidth=s,this.halfHeight=u}clone(){return new dh(this.x,this.y,this.halfWidth,this.halfHeight)}contains(t,i){if(this.halfWidth<=0||this.halfHeight<=0)return!1;let s=(t-this.x)/this.halfWidth,u=(i-this.y)/this.halfHeight;return s*=s,u*=u,s+u<=1}strokeContains(t,i,s,u=.5){const{halfWidth:o,halfHeight:f}=this;if(o<=0||f<=0)return!1;const m=s*(1-u),p=s-m,_=o-p,x=f-p,c=o+m,y=f+m,g=t-this.x,b=i-this.y,T=g*g/(_*_)+b*b/(x*x),M=g*g/(c*c)+b*b/(y*y);return T>1&&M<=1}getBounds(t){return t||(t=new ne),t.x=this.x-this.halfWidth,t.y=this.y-this.halfHeight,t.width=this.halfWidth*2,t.height=this.halfHeight*2,t}copyFrom(t){return this.x=t.x,this.y=t.y,this.halfWidth=t.halfWidth,this.halfHeight=t.halfHeight,this}copyTo(t){return t.copyFrom(this),t}toString(){return`[pixi.js/math:Ellipse x=${this.x} y=${this.y} halfWidth=${this.halfWidth} halfHeight=${this.halfHeight}]`}}function E1(r,t,i,s,u,o){const f=r-i,m=t-s,p=u-i,_=o-s,x=f*p+m*_,c=p*p+_*_;let y=-1;c!==0&&(y=x/c);let g,b;y<0?(g=i,b=s):y>1?(g=u,b=o):(g=i+y*p,b=s+y*_);const T=r-g,M=t-b;return T*T+M*M}let R1,z1;class Ys{constructor(...t){this.type="polygon";let i=Array.isArray(t[0])?t[0]:t;if(typeof i[0]!="number"){const s=[];for(let u=0,o=i.length;u<o;u++)s.push(i[u].x,i[u].y);i=s}this.points=i,this.closePath=!0}isClockwise(){let t=0;const i=this.points,s=i.length;for(let u=0;u<s;u+=2){const o=i[u],f=i[u+1],m=i[(u+2)%s],p=i[(u+3)%s];t+=(m-o)*(p+f)}return t<0}containsPolygon(t){const i=this.getBounds(R1),s=t.getBounds(z1);if(!i.containsRect(s))return!1;const u=t.points;for(let o=0;o<u.length;o+=2){const f=u[o],m=u[o+1];if(!this.contains(f,m))return!1}return!0}clone(){const t=this.points.slice(),i=new Ys(t);return i.closePath=this.closePath,i}contains(t,i){let s=!1;const u=this.points.length/2;for(let o=0,f=u-1;o<u;f=o++){const m=this.points[o*2],p=this.points[o*2+1],_=this.points[f*2],x=this.points[f*2+1];p>i!=x>i&&t<(_-m)*((i-p)/(x-p))+m&&(s=!s)}return s}strokeContains(t,i,s,u=.5){const o=s*s,f=o*(1-u),m=o-f,{points:p}=this,_=p.length-(this.closePath?0:2);for(let x=0;x<_;x+=2){const c=p[x],y=p[x+1],g=p[(x+2)%p.length],b=p[(x+3)%p.length],T=E1(t,i,c,y,g,b),M=Math.sign((g-c)*(i-y)-(b-y)*(t-c));if(T<=(M<0?m:f))return!0}return!1}getBounds(t){t||(t=new ne);const i=this.points;let s=1/0,u=-1/0,o=1/0,f=-1/0;for(let m=0,p=i.length;m<p;m+=2){const _=i[m],x=i[m+1];s=_<s?_:s,u=_>u?_:u,o=x<o?x:o,f=x>f?x:f}return t.x=s,t.width=u-s,t.y=o,t.height=f-o,t}copyFrom(t){return this.points=t.points.slice(),this.closePath=t.closePath,this}copyTo(t){return t.copyFrom(this),t}toString(){return`[pixi.js/math:PolygoncloseStroke=${this.closePath}points=${this.points.reduce((t,i)=>`${t}, ${i}`,"")}]`}get lastX(){return this.points[this.points.length-2]}get lastY(){return this.points[this.points.length-1]}get x(){return Ct("8.11.0","Polygon.lastX is deprecated, please use Polygon.lastX instead."),this.points[this.points.length-2]}get y(){return Ct("8.11.0","Polygon.y is deprecated, please use Polygon.lastY instead."),this.points[this.points.length-1]}get startX(){return this.points[0]}get startY(){return this.points[1]}}const Rl=(r,t,i,s,u,o,f)=>{const m=r-i,p=t-s,_=Math.sqrt(m*m+p*p);return _>=u-o&&_<=u+f};class mh{constructor(t=0,i=0,s=0,u=0,o=20){this.type="roundedRectangle",this.x=t,this.y=i,this.width=s,this.height=u,this.radius=o}getBounds(t){return t||(t=new ne),t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t}clone(){return new mh(this.x,this.y,this.width,this.height,this.radius)}copyFrom(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this}copyTo(t){return t.copyFrom(this),t}contains(t,i){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&i>=this.y&&i<=this.y+this.height){const s=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(i>=this.y+s&&i<=this.y+this.height-s||t>=this.x+s&&t<=this.x+this.width-s)return!0;let u=t-(this.x+s),o=i-(this.y+s);const f=s*s;if(u*u+o*o<=f||(u=t-(this.x+this.width-s),u*u+o*o<=f)||(o=i-(this.y+this.height-s),u*u+o*o<=f)||(u=t-(this.x+s),u*u+o*o<=f))return!0}return!1}strokeContains(t,i,s,u=.5){const{x:o,y:f,width:m,height:p,radius:_}=this,x=s*(1-u),c=s-x,y=o+_,g=f+_,b=m-_*2,T=p-_*2,M=o+m,A=f+p;return(t>=o-x&&t<=o+c||t>=M-c&&t<=M+x)&&i>=g&&i<=g+T||(i>=f-x&&i<=f+c||i>=A-c&&i<=A+x)&&t>=y&&t<=y+b?!0:t<y&&i<g&&Rl(t,i,y,g,_,c,x)||t>M-_&&i<g&&Rl(t,i,M-_,g,_,c,x)||t>M-_&&i>A-_&&Rl(t,i,M-_,A-_,_,c,x)||t<y&&i>A-_&&Rl(t,i,y,A-_,_,c,x)}toString(){return`[pixi.js/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}const Ky={};function D1(r,t,i){let s=2166136261;for(let u=0;u<t;u++)s^=r[u].uid,s=Math.imul(s,16777619),s>>>=0;return Ky[s]||O1(r,t,s,i)}function O1(r,t,i,s){const u={};let o=0;for(let m=0;m<s;m++){const p=m<t?r[m]:Dt.EMPTY.source;u[o++]=p.source,u[o++]=p.style}const f=new Bl(u);return Ky[i]=f,f}class f_{constructor(t){typeof t=="number"?this.rawBinaryData=new ArrayBuffer(t):t instanceof Uint8Array?this.rawBinaryData=t.buffer:this.rawBinaryData=t,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData),this.size=this.rawBinaryData.byteLength}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}get float64View(){return this._float64Array||(this._float64Array=new Float64Array(this.rawBinaryData)),this._float64Array}get bigUint64View(){return this._bigUint64Array||(this._bigUint64Array=new BigUint64Array(this.rawBinaryData)),this._bigUint64Array}view(t){return this[`${t}View`]}destroy(){this.rawBinaryData=null,this.uint32View=null,this.float32View=null,this.uint16View=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._int32View=null,this._float64Array=null,this._bigUint64Array=null}static sizeOf(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${t} isn't a valid view type`)}}}function d_(r,t,i,s){if(i??(i=0),s??(s=Math.min(r.byteLength-i,t.byteLength)),!(i&7)&&!(s&7)){const u=s/8;new Float64Array(t,0,u).set(new Float64Array(r,i,u))}else if(!(i&3)&&!(s&3)){const u=s/4;new Float32Array(t,0,u).set(new Float32Array(r,i,u))}else new Uint8Array(t).set(new Uint8Array(r,i,s))}const B1={normal:"normal-npm",add:"add-npm",screen:"screen-npm"};var G1=(r=>(r[r.DISABLED=0]="DISABLED",r[r.RENDERING_MASK_ADD=1]="RENDERING_MASK_ADD",r[r.MASK_ACTIVE=2]="MASK_ACTIVE",r[r.INVERSE_MASK_ACTIVE=3]="INVERSE_MASK_ACTIVE",r[r.RENDERING_MASK_REMOVE=4]="RENDERING_MASK_REMOVE",r[r.NONE=5]="NONE",r))(G1||{});function m_(r,t){return t.alphaMode==="no-premultiply-alpha"&&B1[r]||r}const U1=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function H1(r){let t="";for(let i=0;i<r;++i)i>0&&(t+=`
else `),i<r-1&&(t+=`if(test == ${i}.0){}`);return t}function N1(r,t){if(r===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const i=t.createShader(t.FRAGMENT_SHADER);try{for(;;){const s=U1.replace(/%forloop%/gi,H1(r));if(t.shaderSource(i,s),t.compileShader(i),!t.getShaderParameter(i,t.COMPILE_STATUS))r=r/2|0;else break}}finally{t.deleteShader(i)}return r}let ba=null;function k1(){if(ba)return ba;const r=Ry();return ba=r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS),ba=N1(ba,r),r.getExtension("WEBGL_lose_context")?.loseContext(),ba}class L1{constructor(){this.ids=Object.create(null),this.textures=[],this.count=0}clear(){for(let t=0;t<this.count;t++){const i=this.textures[t];this.textures[t]=null,this.ids[i.uid]=null}this.count=0}}class Y1{constructor(){this.renderPipeId="batch",this.action="startBatch",this.start=0,this.size=0,this.textures=new L1,this.blendMode="normal",this.topology="triangle-strip",this.canBundle=!0}destroy(){this.textures=null,this.gpuBindGroup=null,this.bindGroup=null,this.batcher=null,this.elements=null}}const qs=[];let Hl=0;kl.register({clear:()=>{if(qs.length>0)for(const r of qs)r&&r.destroy();qs.length=0,Hl=0}});function p_(){return Hl>0?qs[--Hl]:new Y1}function __(r){r.elements=null,qs[Hl++]=r}let Rs=0;const Jy=class $y{constructor(t){this.uid=Vt("batcher"),this.dirty=!0,this.batchIndex=0,this.batches=[],this._elements=[],t={...$y.defaultOptions,...t},t.maxTextures||(Ct("v8.8.0","maxTextures is a required option for Batcher now, please pass it in the options"),t.maxTextures=k1());const{maxTextures:i,attributesInitialSize:s,indicesInitialSize:u}=t;this.attributeBuffer=new f_(s*4),this.indexBuffer=new Uint16Array(u),this.maxTextures=i}begin(){this.elementSize=0,this.elementStart=0,this.indexSize=0,this.attributeSize=0;for(let t=0;t<this.batchIndex;t++)__(this.batches[t]);this.batchIndex=0,this._batchIndexStart=0,this._batchIndexSize=0,this.dirty=!0}add(t){this._elements[this.elementSize++]=t,t._indexStart=this.indexSize,t._attributeStart=this.attributeSize,t._batcher=this,this.indexSize+=t.indexSize,this.attributeSize+=t.attributeSize*this.vertexSize}checkAndUpdateTexture(t,i){const s=t._batch.textures.ids[i._source.uid];return!s&&s!==0?!1:(t._textureId=s,t.texture=i,!0)}updateElement(t){this.dirty=!0;const i=this.attributeBuffer;t.packAsQuad?this.packQuadAttributes(t,i.float32View,i.uint32View,t._attributeStart,t._textureId):this.packAttributes(t,i.float32View,i.uint32View,t._attributeStart,t._textureId)}break(t){const i=this._elements;if(!i[this.elementStart])return;let s=p_(),u=s.textures;u.clear();const o=i[this.elementStart];let f=m_(o.blendMode,o.texture._source),m=o.topology;this.attributeSize*4>this.attributeBuffer.size&&this._resizeAttributeBuffer(this.attributeSize*4),this.indexSize>this.indexBuffer.length&&this._resizeIndexBuffer(this.indexSize);const p=this.attributeBuffer.float32View,_=this.attributeBuffer.uint32View,x=this.indexBuffer;let c=this._batchIndexSize,y=this._batchIndexStart,g="startBatch",b=[];const T=this.maxTextures;for(let M=this.elementStart;M<this.elementSize;++M){const A=i[M];i[M]=null;const C=A.texture._source,B=m_(A.blendMode,C),X=f!==B||m!==A.topology;if(C._batchTick===Rs&&!X){A._textureId=C._textureBindLocation,c+=A.indexSize,A.packAsQuad?(this.packQuadAttributes(A,p,_,A._attributeStart,A._textureId),this.packQuadIndex(x,A._indexStart,A._attributeStart/this.vertexSize)):(this.packAttributes(A,p,_,A._attributeStart,A._textureId),this.packIndex(A,x,A._indexStart,A._attributeStart/this.vertexSize)),A._batch=s,b.push(A);continue}C._batchTick=Rs,(u.count>=T||X)&&(this._finishBatch(s,y,c-y,u,f,m,t,g,b),g="renderBatch",y=c,f=B,m=A.topology,s=p_(),u=s.textures,u.clear(),b=[],++Rs),A._textureId=C._textureBindLocation=u.count,u.ids[C.uid]=u.count,u.textures[u.count++]=C,A._batch=s,b.push(A),c+=A.indexSize,A.packAsQuad?(this.packQuadAttributes(A,p,_,A._attributeStart,A._textureId),this.packQuadIndex(x,A._indexStart,A._attributeStart/this.vertexSize)):(this.packAttributes(A,p,_,A._attributeStart,A._textureId),this.packIndex(A,x,A._indexStart,A._attributeStart/this.vertexSize))}u.count>0&&(this._finishBatch(s,y,c-y,u,f,m,t,g,b),y=c,++Rs),this.elementStart=this.elementSize,this._batchIndexStart=y,this._batchIndexSize=c}_finishBatch(t,i,s,u,o,f,m,p,_){t.gpuBindGroup=null,t.bindGroup=null,t.action=p,t.batcher=this,t.textures=u,t.blendMode=o,t.topology=f,t.start=i,t.size=s,t.elements=_,++Rs,this.batches[this.batchIndex++]=t,m.add(t)}finish(t){this.break(t)}ensureAttributeBuffer(t){t*4<=this.attributeBuffer.size||this._resizeAttributeBuffer(t*4)}ensureIndexBuffer(t){t<=this.indexBuffer.length||this._resizeIndexBuffer(t)}_resizeAttributeBuffer(t){const i=Math.max(t,this.attributeBuffer.size*2),s=new f_(i);d_(this.attributeBuffer.rawBinaryData,s.rawBinaryData),this.attributeBuffer=s}_resizeIndexBuffer(t){const i=this.indexBuffer;let s=Math.max(t,i.length*1.5);s+=s%2;const u=s>65535?new Uint32Array(s):new Uint16Array(s);if(u.BYTES_PER_ELEMENT!==i.BYTES_PER_ELEMENT)for(let o=0;o<i.length;o++)u[o]=i[o];else d_(i.buffer,u.buffer);this.indexBuffer=u}packQuadIndex(t,i,s){t[i]=s+0,t[i+1]=s+1,t[i+2]=s+2,t[i+3]=s+0,t[i+4]=s+2,t[i+5]=s+3}packIndex(t,i,s,u){const o=t.indices,f=t.indexSize,m=t.indexOffset,p=t.attributeOffset;for(let _=0;_<f;_++)i[s++]=u+o[_+m]-p}destroy(t={}){if(this.batches!==null){for(let i=0;i<this.batchIndex;i++)__(this.batches[i]);this.batches=null,this.geometry.destroy(!0),this.geometry=null,t.shader&&(this.shader?.destroy(),this.shader=null);for(let i=0;i<this._elements.length;i++)this._elements[i]&&(this._elements[i]._batch=null);this._elements=null,this.indexBuffer=null,this.attributeBuffer.destroy(),this.attributeBuffer=null}}};Jy.defaultOptions={maxTextures:null,attributesInitialSize:4,indicesInitialSize:6};let q1=Jy;var Te=(r=>(r[r.MAP_READ=1]="MAP_READ",r[r.MAP_WRITE=2]="MAP_WRITE",r[r.COPY_SRC=4]="COPY_SRC",r[r.COPY_DST=8]="COPY_DST",r[r.INDEX=16]="INDEX",r[r.VERTEX=32]="VERTEX",r[r.UNIFORM=64]="UNIFORM",r[r.STORAGE=128]="STORAGE",r[r.INDIRECT=256]="INDIRECT",r[r.QUERY_RESOLVE=512]="QUERY_RESOLVE",r[r.STATIC=1024]="STATIC",r))(Te||{});class Qs extends Hn{constructor(t){let{data:i,size:s}=t;const{usage:u,label:o,shrinkToFit:f}=t;super(),this._gpuData=Object.create(null),this._gcLastUsed=-1,this.autoGarbageCollect=!0,this.uid=Vt("buffer"),this._resourceType="buffer",this._resourceId=Vt("resource"),this._touched=0,this._updateID=1,this._dataInt32=null,this.shrinkToFit=!0,this.destroyed=!1,i instanceof Array&&(i=new Float32Array(i)),this._data=i,s??(s=i?.byteLength);const m=!!i;this.descriptor={size:s,usage:u,mappedAtCreation:m,label:o},this.shrinkToFit=f??!0}get data(){return this._data}set data(t){this.setDataWithSize(t,t.length,!0)}get dataInt32(){return this._dataInt32||(this._dataInt32=new Int32Array(this.data.buffer)),this._dataInt32}get static(){return!!(this.descriptor.usage&Te.STATIC)}set static(t){t?this.descriptor.usage|=Te.STATIC:this.descriptor.usage&=~Te.STATIC}setDataWithSize(t,i,s){if(this._updateID++,this._updateSize=i*t.BYTES_PER_ELEMENT,this._data===t){s&&this.emit("update",this);return}const u=this._data;if(this._data=t,this._dataInt32=null,!u||u.length!==t.length){!this.shrinkToFit&&u&&t.byteLength<u.byteLength?s&&this.emit("update",this):(this.descriptor.size=t.byteLength,this._resourceId=Vt("resource"),this.emit("change",this));return}s&&this.emit("update",this)}update(t){this._updateSize=t??this._updateSize,this._updateID++,this.emit("update",this)}unload(){this.emit("unload",this);for(const t in this._gpuData)this._gpuData[t]?.destroy();this._gpuData=Object.create(null)}destroy(){this.destroyed=!0,this.unload(),this.emit("destroy",this),this.emit("change",this),this._data=null,this.descriptor=null,this.removeAllListeners()}}function Wy(r,t){if(!(r instanceof Qs)){let i=t?Te.INDEX:Te.VERTEX;r instanceof Array&&(t?(r=new Uint32Array(r),i=Te.INDEX|Te.COPY_DST):(r=new Float32Array(r),i=Te.VERTEX|Te.COPY_DST)),r=new Qs({data:r,label:t?"index-mesh-buffer":"vertex-mesh-buffer",usage:i})}return r}function X1(r,t,i){const s=r.getAttribute(t);if(!s)return i.minX=0,i.minY=0,i.maxX=0,i.maxY=0,i;const u=s.buffer.data;let o=1/0,f=1/0,m=-1/0,p=-1/0;const _=u.BYTES_PER_ELEMENT,x=(s.offset||0)/_,c=(s.stride||8)/_;for(let y=x;y<u.length;y+=c){const g=u[y],b=u[y+1];g>m&&(m=g),b>p&&(p=b),g<o&&(o=g),b<f&&(f=b)}return i.minX=o,i.minY=f,i.maxX=m,i.maxY=p,i}function j1(r){return(r instanceof Qs||Array.isArray(r)||r.BYTES_PER_ELEMENT)&&(r={buffer:r}),r.buffer=Wy(r.buffer,!1),r}class V1 extends Hn{constructor(t={}){super(),this._gpuData=Object.create(null),this.autoGarbageCollect=!0,this._gcLastUsed=-1,this.uid=Vt("geometry"),this._layoutKey=0,this.instanceCount=1,this._bounds=new an,this._boundsDirty=!0;const{attributes:i,indexBuffer:s,topology:u}=t;if(this.buffers=[],this.attributes={},i)for(const o in i)this.addAttribute(o,i[o]);this.instanceCount=t.instanceCount??1,s&&this.addIndex(s),this.topology=u||"triangle-list"}onBufferUpdate(){this._boundsDirty=!0,this.emit("update",this)}getAttribute(t){return this.attributes[t]}getIndex(){return this.indexBuffer}getBuffer(t){return this.getAttribute(t).buffer}getSize(){for(const t in this.attributes){const i=this.attributes[t];return i.buffer.data.length/(i.stride/4||i.size)}return 0}addAttribute(t,i){const s=j1(i);this.buffers.indexOf(s.buffer)===-1&&(this.buffers.push(s.buffer),s.buffer.on("update",this.onBufferUpdate,this),s.buffer.on("change",this.onBufferUpdate,this)),this.attributes[t]=s}addIndex(t){this.indexBuffer=Wy(t,!0),this.buffers.push(this.indexBuffer)}get bounds(){return this._boundsDirty?(this._boundsDirty=!1,X1(this,"aPosition",this._bounds)):this._bounds}unload(){this.emit("unload",this);for(const t in this._gpuData)this._gpuData[t]?.destroy();this._gpuData=Object.create(null)}destroy(t=!1){this.emit("destroy",this),this.removeAllListeners(),t&&this.buffers.forEach(i=>i.destroy()),this.unload(),this.indexBuffer?.destroy(),this.attributes=null,this.buffers=null,this.indexBuffer=null,this._bounds=null}}const P1=new Float32Array(1),F1=new Uint32Array(1);class Q1 extends V1{constructor(){const i=new Qs({data:P1,label:"attribute-batch-buffer",usage:Te.VERTEX|Te.COPY_DST,shrinkToFit:!1}),s=new Qs({data:F1,label:"index-batch-buffer",usage:Te.INDEX|Te.COPY_DST,shrinkToFit:!1}),u=24;super({attributes:{aPosition:{buffer:i,format:"float32x2",stride:u,offset:0},aUV:{buffer:i,format:"float32x2",stride:u,offset:8},aColor:{buffer:i,format:"unorm8x4",stride:u,offset:16},aTextureIdAndRound:{buffer:i,format:"uint16x2",stride:u,offset:20}},indexBuffer:s})}}function y_(r,t,i){if(r)for(const s in r){const u=s.toLocaleLowerCase(),o=t[u];if(o){let f=r[s];s==="header"&&(f=f.replace(/@in\s+[^;]+;\s*/g,"").replace(/@out\s+[^;]+;\s*/g,"")),i&&o.push(`//----${i}----//`),o.push(f)}else Ne(`${s} placement hook does not exist in shader`)}}const Z1=/\{\{(.*?)\}\}/g;function g_(r){const t={};return(r.match(Z1)?.map(s=>s.replace(/[{()}]/g,""))??[]).forEach(s=>{t[s]=[]}),t}function x_(r,t){let i;const s=/@in\s+([^;]+);/g;for(;(i=s.exec(r))!==null;)t.push(i[1])}function v_(r,t,i=!1){const s=[];x_(t,s),r.forEach(m=>{m.header&&x_(m.header,s)});const u=s;i&&u.sort();const o=u.map((m,p)=>`       @location(${p}) ${m},`).join(`
`);let f=t.replace(/@in\s+[^;]+;\s*/g,"");return f=f.replace("{{in}}",`
${o}
`),f}function b_(r,t){let i;const s=/@out\s+([^;]+);/g;for(;(i=s.exec(r))!==null;)t.push(i[1])}function I1(r){const i=/\b(\w+)\s*:/g.exec(r);return i?i[1]:""}function K1(r){const t=/@.*?\s+/g;return r.replace(t,"")}function J1(r,t){const i=[];b_(t,i),r.forEach(p=>{p.header&&b_(p.header,i)});let s=0;const u=i.sort().map(p=>p.indexOf("builtin")>-1?p:`@location(${s++}) ${p}`).join(`,
`),o=i.sort().map(p=>`       var ${K1(p)};`).join(`
`),f=`return VSOutput(
            ${i.sort().map(p=>` ${I1(p)}`).join(`,
`)});`;let m=t.replace(/@out\s+[^;]+;\s*/g,"");return m=m.replace("{{struct}}",`
${u}
`),m=m.replace("{{start}}",`
${o}
`),m=m.replace("{{return}}",`
${f}
`),m}function S_(r,t){let i=r;for(const s in t){const u=t[s];u.join(`
`).length?i=i.replace(`{{${s}}}`,`//-----${s} START-----//
${u.join(`
`)}
//----${s} FINISH----//`):i=i.replace(`{{${s}}}`,"")}return i}const oi=Object.create(null),Gc=new Map;let $1=0;function W1({template:r,bits:t}){const i=tg(r,t);if(oi[i])return oi[i];const{vertex:s,fragment:u}=eS(r,t);return oi[i]=eg(s,u,t),oi[i]}function tS({template:r,bits:t}){const i=tg(r,t);return oi[i]||(oi[i]=eg(r.vertex,r.fragment,t)),oi[i]}function eS(r,t){const i=t.map(f=>f.vertex).filter(f=>!!f),s=t.map(f=>f.fragment).filter(f=>!!f);let u=v_(i,r.vertex,!0);u=J1(i,u);const o=v_(s,r.fragment,!0);return{vertex:u,fragment:o}}function tg(r,t){return t.map(i=>(Gc.has(i)||Gc.set(i,$1++),Gc.get(i))).sort((i,s)=>i-s).join("-")+r.vertex+r.fragment}function eg(r,t,i){const s=g_(r),u=g_(t);return i.forEach(o=>{y_(o.vertex,s,o.name),y_(o.fragment,u,o.name)}),{vertex:S_(r,s),fragment:S_(t,u)}}const nS=`
    @in aPosition: vec2<f32>;
    @in aUV: vec2<f32>;

    @out @builtin(position) vPosition: vec4<f32>;
    @out vUV : vec2<f32>;
    @out vColor : vec4<f32>;

    {{header}}

    struct VSOutput {
        {{struct}}
    };

    @vertex
    fn main( {{in}} ) -> VSOutput {

        var worldTransformMatrix = globalUniforms.uWorldTransformMatrix;
        var modelMatrix = mat3x3<f32>(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        var position = aPosition;
        var uv = aUV;

        {{start}}

        vColor = vec4<f32>(1., 1., 1., 1.);

        {{main}}

        vUV = uv;

        var modelViewProjectionMatrix = globalUniforms.uProjectionMatrix * worldTransformMatrix * modelMatrix;

        vPosition =  vec4<f32>((modelViewProjectionMatrix *  vec3<f32>(position, 1.0)).xy, 0.0, 1.0);

        vColor *= globalUniforms.uWorldColorAlpha;

        {{end}}

        {{return}}
    };
`,iS=`
    @in vUV : vec2<f32>;
    @in vColor : vec4<f32>;

    {{header}}

    @fragment
    fn main(
        {{in}}
      ) -> @location(0) vec4<f32> {

        {{start}}

        var outColor:vec4<f32>;

        {{main}}

        var finalColor:vec4<f32> = outColor * vColor;

        {{end}}

        return finalColor;
      };
`,aS=`
    in vec2 aPosition;
    in vec2 aUV;

    out vec4 vColor;
    out vec2 vUV;

    {{header}}

    void main(void){

        mat3 worldTransformMatrix = uWorldTransformMatrix;
        mat3 modelMatrix = mat3(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        vec2 position = aPosition;
        vec2 uv = aUV;

        {{start}}

        vColor = vec4(1.);

        {{main}}

        vUV = uv;

        mat3 modelViewProjectionMatrix = uProjectionMatrix * worldTransformMatrix * modelMatrix;

        gl_Position = vec4((modelViewProjectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);

        vColor *= uWorldColorAlpha;

        {{end}}
    }
`,sS=`

    in vec4 vColor;
    in vec2 vUV;

    out vec4 finalColor;

    {{header}}

    void main(void) {

        {{start}}

        vec4 outColor;

        {{main}}

        finalColor = outColor * vColor;

        {{end}}
    }
`,rS={name:"global-uniforms-bit",vertex:{header:`
        struct GlobalUniforms {
            uProjectionMatrix:mat3x3<f32>,
            uWorldTransformMatrix:mat3x3<f32>,
            uWorldColorAlpha: vec4<f32>,
            uResolution: vec2<f32>,
        }

        @group(0) @binding(0) var<uniform> globalUniforms : GlobalUniforms;
        `}},lS={name:"global-uniforms-bit",vertex:{header:`
          uniform mat3 uProjectionMatrix;
          uniform mat3 uWorldTransformMatrix;
          uniform vec4 uWorldColorAlpha;
          uniform vec2 uResolution;
        `}};function uS({bits:r,name:t}){const i=W1({template:{fragment:iS,vertex:nS},bits:[rS,...r]});return Ea.from({name:t,vertex:{source:i.vertex,entryPoint:"main"},fragment:{source:i.fragment,entryPoint:"main"}})}function oS({bits:r,name:t}){return new Yl({name:t,...tS({template:{vertex:aS,fragment:sS},bits:[lS,...r]})})}const cS={name:"color-bit",vertex:{header:`
            @in aColor: vec4<f32>;
        `,main:`
            vColor *= vec4<f32>(aColor.rgb * aColor.a, aColor.a);
        `}},hS={name:"color-bit",vertex:{header:`
            in vec4 aColor;
        `,main:`
            vColor *= vec4(aColor.rgb * aColor.a, aColor.a);
        `}},Uc={};function fS(r){const t=[];if(r===1)t.push("@group(1) @binding(0) var textureSource1: texture_2d<f32>;"),t.push("@group(1) @binding(1) var textureSampler1: sampler;");else{let i=0;for(let s=0;s<r;s++)t.push(`@group(1) @binding(${i++}) var textureSource${s+1}: texture_2d<f32>;`),t.push(`@group(1) @binding(${i++}) var textureSampler${s+1}: sampler;`)}return t.join(`
`)}function dS(r){const t=[];if(r===1)t.push("outColor = textureSampleGrad(textureSource1, textureSampler1, vUV, uvDx, uvDy);");else{t.push("switch vTextureId {");for(let i=0;i<r;i++)i===r-1?t.push("  default:{"):t.push(`  case ${i}:{`),t.push(`      outColor = textureSampleGrad(textureSource${i+1}, textureSampler${i+1}, vUV, uvDx, uvDy);`),t.push("      break;}");t.push("}")}return t.join(`
`)}function mS(r){return Uc[r]||(Uc[r]={name:"texture-batch-bit",vertex:{header:`
                @in aTextureIdAndRound: vec2<u32>;
                @out @interpolate(flat) vTextureId : u32;
            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1)
                {
                    vPosition = vec4<f32>(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
                }
            `},fragment:{header:`
                @in @interpolate(flat) vTextureId: u32;

                ${fS(r)}
            `,main:`
                var uvDx = dpdx(vUV);
                var uvDy = dpdy(vUV);

                ${dS(r)}
            `}}),Uc[r]}const Hc={};function pS(r){const t=[];for(let i=0;i<r;i++)i>0&&t.push("else"),i<r-1&&t.push(`if(vTextureId < ${i}.5)`),t.push("{"),t.push(`	outColor = texture(uTextures[${i}], vUV);`),t.push("}");return t.join(`
`)}function _S(r){return Hc[r]||(Hc[r]={name:"texture-batch-bit",vertex:{header:`
                in vec2 aTextureIdAndRound;
                out float vTextureId;

            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1.)
                {
                    gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
                }
            `},fragment:{header:`
                in float vTextureId;

                uniform sampler2D uTextures[${r}];

            `,main:`

                ${pS(r)}
            `}}),Hc[r]}const yS={name:"round-pixels-bit",vertex:{header:`
            fn roundPixels(position: vec2<f32>, targetSize: vec2<f32>) -> vec2<f32>
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},gS={name:"round-pixels-bit",vertex:{header:`
            vec2 roundPixels(vec2 position, vec2 targetSize)
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},A_={};function xS(r){let t=A_[r];if(t)return t;const i=new Int32Array(r);for(let s=0;s<r;s++)i[s]=s;return t=A_[r]=new ch({uTextures:{value:i,type:"i32",size:r}},{isStatic:!0}),t}class T_ extends ql{constructor(t){const i=oS({name:"batch",bits:[hS,_S(t),gS]}),s=uS({name:"batch",bits:[cS,mS(t),yS]});super({glProgram:i,gpuProgram:s,resources:{batchSamplers:xS(t)}}),this.maxTextures=t}}let zs=null;const ng=class ig extends q1{constructor(t){super(t),this.geometry=new Q1,this.name=ig.extension.name,this.vertexSize=6,zs??(zs=new T_(t.maxTextures)),this.shader=zs}packAttributes(t,i,s,u,o){const f=o<<16|t.roundPixels&65535,m=t.transform,p=m.a,_=m.b,x=m.c,c=m.d,y=m.tx,g=m.ty,{positions:b,uvs:T}=t,M=t.color,A=t.attributeOffset,E=A+t.attributeSize;for(let C=A;C<E;C++){const B=C*2,X=b[B],P=b[B+1];i[u++]=p*X+x*P+y,i[u++]=c*P+_*X+g,i[u++]=T[B],i[u++]=T[B+1],s[u++]=M,s[u++]=f}}packQuadAttributes(t,i,s,u,o){const f=t.texture,m=t.transform,p=m.a,_=m.b,x=m.c,c=m.d,y=m.tx,g=m.ty,b=t.bounds,T=b.maxX,M=b.minX,A=b.maxY,E=b.minY,C=f.uvs,B=t.color,X=o<<16|t.roundPixels&65535;i[u+0]=p*M+x*E+y,i[u+1]=c*E+_*M+g,i[u+2]=C.x0,i[u+3]=C.y0,s[u+4]=B,s[u+5]=X,i[u+6]=p*T+x*E+y,i[u+7]=c*E+_*T+g,i[u+8]=C.x1,i[u+9]=C.y1,s[u+10]=B,s[u+11]=X,i[u+12]=p*T+x*A+y,i[u+13]=c*A+_*T+g,i[u+14]=C.x2,i[u+15]=C.y2,s[u+16]=B,s[u+17]=X,i[u+18]=p*M+x*A+y,i[u+19]=c*A+_*M+g,i[u+20]=C.x3,i[u+21]=C.y3,s[u+22]=B,s[u+23]=X}_updateMaxTextures(t){this.shader.maxTextures!==t&&(zs=new T_(t),this.shader=zs)}destroy(){this.shader=null,super.destroy()}};ng.extension={type:[vt.Batcher],name:"default"};let vS=ng;class Xl{constructor(t){this.items=Object.create(null);const{renderer:i,type:s,onUnload:u,priority:o,name:f}=t;this._renderer=i,i.gc.addResourceHash(this,"items",s,o??0),this._onUnload=u,this.name=f}add(t){return this.items[t.uid]?!1:(this.items[t.uid]=t,t.once("unload",this.remove,this),t._gcLastUsed=this._renderer.gc.now,!0)}remove(t,...i){if(!this.items[t.uid])return;const s=t._gpuData[this._renderer.uid];s&&(this._onUnload?.(t,...i),s.destroy(),t._gpuData[this._renderer.uid]=null,this.items[t.uid]=null)}removeAll(...t){Object.values(this.items).forEach(i=>i&&this.remove(i,...t))}destroy(...t){this.removeAll(...t),this.items=Object.create(null),this._renderer=null,this._onUnload=null}}function bS(r,t,i,s,u,o,f,m=null){let p=0;i*=t,u*=o;const _=m.a,x=m.b,c=m.c,y=m.d,g=m.tx,b=m.ty;for(;p<f;){const T=r[i],M=r[i+1];s[u]=_*T+c*M+g,s[u+1]=x*T+y*M+b,u+=o,i+=t,p++}}function SS(r,t,i,s){let u=0;for(t*=i;u<s;)r[t]=0,r[t+1]=0,t+=i,u++}function ag(r,t,i,s,u){const o=t.a,f=t.b,m=t.c,p=t.d,_=t.tx,x=t.ty;i||(i=0),s||(s=2),u||(u=r.length/s-i);let c=i*s;for(let y=0;y<u;y++){const g=r[c],b=r[c+1];r[c]=o*g+m*b+_,r[c+1]=f*g+p*b+x,c+=s}}const AS=new gt;class ph{constructor(){this.packAsQuad=!1,this.batcherName="default",this.topology="triangle-list",this.applyTransform=!0,this.roundPixels=0,this._batcher=null,this._batch=null}get uvs(){return this.geometryData.uvs}get positions(){return this.geometryData.vertices}get indices(){return this.geometryData.indices}get blendMode(){return this.renderable&&this.applyTransform?this.renderable.groupBlendMode:"normal"}get color(){const t=this.baseColor,i=t>>16|t&65280|(t&255)<<16,s=this.renderable;return s?uy(i,s.groupColor)+(this.alpha*s.groupAlpha*255<<24):i+(this.alpha*255<<24)}get transform(){return this.renderable?.groupTransform||AS}copyTo(t){t.indexOffset=this.indexOffset,t.indexSize=this.indexSize,t.attributeOffset=this.attributeOffset,t.attributeSize=this.attributeSize,t.baseColor=this.baseColor,t.alpha=this.alpha,t.texture=this.texture,t.geometryData=this.geometryData,t.topology=this.topology}reset(){this.applyTransform=!0,this.renderable=null,this.topology="triangle-list"}destroy(){this.renderable=null,this.texture=null,this.geometryData=null,this._batcher=null,this._batch=null}}const Zs={extension:{type:vt.ShapeBuilder,name:"circle"},build(r,t){let i,s,u,o,f,m;if(r.type==="circle"){const B=r;if(f=m=B.radius,f<=0)return!1;i=B.x,s=B.y,u=o=0}else if(r.type==="ellipse"){const B=r;if(f=B.halfWidth,m=B.halfHeight,f<=0||m<=0)return!1;i=B.x,s=B.y,u=o=0}else{const B=r,X=B.width/2,P=B.height/2;i=B.x+X,s=B.y+P,f=m=Math.max(0,Math.min(B.radius,Math.min(X,P))),u=X-f,o=P-m}if(u<0||o<0)return!1;const p=Math.ceil(2.3*Math.sqrt(f+m)),_=p*8+(u?4:0)+(o?4:0);if(_===0)return!1;if(p===0)return t[0]=t[6]=i+u,t[1]=t[3]=s+o,t[2]=t[4]=i-u,t[5]=t[7]=s-o,!0;let x=0,c=p*4+(u?2:0)+2,y=c,g=_,b=u+f,T=o,M=i+b,A=i-b,E=s+T;if(t[x++]=M,t[x++]=E,t[--c]=E,t[--c]=A,o){const B=s-T;t[y++]=A,t[y++]=B,t[--g]=B,t[--g]=M}for(let B=1;B<p;B++){const X=Math.PI/2*(B/p),P=u+Math.cos(X)*f,k=o+Math.sin(X)*m,it=i+P,Q=i-P,Z=s+k,I=s-k;t[x++]=it,t[x++]=Z,t[--c]=Z,t[--c]=Q,t[y++]=Q,t[y++]=I,t[--g]=I,t[--g]=it}b=u,T=o+m,M=i+b,A=i-b,E=s+T;const C=s-T;return t[x++]=M,t[x++]=E,t[--g]=C,t[--g]=M,u&&(t[x++]=A,t[x++]=E,t[--g]=C,t[--g]=A),!0},triangulate(r,t,i,s,u,o){if(r.length===0)return;let f=0,m=0;for(let x=0;x<r.length;x+=2)f+=r[x],m+=r[x+1];f/=r.length/2,m/=r.length/2;let p=s;t[p*i]=f,t[p*i+1]=m;const _=p++;for(let x=0;x<r.length;x+=2)t[p*i]=r[x],t[p*i+1]=r[x+1],x>0&&(u[o++]=p,u[o++]=_,u[o++]=p-1),p++;u[o++]=_+1,u[o++]=_,u[o++]=p-1}},TS={...Zs,extension:{...Zs.extension,name:"ellipse"}},MS={...Zs,extension:{...Zs.extension,name:"roundedRectangle"}},sg=1e-4,M_=1e-4;function wS(r){const t=r.length;if(t<6)return 1;let i=0;for(let s=0,u=r[t-2],o=r[t-1];s<t;s+=2){const f=r[s],m=r[s+1];i+=(f-u)*(m+o),u=f,o=m}return i<0?-1:1}function w_(r,t,i,s,u,o,f,m){const p=r-i*u,_=t-s*u,x=r+i*o,c=t+s*o;let y,g;f?(y=s,g=-i):(y=-s,g=i);const b=p+y,T=_+g,M=x+y,A=c+g;return m.push(b,T),m.push(M,A),2}function zi(r,t,i,s,u,o,f,m){const p=i-r,_=s-t;let x=Math.atan2(p,_),c=Math.atan2(u-r,o-t);m&&x<c?x+=Math.PI*2:!m&&x>c&&(c+=Math.PI*2);let y=x;const g=c-x,b=Math.abs(g),T=Math.sqrt(p*p+_*_),M=(15*b*Math.sqrt(T)/Math.PI>>0)+1,A=g/M;if(y+=A,m){f.push(r,t),f.push(i,s);for(let E=1,C=y;E<M;E++,C+=A)f.push(r,t),f.push(r+Math.sin(C)*T,t+Math.cos(C)*T);f.push(r,t),f.push(u,o)}else{f.push(i,s),f.push(r,t);for(let E=1,C=y;E<M;E++,C+=A)f.push(r+Math.sin(C)*T,t+Math.cos(C)*T),f.push(r,t);f.push(u,o),f.push(r,t)}return M*2}function CS(r,t,i,s,u,o){const f=sg;if(r.length===0)return;const m=t;let p=m.alignment;if(t.alignment!==.5){let W=wS(r);p=(p-.5)*W+.5}const _=new ce(r[0],r[1]),x=new ce(r[r.length-2],r[r.length-1]),c=s,y=Math.abs(_.x-x.x)<f&&Math.abs(_.y-x.y)<f;if(c){r=r.slice(),y&&(r.pop(),r.pop(),x.set(r[r.length-2],r[r.length-1]));const W=(_.x+x.x)*.5,mt=(x.y+_.y)*.5;r.unshift(W,mt),r.push(W,mt)}const g=u,b=r.length/2;let T=r.length;const M=g.length/2,A=m.width/2,E=A*A,C=m.miterLimit*m.miterLimit;let B=r[0],X=r[1],P=r[2],k=r[3],it=0,Q=0,Z=-(X-k),I=B-P,ot=0,xt=0,ht=Math.sqrt(Z*Z+I*I);Z/=ht,I/=ht,Z*=A,I*=A;const Pt=p,D=(1-Pt)*2,Y=Pt*2;c||(m.cap==="round"?T+=zi(B-Z*(D-Y)*.5,X-I*(D-Y)*.5,B-Z*D,X-I*D,B+Z*Y,X+I*Y,g,!0)+2:m.cap==="square"&&(T+=w_(B,X,Z,I,D,Y,!0,g))),g.push(B-Z*D,X-I*D),g.push(B+Z*Y,X+I*Y);for(let W=1;W<b-1;++W){B=r[(W-1)*2],X=r[(W-1)*2+1],P=r[W*2],k=r[W*2+1],it=r[(W+1)*2],Q=r[(W+1)*2+1],Z=-(X-k),I=B-P,ht=Math.sqrt(Z*Z+I*I),Z/=ht,I/=ht,Z*=A,I*=A,ot=-(k-Q),xt=P-it,ht=Math.sqrt(ot*ot+xt*xt),ot/=ht,xt/=ht,ot*=A,xt*=A;const mt=P-B,z=X-k,j=P-it,F=Q-k,K=mt*j+z*F,st=z*j-F*mt,lt=st<0;if(Math.abs(st)<.001*Math.abs(K)){g.push(P-Z*D,k-I*D),g.push(P+Z*Y,k+I*Y),K>=0&&(m.join==="round"?T+=zi(P,k,P-Z*D,k-I*D,P-ot*D,k-xt*D,g,!1)+4:T+=2,g.push(P-ot*Y,k-xt*Y),g.push(P+ot*D,k+xt*D));continue}const bt=(-Z+B)*(-I+k)-(-Z+P)*(-I+X),$t=(-ot+it)*(-xt+k)-(-ot+P)*(-xt+Q),Gt=(mt*$t-j*bt)/st,rn=(F*bt-z*$t)/st,Nn=(Gt-P)*(Gt-P)+(rn-k)*(rn-k),Ke=P+(Gt-P)*D,ln=k+(rn-k)*D,de=P-(Gt-P)*Y,Je=k-(rn-k)*Y,Ra=Math.min(mt*mt+z*z,j*j+F*F),Js=lt?D:Y,$s=Ra+Js*Js*E;Nn<=$s?m.join==="bevel"||Nn/E>C?(lt?(g.push(Ke,ln),g.push(P+Z*Y,k+I*Y),g.push(Ke,ln),g.push(P+ot*Y,k+xt*Y)):(g.push(P-Z*D,k-I*D),g.push(de,Je),g.push(P-ot*D,k-xt*D),g.push(de,Je)),T+=2):m.join==="round"?lt?(g.push(Ke,ln),g.push(P+Z*Y,k+I*Y),T+=zi(P,k,P+Z*Y,k+I*Y,P+ot*Y,k+xt*Y,g,!0)+4,g.push(Ke,ln),g.push(P+ot*Y,k+xt*Y)):(g.push(P-Z*D,k-I*D),g.push(de,Je),T+=zi(P,k,P-Z*D,k-I*D,P-ot*D,k-xt*D,g,!1)+4,g.push(P-ot*D,k-xt*D),g.push(de,Je)):(g.push(Ke,ln),g.push(de,Je)):(g.push(P-Z*D,k-I*D),g.push(P+Z*Y,k+I*Y),m.join==="round"?lt?T+=zi(P,k,P+Z*Y,k+I*Y,P+ot*Y,k+xt*Y,g,!0)+2:T+=zi(P,k,P-Z*D,k-I*D,P-ot*D,k-xt*D,g,!1)+2:m.join==="miter"&&Nn/E<=C&&(lt?(g.push(de,Je),g.push(de,Je)):(g.push(Ke,ln),g.push(Ke,ln)),T+=2),g.push(P-ot*D,k-xt*D),g.push(P+ot*Y,k+xt*Y),T+=2)}B=r[(b-2)*2],X=r[(b-2)*2+1],P=r[(b-1)*2],k=r[(b-1)*2+1],Z=-(X-k),I=B-P,ht=Math.sqrt(Z*Z+I*I),Z/=ht,I/=ht,Z*=A,I*=A,g.push(P-Z*D,k-I*D),g.push(P+Z*Y,k+I*Y),c||(m.cap==="round"?T+=zi(P-Z*(D-Y)*.5,k-I*(D-Y)*.5,P-Z*D,k-I*D,P+Z*Y,k+I*Y,g,!1)+2:m.cap==="square"&&(T+=w_(P,k,Z,I,D,Y,!1,g)));const nt=M_*M_;for(let W=M;W<T+M-2;++W)B=g[W*2],X=g[W*2+1],P=g[(W+1)*2],k=g[(W+1)*2+1],it=g[(W+2)*2],Q=g[(W+2)*2+1],!(Math.abs(B*(k-Q)+P*(Q-X)+it*(X-k))<nt)&&o.push(W,W+1,W+2)}function ES(r,t,i,s){const u=sg;if(r.length===0)return;const o=r[0],f=r[1],m=r[r.length-2],p=r[r.length-1],_=t||Math.abs(o-m)<u&&Math.abs(f-p)<u,x=i,c=r.length/2,y=x.length/2;for(let g=0;g<c;g++)x.push(r[g*2]),x.push(r[g*2+1]);for(let g=0;g<c-1;g++)s.push(y+g,y+g+1);_&&s.push(y+c-1,y)}function rg(r,t,i,s,u,o,f){const m=y1(r,t,2);if(!m)return;for(let _=0;_<m.length;_+=3)o[f++]=m[_]+u,o[f++]=m[_+1]+u,o[f++]=m[_+2]+u;let p=u*s;for(let _=0;_<r.length;_+=2)i[p]=r[_],i[p+1]=r[_+1],p+=s}const RS=[],zS={extension:{type:vt.ShapeBuilder,name:"polygon"},build(r,t){for(let i=0;i<r.points.length;i++)t[i]=r.points[i];return!0},triangulate(r,t,i,s,u,o){rg(r,RS,t,i,s,u,o)}},DS={extension:{type:vt.ShapeBuilder,name:"rectangle"},build(r,t){const i=r,s=i.x,u=i.y,o=i.width,f=i.height;return o>0&&f>0?(t[0]=s,t[1]=u,t[2]=s+o,t[3]=u,t[4]=s+o,t[5]=u+f,t[6]=s,t[7]=u+f,!0):!1},triangulate(r,t,i,s,u,o){let f=0;s*=i,t[s+f]=r[0],t[s+f+1]=r[1],f+=i,t[s+f]=r[2],t[s+f+1]=r[3],f+=i,t[s+f]=r[6],t[s+f+1]=r[7],f+=i,t[s+f]=r[4],t[s+f+1]=r[5],f+=i;const m=s/i;u[o++]=m,u[o++]=m+1,u[o++]=m+2,u[o++]=m+1,u[o++]=m+3,u[o++]=m+2}},OS={extension:{type:vt.ShapeBuilder,name:"triangle"},build(r,t){return t[0]=r.x,t[1]=r.y,t[2]=r.x2,t[3]=r.y2,t[4]=r.x3,t[5]=r.y3,!0},triangulate(r,t,i,s,u,o){let f=0;s*=i,t[s+f]=r[0],t[s+f+1]=r[1],f+=i,t[s+f]=r[2],t[s+f+1]=r[3],f+=i,t[s+f]=r[4],t[s+f+1]=r[5];const m=s/i;u[o++]=m,u[o++]=m+1,u[o++]=m+2}},C_=[{offset:0,color:"white"},{offset:1,color:"black"}],_h=class Wc{constructor(...t){this.uid=Vt("fillGradient"),this._tick=0,this.type="linear",this.colorStops=[];let i=BS(t);i={...i.type==="radial"?Wc.defaultRadialOptions:Wc.defaultLinearOptions,...J_(i)},this._textureSize=i.textureSize,this._wrapMode=i.wrapMode,i.type==="radial"?(this.center=i.center,this.outerCenter=i.outerCenter??this.center,this.innerRadius=i.innerRadius,this.outerRadius=i.outerRadius,this.scale=i.scale,this.rotation=i.rotation):(this.start=i.start,this.end=i.end),this.textureSpace=i.textureSpace,this.type=i.type,i.colorStops.forEach(u=>{this.addColorStop(u.offset,u.color)})}addColorStop(t,i){return this.colorStops.push({offset:t,color:Ie.shared.setValue(i).toHexa()}),this}buildLinearGradient(){if(this.texture)return;let{x:t,y:i}=this.start,{x:s,y:u}=this.end,o=s-t,f=u-i;const m=o<0||f<0;if(this._wrapMode==="clamp-to-edge"){if(o<0){const M=t;t=s,s=M,o*=-1}if(f<0){const M=i;i=u,u=M,f*=-1}}const p=this.colorStops.length?this.colorStops:C_,_=this._textureSize,{canvas:x,context:c}=R_(_,1),y=m?c.createLinearGradient(this._textureSize,0,0,0):c.createLinearGradient(0,0,this._textureSize,0);E_(y,p),c.fillStyle=y,c.fillRect(0,0,_,1),this.texture=new Dt({source:new Gl({resource:x,addressMode:this._wrapMode})});const g=Math.sqrt(o*o+f*f),b=Math.atan2(f,o),T=new gt;T.scale(g/_,1),T.rotate(b),T.translate(t,i),this.textureSpace==="local"&&T.scale(_,_),this.transform=T}buildGradient(){this.texture||this._tick++,this.type==="linear"?this.buildLinearGradient():this.buildRadialGradient()}buildRadialGradient(){if(this.texture)return;const t=this.colorStops.length?this.colorStops:C_,i=this._textureSize,{canvas:s,context:u}=R_(i,i),{x:o,y:f}=this.center,{x:m,y:p}=this.outerCenter,_=this.innerRadius,x=this.outerRadius,c=m-x,y=p-x,g=i/(x*2),b=(o-c)*g,T=(f-y)*g,M=u.createRadialGradient(b,T,_*g,(m-c)*g,(p-y)*g,x*g);E_(M,t),u.fillStyle=t[t.length-1].color,u.fillRect(0,0,i,i),u.fillStyle=M,u.translate(b,T),u.rotate(this.rotation),u.scale(1,this.scale),u.translate(-b,-T),u.fillRect(0,0,i,i),this.texture=new Dt({source:new Gl({resource:s,addressMode:this._wrapMode})});const A=new gt;A.scale(1/g,1/g),A.translate(c,y),this.textureSpace==="local"&&A.scale(i,i),this.transform=A}destroy(){this.texture?.destroy(!0),this.texture=null,this.transform=null,this.colorStops=[],this.start=null,this.end=null,this.center=null,this.outerCenter=null}get styleKey(){return`fill-gradient-${this.uid}-${this._tick}`}};_h.defaultLinearOptions={start:{x:0,y:0},end:{x:0,y:1},colorStops:[],textureSpace:"local",type:"linear",textureSize:256,wrapMode:"clamp-to-edge"};_h.defaultRadialOptions={center:{x:.5,y:.5},innerRadius:0,outerRadius:.5,colorStops:[],scale:1,textureSpace:"local",type:"radial",textureSize:256,wrapMode:"clamp-to-edge"};let Ks=_h;function E_(r,t){for(let i=0;i<t.length;i++){const s=t[i];r.addColorStop(s.offset,s.color)}}function R_(r,t){const i=hi.get().createCanvas(r,t),s=i.getContext("2d");return{canvas:i,context:s}}function BS(r){let t=r[0]??{};return(typeof t=="number"||r[1])&&(Ct("8.5.2","use options object instead"),t={type:"linear",start:{x:r[0],y:r[1]},end:{x:r[2],y:r[3]},textureSpace:r[4],textureSize:r[5]??Ks.defaultLinearOptions.textureSize}),t}const GS=new gt,US=new ne;function HS(r,t,i,s){const u=t.matrix?r.copyFrom(t.matrix).invert():r.identity();if(t.textureSpace==="local"){const f=i.getBounds(US);t.width&&f.pad(t.width);const{x:m,y:p}=f,_=1/f.width,x=1/f.height,c=-m*_,y=-p*x,g=u.a,b=u.b,T=u.c,M=u.d;u.a*=_,u.b*=_,u.c*=x,u.d*=x,u.tx=c*g+y*T+u.tx,u.ty=c*b+y*M+u.ty}else u.translate(t.texture.frame.x,t.texture.frame.y),u.scale(1/t.texture.source.width,1/t.texture.source.height);const o=t.texture.source.style;return!(t.fill instanceof Ks)&&o.addressMode==="clamp-to-edge"&&(o.addressMode="repeat",o.update()),s&&u.append(GS.copyFrom(s).invert()),u}const jl={};ie.handleByMap(vt.ShapeBuilder,jl);ie.add(DS,zS,OS,Zs,TS,MS);const NS=new ne,kS=new gt;function LS(r,t){const{geometryData:i,batches:s}=t;s.length=0,i.indices.length=0,i.vertices.length=0,i.uvs.length=0;for(let u=0;u<r.instructions.length;u++){const o=r.instructions[u];if(o.action==="texture")YS(o.data,s,i);else if(o.action==="fill"||o.action==="stroke"){const f=o.action==="stroke",m=o.data.path.shapePath,p=o.data.style,_=o.data.hole;f&&_&&z_(_.shapePath,p,!0,s,i),_&&(m.shapePrimitives[m.shapePrimitives.length-1].holes=_.shapePath.shapePrimitives),z_(m,p,f,s,i)}}}function YS(r,t,i){const s=[],u=jl.rectangle,o=NS;o.x=r.dx,o.y=r.dy,o.width=r.dw,o.height=r.dh;const f=r.transform;if(!u.build(o,s))return;const{vertices:m,uvs:p,indices:_}=i,x=_.length,c=m.length/2;f&&ag(s,f),u.triangulate(s,m,2,c,_,x);const y=r.image,g=y.uvs;p.push(g.x0,g.y0,g.x1,g.y1,g.x3,g.y3,g.x2,g.y2);const b=Me.get(ph);b.indexOffset=x,b.indexSize=_.length-x,b.attributeOffset=c,b.attributeSize=m.length/2-c,b.baseColor=r.style,b.alpha=r.alpha,b.texture=y,b.geometryData=i,t.push(b)}function z_(r,t,i,s,u){const{vertices:o,uvs:f,indices:m}=u;r.shapePrimitives.forEach(({shape:p,transform:_,holes:x})=>{const c=[],y=jl[p.type];if(!y.build(p,c))return;const g=m.length,b=o.length/2;let T="triangle-list";if(_&&ag(c,_),i){const C=p.closePath??!0,B=t;B.pixelLine?(ES(c,C,o,m),T="line-list"):CS(c,B,!1,C,o,m)}else if(x){const C=[],B=c.slice();qS(x).forEach(P=>{C.push(B.length/2),B.push(...P)}),rg(B,C,o,2,b,m,g)}else y.triangulate(c,o,2,b,m,g);const M=f.length/2,A=t.texture;if(A!==Dt.WHITE){const C=HS(kS,t,p,_);bS(o,2,b,f,M,2,o.length/2-b,C)}else SS(f,M,2,o.length/2-b);const E=Me.get(ph);E.indexOffset=g,E.indexSize=m.length-g,E.attributeOffset=b,E.attributeSize=o.length/2-b,E.baseColor=t.color,E.alpha=t.alpha,E.texture=A,E.geometryData=u,E.topology=T,s.push(E)})}function qS(r){const t=[];for(let i=0;i<r.length;i++){const s=r[i].shape,u=[];jl[s.type].build(s,u)&&t.push(u)}return t}class XS{constructor(){this.batches=[],this.geometryData={vertices:[],uvs:[],indices:[]}}reset(){this.batches&&this.batches.forEach(t=>{Me.return(t)}),this.graphicsData&&Me.return(this.graphicsData),this.isBatchable=!1,this.context=null,this.batches.length=0,this.geometryData.indices.length=0,this.geometryData.vertices.length=0,this.geometryData.uvs.length=0,this.graphicsData=null}destroy(){this.reset(),this.batches=null,this.geometryData=null}}class jS{constructor(){this.instructions=new uh}init(t){const i=t.maxTextures;this.batcher?this.batcher._updateMaxTextures(i):this.batcher=new vS({maxTextures:i}),this.instructions.reset()}get geometry(){return Ct(Nv,"GraphicsContextRenderData#geometry is deprecated, please use batcher.geometry instead."),this.batcher.geometry}destroy(){this.batcher.destroy(),this.instructions.destroy(),this.batcher=null,this.instructions=null}}const yh=class th{constructor(t){this._renderer=t,this._managedContexts=new Xl({renderer:t,type:"resource",name:"graphicsContext"})}init(t){th.defaultOptions.bezierSmoothness=t?.bezierSmoothness??th.defaultOptions.bezierSmoothness}getContextRenderData(t){return t._gpuData[this._renderer.uid].graphicsData||this._initContextRenderData(t)}updateGpuContext(t){const i=!!t._gpuData[this._renderer.uid],s=t._gpuData[this._renderer.uid]||this._initContext(t);if(t.dirty||!i){i&&s.reset(),LS(t,s);const u=t.batchMode;t.customShader||u==="no-batch"?s.isBatchable=!1:u==="auto"?s.isBatchable=s.geometryData.vertices.length<400:s.isBatchable=!0,t.dirty=!1}return s}getGpuContext(t){return t._gpuData[this._renderer.uid]||this._initContext(t)}_initContextRenderData(t){const i=Me.get(jS,{maxTextures:this._renderer.limits.maxBatchableTextures}),s=t._gpuData[this._renderer.uid],{batches:u,geometryData:o}=s;s.graphicsData=i;const f=o.vertices.length,m=o.indices.length;for(let c=0;c<u.length;c++)u[c].applyTransform=!1;const p=i.batcher;p.ensureAttributeBuffer(f),p.ensureIndexBuffer(m),p.begin();for(let c=0;c<u.length;c++){const y=u[c];p.add(y)}p.finish(i.instructions);const _=p.geometry;_.indexBuffer.setDataWithSize(p.indexBuffer,p.indexSize,!0),_.buffers[0].setDataWithSize(p.attributeBuffer.float32View,p.attributeSize,!0);const x=p.batches;for(let c=0;c<x.length;c++){const y=x[c];y.bindGroup=D1(y.textures.textures,y.textures.count,this._renderer.limits.maxBatchableTextures)}return i}_initContext(t){const i=new XS;return i.context=t,t._gpuData[this._renderer.uid]=i,this._managedContexts.add(t),i}destroy(){this._managedContexts.destroy(),this._renderer=null}};yh.extension={type:[vt.WebGLSystem,vt.WebGPUSystem],name:"graphicsContext"};yh.defaultOptions={bezierSmoothness:.5};let gh=yh;const VS=8,zl=11920929e-14,PS=1;function lg(r,t,i,s,u,o,f,m,p,_){const c=Math.min(.99,Math.max(0,_??gh.defaultOptions.bezierSmoothness));let y=(PS-c)/1;return y*=y,FS(t,i,s,u,o,f,m,p,r,y),r}function FS(r,t,i,s,u,o,f,m,p,_){eh(r,t,i,s,u,o,f,m,p,_,0),p.push(f,m)}function eh(r,t,i,s,u,o,f,m,p,_,x){if(x>VS)return;const c=(r+i)/2,y=(t+s)/2,g=(i+u)/2,b=(s+o)/2,T=(u+f)/2,M=(o+m)/2,A=(c+g)/2,E=(y+b)/2,C=(g+T)/2,B=(b+M)/2,X=(A+C)/2,P=(E+B)/2;if(x>0){let k=f-r,it=m-t;const Q=Math.abs((i-f)*it-(s-m)*k),Z=Math.abs((u-f)*it-(o-m)*k);if(Q>zl&&Z>zl){if((Q+Z)*(Q+Z)<=_*(k*k+it*it)){p.push(X,P);return}}else if(Q>zl){if(Q*Q<=_*(k*k+it*it)){p.push(X,P);return}}else if(Z>zl){if(Z*Z<=_*(k*k+it*it)){p.push(X,P);return}}else if(k=X-(r+f)/2,it=P-(t+m)/2,k*k+it*it<=_){p.push(X,P);return}}eh(r,t,c,y,A,E,X,P,p,_,x+1),eh(X,P,C,B,T,M,f,m,p,_,x+1)}const QS=8,ZS=11920929e-14,IS=1;function KS(r,t,i,s,u,o,f,m){const _=Math.min(.99,Math.max(0,m??gh.defaultOptions.bezierSmoothness));let x=(IS-_)/1;return x*=x,JS(t,i,s,u,o,f,r,x),r}function JS(r,t,i,s,u,o,f,m){nh(f,r,t,i,s,u,o,m,0),f.push(u,o)}function nh(r,t,i,s,u,o,f,m,p){if(p>QS)return;const _=(t+s)/2,x=(i+u)/2,c=(s+o)/2,y=(u+f)/2,g=(_+c)/2,b=(x+y)/2;let T=o-t,M=f-i;const A=Math.abs((s-o)*M-(u-f)*T);if(A>ZS){if(A*A<=m*(T*T+M*M)){r.push(g,b);return}}else if(T=g-(t+o)/2,M=b-(i+f)/2,T*T+M*M<=m){r.push(g,b);return}nh(r,t,i,_,x,g,b,m,p+1),nh(r,g,b,c,y,o,f,m,p+1)}function ug(r,t,i,s,u,o,f,m){let p=Math.abs(u-o);(!f&&u>o||f&&o>u)&&(p=2*Math.PI-p),m||(m=Math.max(6,Math.floor(6*Math.pow(s,1/3)*(p/Math.PI)))),m=Math.max(m,3);let _=p/m,x=u;_*=f?-1:1;for(let c=0;c<m+1;c++){const y=Math.cos(x),g=Math.sin(x),b=t+y*s,T=i+g*s;r.push(b,T),x+=_}}function $S(r,t,i,s,u,o){const f=r[r.length-2],p=r[r.length-1]-i,_=f-t,x=u-i,c=s-t,y=Math.abs(p*c-_*x);if(y<1e-8||o===0){(r[r.length-2]!==t||r[r.length-1]!==i)&&r.push(t,i);return}const g=p*p+_*_,b=x*x+c*c,T=p*x+_*c,M=o*Math.sqrt(g)/y,A=o*Math.sqrt(b)/y,E=M*T/g,C=A*T/b,B=M*c+A*_,X=M*x+A*p,P=_*(A+E),k=p*(A+E),it=c*(M+C),Q=x*(M+C),Z=Math.atan2(k-X,P-B),I=Math.atan2(Q-X,it-B);ug(r,B+t,X+i,o,Z,I,_*x>c*p)}const Xs=Math.PI*2,Nc={centerX:0,centerY:0,ang1:0,ang2:0},kc=({x:r,y:t},i,s,u,o,f,m,p)=>{r*=i,t*=s;const _=u*r-o*t,x=o*r+u*t;return p.x=_+f,p.y=x+m,p};function WS(r,t){const i=t===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(t/4),s=t===1.5707963267948966?.551915024494:i,u=Math.cos(r),o=Math.sin(r),f=Math.cos(r+t),m=Math.sin(r+t);return[{x:u-o*s,y:o+u*s},{x:f+m*s,y:m-f*s},{x:f,y:m}]}const D_=(r,t,i,s)=>{const u=r*s-t*i<0?-1:1;let o=r*i+t*s;return o>1&&(o=1),o<-1&&(o=-1),u*Math.acos(o)},t2=(r,t,i,s,u,o,f,m,p,_,x,c,y)=>{const g=Math.pow(u,2),b=Math.pow(o,2),T=Math.pow(x,2),M=Math.pow(c,2);let A=g*b-g*M-b*T;A<0&&(A=0),A/=g*M+b*T,A=Math.sqrt(A)*(f===m?-1:1);const E=A*u/o*c,C=A*-o/u*x,B=_*E-p*C+(r+i)/2,X=p*E+_*C+(t+s)/2,P=(x-E)/u,k=(c-C)/o,it=(-x-E)/u,Q=(-c-C)/o,Z=D_(1,0,P,k);let I=D_(P,k,it,Q);m===0&&I>0&&(I-=Xs),m===1&&I<0&&(I+=Xs),y.centerX=B,y.centerY=X,y.ang1=Z,y.ang2=I};function e2(r,t,i,s,u,o,f,m=0,p=0,_=0){if(o===0||f===0)return;const x=Math.sin(m*Xs/360),c=Math.cos(m*Xs/360),y=c*(t-s)/2+x*(i-u)/2,g=-x*(t-s)/2+c*(i-u)/2;if(y===0&&g===0)return;o=Math.abs(o),f=Math.abs(f);const b=Math.pow(y,2)/Math.pow(o,2)+Math.pow(g,2)/Math.pow(f,2);b>1&&(o*=Math.sqrt(b),f*=Math.sqrt(b)),t2(t,i,s,u,o,f,p,_,x,c,y,g,Nc);let{ang1:T,ang2:M}=Nc;const{centerX:A,centerY:E}=Nc;let C=Math.abs(M)/(Xs/4);Math.abs(1-C)<1e-7&&(C=1);const B=Math.max(Math.ceil(C),1);M/=B;let X=r[r.length-2],P=r[r.length-1];const k={x:0,y:0};for(let it=0;it<B;it++){const Q=WS(T,M),{x:Z,y:I}=kc(Q[0],o,f,c,x,A,E,k),{x:ot,y:xt}=kc(Q[1],o,f,c,x,A,E,k),{x:ht,y:Pt}=kc(Q[2],o,f,c,x,A,E,k);lg(r,X,P,Z,I,ot,xt,ht,Pt),X=ht,P=Pt,T+=M}}function n2(r,t,i){const s=(f,m)=>{const p=m.x-f.x,_=m.y-f.y,x=Math.sqrt(p*p+_*_),c=p/x,y=_/x;return{len:x,nx:c,ny:y}},u=(f,m)=>{f===0?r.moveTo(m.x,m.y):r.lineTo(m.x,m.y)};let o=t[t.length-1];for(let f=0;f<t.length;f++){const m=t[f%t.length],p=m.radius??i;if(p<=0){u(f,m),o=m;continue}const _=t[(f+1)%t.length],x=s(m,o),c=s(m,_);if(x.len<1e-4||c.len<1e-4){u(f,m),o=m;continue}let y=Math.asin(x.nx*c.ny-x.ny*c.nx),g=1,b=!1;x.nx*c.nx-x.ny*-c.ny<0?y<0?y=Math.PI+y:(y=Math.PI-y,g=-1,b=!0):y>0&&(g=-1,b=!0);const T=y/2;let M,A=Math.abs(Math.cos(T)*p/Math.sin(T));A>Math.min(x.len/2,c.len/2)?(A=Math.min(x.len/2,c.len/2),M=Math.abs(A*Math.sin(T)/Math.cos(T))):M=p;const E=m.x+c.nx*A+-c.ny*M*g,C=m.y+c.ny*A+c.nx*M*g,B=Math.atan2(x.ny,x.nx)+Math.PI/2*g,X=Math.atan2(c.ny,c.nx)-Math.PI/2*g;f===0&&r.moveTo(E+Math.cos(B)*M,C+Math.sin(B)*M),r.arc(E,C,M,B,X,b),o=m}}function i2(r,t,i,s){const u=(m,p)=>Math.sqrt((m.x-p.x)**2+(m.y-p.y)**2),o=(m,p,_)=>({x:m.x+(p.x-m.x)*_,y:m.y+(p.y-m.y)*_}),f=t.length;for(let m=0;m<f;m++){const p=t[(m+1)%f],_=p.radius??i;if(_<=0){m===0?r.moveTo(p.x,p.y):r.lineTo(p.x,p.y);continue}const x=t[m],c=t[(m+2)%f],y=u(x,p);let g;if(y<1e-4)g=p;else{const M=Math.min(y/2,_);g=o(p,x,M/y)}const b=u(c,p);let T;if(b<1e-4)T=p;else{const M=Math.min(b/2,_);T=o(p,c,M/b)}m===0?r.moveTo(g.x,g.y):r.lineTo(g.x,g.y),r.quadraticCurveTo(p.x,p.y,T.x,T.y,s)}}const a2=new ne;class s2{constructor(t){this.shapePrimitives=[],this._currentPoly=null,this._bounds=new an,this._graphicsPath2D=t,this.signed=t.checkForHoles}moveTo(t,i){return this.startPoly(t,i),this}lineTo(t,i){this._ensurePoly();const s=this._currentPoly.points,u=s[s.length-2],o=s[s.length-1];return(u!==t||o!==i)&&s.push(t,i),this}arc(t,i,s,u,o,f){this._ensurePoly(!1);const m=this._currentPoly.points;return ug(m,t,i,s,u,o,f),this}arcTo(t,i,s,u,o){this._ensurePoly();const f=this._currentPoly.points;return $S(f,t,i,s,u,o),this}arcToSvg(t,i,s,u,o,f,m){const p=this._currentPoly.points;return e2(p,this._currentPoly.lastX,this._currentPoly.lastY,f,m,t,i,s,u,o),this}bezierCurveTo(t,i,s,u,o,f,m){this._ensurePoly();const p=this._currentPoly;return lg(this._currentPoly.points,p.lastX,p.lastY,t,i,s,u,o,f,m),this}quadraticCurveTo(t,i,s,u,o){this._ensurePoly();const f=this._currentPoly;return KS(this._currentPoly.points,f.lastX,f.lastY,t,i,s,u,o),this}closePath(){return this.endPoly(!0),this}addPath(t,i){this.endPoly(),i&&!i.isIdentity()&&(t=t.clone(!0),t.transform(i));const s=this.shapePrimitives,u=s.length;for(let o=0;o<t.instructions.length;o++){const f=t.instructions[o];this[f.action](...f.data)}if(t.checkForHoles&&s.length-u>1){let o=null;for(let f=u;f<s.length;f++){const m=s[f];if(m.shape.type==="polygon"){const p=m.shape,_=o?.shape;_&&_.containsPolygon(p)?(o.holes||(o.holes=[]),o.holes.push(m),s.copyWithin(f,f+1),s.length--,f--):o=m}}}return this}finish(t=!1){this.endPoly(t)}rect(t,i,s,u,o){return this.drawShape(new ne(t,i,s,u),o),this}circle(t,i,s,u){return this.drawShape(new fh(t,i,s),u),this}poly(t,i,s){const u=new Ys(t);return u.closePath=i,this.drawShape(u,s),this}regularPoly(t,i,s,u,o=0,f){u=Math.max(u|0,3);const m=-1*Math.PI/2+o,p=Math.PI*2/u,_=[];for(let x=0;x<u;x++){const c=m-x*p;_.push(t+s*Math.cos(c),i+s*Math.sin(c))}return this.poly(_,!0,f),this}roundPoly(t,i,s,u,o,f=0,m){if(u=Math.max(u|0,3),o<=0)return this.regularPoly(t,i,s,u,f);const p=s*Math.sin(Math.PI/u)-.001;o=Math.min(o,p);const _=-1*Math.PI/2+f,x=Math.PI*2/u,c=(u-2)*Math.PI/u/2;for(let y=0;y<u;y++){const g=y*x+_,b=t+s*Math.cos(g),T=i+s*Math.sin(g),M=g+Math.PI+c,A=g-Math.PI-c,E=b+o*Math.cos(M),C=T+o*Math.sin(M),B=b+o*Math.cos(A),X=T+o*Math.sin(A);y===0?this.moveTo(E,C):this.lineTo(E,C),this.quadraticCurveTo(b,T,B,X,m)}return this.closePath()}roundShape(t,i,s=!1,u){return t.length<3?this:(s?i2(this,t,i,u):n2(this,t,i),this.closePath())}filletRect(t,i,s,u,o){if(o===0)return this.rect(t,i,s,u);const f=Math.min(s,u)/2,m=Math.min(f,Math.max(-f,o)),p=t+s,_=i+u,x=m<0?-m:0,c=Math.abs(m);return this.moveTo(t,i+c).arcTo(t+x,i+x,t+c,i,c).lineTo(p-c,i).arcTo(p-x,i+x,p,i+c,c).lineTo(p,_-c).arcTo(p-x,_-x,t+s-c,_,c).lineTo(t+c,_).arcTo(t+x,_-x,t,_-c,c).closePath()}chamferRect(t,i,s,u,o,f){if(o<=0)return this.rect(t,i,s,u);const m=Math.min(o,Math.min(s,u)/2),p=t+s,_=i+u,x=[t+m,i,p-m,i,p,i+m,p,_-m,p-m,_,t+m,_,t,_-m,t,i+m];for(let c=x.length-1;c>=2;c-=2)x[c]===x[c-2]&&x[c-1]===x[c-3]&&x.splice(c-1,2);return this.poly(x,!0,f)}ellipse(t,i,s,u,o){return this.drawShape(new dh(t,i,s,u),o),this}roundRect(t,i,s,u,o,f){return this.drawShape(new mh(t,i,s,u,o),f),this}drawShape(t,i){return this.endPoly(),this.shapePrimitives.push({shape:t,transform:i}),this}startPoly(t,i){let s=this._currentPoly;return s&&this.endPoly(),s=new Ys,s.points.push(t,i),this._currentPoly=s,this}endPoly(t=!1){const i=this._currentPoly;return i&&i.points.length>2&&(i.closePath=t,this.shapePrimitives.push({shape:i})),this._currentPoly=null,this}_ensurePoly(t=!0){if(!this._currentPoly&&(this._currentPoly=new Ys,t)){const i=this.shapePrimitives[this.shapePrimitives.length-1];if(i){let s=i.shape.x,u=i.shape.y;if(i.transform&&!i.transform.isIdentity()){const o=i.transform,f=s;s=o.a*s+o.c*u+o.tx,u=o.b*f+o.d*u+o.ty}this._currentPoly.points.push(s,u)}else this._currentPoly.points.push(0,0)}}buildPath(){const t=this._graphicsPath2D;this.shapePrimitives.length=0,this._currentPoly=null;for(let i=0;i<t.instructions.length;i++){const s=t.instructions[i];this[s.action](...s.data)}this.finish()}get bounds(){const t=this._bounds;t.clear();const i=this.shapePrimitives;for(let s=0;s<i.length;s++){const u=i[s],o=u.shape.getBounds(a2);u.transform?t.addRect(o,u.transform):t.addRect(o)}return t}}class Un{constructor(t,i=!1){this.instructions=[],this.uid=Vt("graphicsPath"),this._dirty=!0,this.checkForHoles=i,typeof t=="string"?C1(t,this):this.instructions=t?.slice()??[]}get shapePath(){return this._shapePath||(this._shapePath=new s2(this)),this._dirty&&(this._dirty=!1,this._shapePath.buildPath()),this._shapePath}addPath(t,i){return t=t.clone(),this.instructions.push({action:"addPath",data:[t,i]}),this._dirty=!0,this}arc(...t){return this.instructions.push({action:"arc",data:t}),this._dirty=!0,this}arcTo(...t){return this.instructions.push({action:"arcTo",data:t}),this._dirty=!0,this}arcToSvg(...t){return this.instructions.push({action:"arcToSvg",data:t}),this._dirty=!0,this}bezierCurveTo(...t){return this.instructions.push({action:"bezierCurveTo",data:t}),this._dirty=!0,this}bezierCurveToShort(t,i,s,u,o){const f=this.instructions[this.instructions.length-1],m=this.getLastPoint(ce.shared);let p=0,_=0;if(!f||f.action!=="bezierCurveTo")p=m.x,_=m.y;else{p=f.data[2],_=f.data[3];const x=m.x,c=m.y;p=x+(x-p),_=c+(c-_)}return this.instructions.push({action:"bezierCurveTo",data:[p,_,t,i,s,u,o]}),this._dirty=!0,this}closePath(){return this.instructions.push({action:"closePath",data:[]}),this._dirty=!0,this}ellipse(...t){return this.instructions.push({action:"ellipse",data:t}),this._dirty=!0,this}lineTo(...t){return this.instructions.push({action:"lineTo",data:t}),this._dirty=!0,this}moveTo(...t){return this.instructions.push({action:"moveTo",data:t}),this}quadraticCurveTo(...t){return this.instructions.push({action:"quadraticCurveTo",data:t}),this._dirty=!0,this}quadraticCurveToShort(t,i,s){const u=this.instructions[this.instructions.length-1],o=this.getLastPoint(ce.shared);let f=0,m=0;if(!u||u.action!=="quadraticCurveTo")f=o.x,m=o.y;else{f=u.data[0],m=u.data[1];const p=o.x,_=o.y;f=p+(p-f),m=_+(_-m)}return this.instructions.push({action:"quadraticCurveTo",data:[f,m,t,i,s]}),this._dirty=!0,this}rect(t,i,s,u,o){return this.instructions.push({action:"rect",data:[t,i,s,u,o]}),this._dirty=!0,this}circle(t,i,s,u){return this.instructions.push({action:"circle",data:[t,i,s,u]}),this._dirty=!0,this}roundRect(...t){return this.instructions.push({action:"roundRect",data:t}),this._dirty=!0,this}poly(...t){return this.instructions.push({action:"poly",data:t}),this._dirty=!0,this}regularPoly(...t){return this.instructions.push({action:"regularPoly",data:t}),this._dirty=!0,this}roundPoly(...t){return this.instructions.push({action:"roundPoly",data:t}),this._dirty=!0,this}roundShape(...t){return this.instructions.push({action:"roundShape",data:t}),this._dirty=!0,this}filletRect(...t){return this.instructions.push({action:"filletRect",data:t}),this._dirty=!0,this}chamferRect(...t){return this.instructions.push({action:"chamferRect",data:t}),this._dirty=!0,this}star(t,i,s,u,o,f,m){o||(o=u/2);const p=-1*Math.PI/2+f,_=s*2,x=Math.PI*2/_,c=[];for(let y=0;y<_;y++){const g=y%2?o:u,b=y*x+p;c.push(t+g*Math.cos(b),i+g*Math.sin(b))}return this.poly(c,!0,m),this}clone(t=!1){const i=new Un;if(i.checkForHoles=this.checkForHoles,!t)i.instructions=this.instructions.slice();else for(let s=0;s<this.instructions.length;s++){const u=this.instructions[s];i.instructions.push({action:u.action,data:u.data.slice()})}return i}clear(){return this.instructions.length=0,this._dirty=!0,this}transform(t){if(t.isIdentity())return this;const i=t.a,s=t.b,u=t.c,o=t.d,f=t.tx,m=t.ty;let p=0,_=0,x=0,c=0,y=0,g=0,b=0,T=0;for(let M=0;M<this.instructions.length;M++){const A=this.instructions[M],E=A.data;switch(A.action){case"moveTo":case"lineTo":p=E[0],_=E[1],E[0]=i*p+u*_+f,E[1]=s*p+o*_+m;break;case"bezierCurveTo":x=E[0],c=E[1],y=E[2],g=E[3],p=E[4],_=E[5],E[0]=i*x+u*c+f,E[1]=s*x+o*c+m,E[2]=i*y+u*g+f,E[3]=s*y+o*g+m,E[4]=i*p+u*_+f,E[5]=s*p+o*_+m;break;case"quadraticCurveTo":x=E[0],c=E[1],p=E[2],_=E[3],E[0]=i*x+u*c+f,E[1]=s*x+o*c+m,E[2]=i*p+u*_+f,E[3]=s*p+o*_+m;break;case"arcToSvg":p=E[5],_=E[6],b=E[0],T=E[1],E[0]=i*b+u*T,E[1]=s*b+o*T,E[5]=i*p+u*_+f,E[6]=s*p+o*_+m;break;case"circle":E[4]=Ds(E[3],t);break;case"rect":E[4]=Ds(E[4],t);break;case"ellipse":E[8]=Ds(E[8],t);break;case"roundRect":E[5]=Ds(E[5],t);break;case"addPath":E[0].transform(t);break;case"poly":E[2]=Ds(E[2],t);break;default:Ne("unknown transform action",A.action);break}}return this._dirty=!0,this}get bounds(){return this.shapePath.bounds}getLastPoint(t){let i=this.instructions.length-1,s=this.instructions[i];if(!s)return t.x=0,t.y=0,t;for(;s.action==="closePath";){if(i--,i<0)return t.x=0,t.y=0,t;s=this.instructions[i]}switch(s.action){case"moveTo":case"lineTo":t.x=s.data[0],t.y=s.data[1];break;case"quadraticCurveTo":t.x=s.data[2],t.y=s.data[3];break;case"bezierCurveTo":t.x=s.data[4],t.y=s.data[5];break;case"arc":case"arcToSvg":t.x=s.data[5],t.y=s.data[6];break;case"addPath":s.data[0].getLastPoint(t);break}return t}}function Ds(r,t){return r?r.prepend(t):t.clone()}function qt(r,t,i){const s=r.getAttribute(t);return s?Number(s):i}function r2(r,t){const i=r.querySelectorAll("defs");for(let s=0;s<i.length;s++){const u=i[s];for(let o=0;o<u.children.length;o++){const f=u.children[o];switch(f.nodeName.toLowerCase()){case"lineargradient":t.defs[f.id]=l2(f);break;case"radialgradient":t.defs[f.id]=u2();break}}}}function l2(r){const t=qt(r,"x1",0),i=qt(r,"y1",0),s=qt(r,"x2",1),u=qt(r,"y2",0),o=r.getAttribute("gradientUnits")||"objectBoundingBox",f=new Ks(t,i,s,u,o==="objectBoundingBox"?"local":"global");for(let m=0;m<r.children.length;m++){const p=r.children[m],_=qt(p,"offset",0),x=Ie.shared.setValue(p.getAttribute("stop-color")).toNumber();f.addColorStop(_,x)}return f}function u2(r){return Ne("[SVG Parser] Radial gradients are not yet supported"),new Ks(0,0,1,0)}function O_(r){const t=r.match(/url\s*\(\s*['"]?\s*#([^'"\s)]+)\s*['"]?\s*\)/i);return t?t[1]:""}const B_={fill:{type:"paint",default:0},"fill-opacity":{type:"number",default:1},stroke:{type:"paint",default:0},"stroke-width":{type:"number",default:1},"stroke-opacity":{type:"number",default:1},"stroke-linecap":{type:"string",default:"butt"},"stroke-linejoin":{type:"string",default:"miter"},"stroke-miterlimit":{type:"number",default:10},"stroke-dasharray":{type:"string",default:"none"},"stroke-dashoffset":{type:"number",default:0},opacity:{type:"number",default:1}};function og(r,t){const i=r.getAttribute("style"),s={},u={},o={strokeStyle:s,fillStyle:u,useFill:!1,useStroke:!1};for(const f in B_){const m=r.getAttribute(f);m&&G_(t,o,f,m.trim())}if(i){const f=i.split(";");for(let m=0;m<f.length;m++){const p=f[m].trim(),[_,x]=p.split(":");B_[_]&&G_(t,o,_,x.trim())}}return{strokeStyle:o.useStroke?s:null,fillStyle:o.useFill?u:null,useFill:o.useFill,useStroke:o.useStroke}}function G_(r,t,i,s){switch(i){case"stroke":if(s!=="none"){if(s.startsWith("url(")){const u=O_(s);t.strokeStyle.fill=r.defs[u]}else t.strokeStyle.color=Ie.shared.setValue(s).toNumber();t.useStroke=!0}break;case"stroke-width":t.strokeStyle.width=Number(s);break;case"fill":if(s!=="none"){if(s.startsWith("url(")){const u=O_(s);t.fillStyle.fill=r.defs[u]}else t.fillStyle.color=Ie.shared.setValue(s).toNumber();t.useFill=!0}break;case"fill-opacity":t.fillStyle.alpha=Number(s);break;case"stroke-opacity":t.strokeStyle.alpha=Number(s);break;case"opacity":t.fillStyle.alpha=Number(s),t.strokeStyle.alpha=Number(s);break}}function o2(r){if(r.length<=2)return!0;const t=r.map(m=>m.area).sort((m,p)=>p-m),[i,s]=t,u=t[t.length-1],o=i/s,f=s/u;return!(o>3&&f<2)}function c2(r){return r.split(/(?=[Mm])/).filter(s=>s.trim().length>0)}function h2(r){const t=r.match(/[-+]?[0-9]*\.?[0-9]+/g);if(!t||t.length<4)return 0;const i=t.map(Number),s=[],u=[];for(let x=0;x<i.length;x+=2)x+1<i.length&&(s.push(i[x]),u.push(i[x+1]));if(s.length===0||u.length===0)return 0;const o=Math.min(...s),f=Math.max(...s),m=Math.min(...u),p=Math.max(...u);return(f-o)*(p-m)}function U_(r,t){const i=new Un(r,!1);for(const s of i.instructions)t.instructions.push(s)}function f2(r,t){if(typeof r=="string"){const f=document.createElement("div");f.innerHTML=r.trim(),r=f.querySelector("svg")}const i={context:t,defs:{},path:new Un};r2(r,i);const s=r.children,{fillStyle:u,strokeStyle:o}=og(r,i);for(let f=0;f<s.length;f++){const m=s[f];m.nodeName.toLowerCase()!=="defs"&&cg(m,i,u,o)}return t}function cg(r,t,i,s){const u=r.children,{fillStyle:o,strokeStyle:f}=og(r,t);o&&i?i={...i,...o}:o&&(i=o),f&&s?s={...s,...f}:f&&(s=f);const m=!i&&!s;m&&(i={color:0});let p,_,x,c,y,g,b,T,M,A,E,C,B,X,P,k,it;switch(r.nodeName.toLowerCase()){case"path":{X=r.getAttribute("d");const Q=r.getAttribute("fill-rule"),Z=c2(X),I=Q==="evenodd",ot=Z.length>1;if(I&&ot){const ht=Z.map(D=>({path:D,area:h2(D)}));if(ht.sort((D,Y)=>Y.area-D.area),Z.length>3||!o2(ht))for(let D=0;D<ht.length;D++){const Y=ht[D],nt=D===0;t.context.beginPath();const W=new Un(void 0,!0);U_(Y.path,W),t.context.path(W),nt?(i&&t.context.fill(i),s&&t.context.stroke(s)):t.context.cut()}else for(let D=0;D<ht.length;D++){const Y=ht[D],nt=D%2===1;t.context.beginPath();const W=new Un(void 0,!0);U_(Y.path,W),t.context.path(W),nt?t.context.cut():(i&&t.context.fill(i),s&&t.context.stroke(s))}}else{const ht=Q?Q==="evenodd":!0;P=new Un(X,ht),t.context.path(P),i&&t.context.fill(i),s&&t.context.stroke(s)}break}case"circle":b=qt(r,"cx",0),T=qt(r,"cy",0),M=qt(r,"r",0),t.context.ellipse(b,T,M,M),i&&t.context.fill(i),s&&t.context.stroke(s);break;case"rect":p=qt(r,"x",0),_=qt(r,"y",0),k=qt(r,"width",0),it=qt(r,"height",0),A=qt(r,"rx",0),E=qt(r,"ry",0),A||E?t.context.roundRect(p,_,k,it,A||E):t.context.rect(p,_,k,it),i&&t.context.fill(i),s&&t.context.stroke(s);break;case"ellipse":b=qt(r,"cx",0),T=qt(r,"cy",0),A=qt(r,"rx",0),E=qt(r,"ry",0),t.context.beginPath(),t.context.ellipse(b,T,A,E),i&&t.context.fill(i),s&&t.context.stroke(s);break;case"line":x=qt(r,"x1",0),c=qt(r,"y1",0),y=qt(r,"x2",0),g=qt(r,"y2",0),t.context.beginPath(),t.context.moveTo(x,c),t.context.lineTo(y,g),s&&t.context.stroke(s);break;case"polygon":B=r.getAttribute("points"),C=B.match(/-?\d+/g).map(Q=>parseInt(Q,10)),t.context.poly(C,!0),i&&t.context.fill(i),s&&t.context.stroke(s);break;case"polyline":B=r.getAttribute("points"),C=B.match(/-?\d+/g).map(Q=>parseInt(Q,10)),t.context.poly(C,!1),s&&t.context.stroke(s);break;case"g":case"svg":break;default:{Ne(`[SVG parser] <${r.nodeName}> elements unsupported`);break}}m&&(i=null);for(let Q=0;Q<u.length;Q++)cg(u[Q],t,i,s)}const H_={repeat:{addressModeU:"repeat",addressModeV:"repeat"},"repeat-x":{addressModeU:"repeat",addressModeV:"clamp-to-edge"},"repeat-y":{addressModeU:"clamp-to-edge",addressModeV:"repeat"},"no-repeat":{addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"}};class d2{constructor(t,i){this.uid=Vt("fillPattern"),this._tick=0,this.transform=new gt,this.texture=t,this.transform.scale(1/t.frame.width,1/t.frame.height),i&&(t.source.style.addressModeU=H_[i].addressModeU,t.source.style.addressModeV=H_[i].addressModeV)}setTransform(t){const i=this.texture;this.transform.copyFrom(t),this.transform.invert(),this.transform.scale(1/i.frame.width,1/i.frame.height),this._tick++}get texture(){return this._texture}set texture(t){this._texture!==t&&(this._texture=t,this._tick++)}get styleKey(){return`fill-pattern-${this.uid}-${this._tick}`}destroy(){this.texture.destroy(!0),this.texture=null}}function m2(r){return Ie.isColorLike(r)}function N_(r){return r instanceof d2}function k_(r){return r instanceof Ks}function p2(r){return r instanceof Dt}function _2(r,t,i){const s=Ie.shared.setValue(t??0);return r.color=s.toNumber(),r.alpha=s.alpha===1?i.alpha:s.alpha,r.texture=Dt.WHITE,{...i,...r}}function y2(r,t,i){return r.texture=t,{...i,...r}}function L_(r,t,i){return r.fill=t,r.color=16777215,r.texture=t.texture,r.matrix=t.transform,{...i,...r}}function Y_(r,t,i){return t.buildGradient(),r.fill=t,r.color=16777215,r.texture=t.texture,r.matrix=t.transform,r.textureSpace=t.textureSpace,{...i,...r}}function g2(r,t){const i={...t,...r},s=Ie.shared.setValue(i.color);return i.alpha*=s.alpha,i.color=s.toNumber(),i}function Ns(r,t){if(r==null)return null;const i={},s=r;return m2(r)?_2(i,r,t):p2(r)?y2(i,r,t):N_(r)?L_(i,r,t):k_(r)?Y_(i,r,t):s.fill&&N_(s.fill)?L_(s,s.fill,t):s.fill&&k_(s.fill)?Y_(s,s.fill,t):g2(s,t)}function q_(r,t){const{width:i,alignment:s,miterLimit:u,cap:o,join:f,pixelLine:m,...p}=t,_=Ns(r,p);return _?{width:i,alignment:s,miterLimit:u,cap:o,join:f,pixelLine:m,..._}:null}const x2=new ce,X_=new gt,xh=class dn extends Hn{constructor(){super(...arguments),this._gpuData=Object.create(null),this.autoGarbageCollect=!0,this._gcLastUsed=-1,this.uid=Vt("graphicsContext"),this.dirty=!0,this.batchMode="auto",this.instructions=[],this.destroyed=!1,this._activePath=new Un,this._transform=new gt,this._fillStyle={...dn.defaultFillStyle},this._strokeStyle={...dn.defaultStrokeStyle},this._stateStack=[],this._tick=0,this._bounds=new an,this._boundsDirty=!0}clone(){const t=new dn;return t.batchMode=this.batchMode,t.instructions=this.instructions.slice(),t._activePath=this._activePath.clone(),t._transform=this._transform.clone(),t._fillStyle={...this._fillStyle},t._strokeStyle={...this._strokeStyle},t._stateStack=this._stateStack.slice(),t._bounds=this._bounds.clone(),t._boundsDirty=!0,t}get fillStyle(){return this._fillStyle}set fillStyle(t){this._fillStyle=Ns(t,dn.defaultFillStyle)}get strokeStyle(){return this._strokeStyle}set strokeStyle(t){this._strokeStyle=q_(t,dn.defaultStrokeStyle)}setFillStyle(t){return this._fillStyle=Ns(t,dn.defaultFillStyle),this}setStrokeStyle(t){return this._strokeStyle=Ns(t,dn.defaultStrokeStyle),this}texture(t,i,s,u,o,f){return this.instructions.push({action:"texture",data:{image:t,dx:s||0,dy:u||0,dw:o||t.frame.width,dh:f||t.frame.height,transform:this._transform.clone(),alpha:this._fillStyle.alpha,style:i||i===0?Ie.shared.setValue(i).toNumber():16777215}}),this.onUpdate(),this}beginPath(){return this._activePath=new Un,this}fill(t,i){let s;const u=this.instructions[this.instructions.length-1];return this._tick===0&&u?.action==="stroke"?s=u.data.path:s=this._activePath.clone(),s?(t!=null&&(i!==void 0&&typeof t=="number"&&(Ct(Kt,"GraphicsContext.fill(color, alpha) is deprecated, use GraphicsContext.fill({ color, alpha }) instead"),t={color:t,alpha:i}),this._fillStyle=Ns(t,dn.defaultFillStyle)),this.instructions.push({action:"fill",data:{style:this.fillStyle,path:s}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}_initNextPathLocation(){const{x:t,y:i}=this._activePath.getLastPoint(ce.shared);this._activePath.clear(),this._activePath.moveTo(t,i)}stroke(t){let i;const s=this.instructions[this.instructions.length-1];return this._tick===0&&s?.action==="fill"?i=s.data.path:i=this._activePath.clone(),i?(t!=null&&(this._strokeStyle=q_(t,dn.defaultStrokeStyle)),this.instructions.push({action:"stroke",data:{style:this.strokeStyle,path:i}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}cut(){for(let t=0;t<2;t++){const i=this.instructions[this.instructions.length-1-t],s=this._activePath.clone();if(i&&(i.action==="stroke"||i.action==="fill"))if(i.data.hole)i.data.hole.addPath(s);else{i.data.hole=s;break}}return this._initNextPathLocation(),this}arc(t,i,s,u,o,f){this._tick++;const m=this._transform;return this._activePath.arc(m.a*t+m.c*i+m.tx,m.b*t+m.d*i+m.ty,s,u,o,f),this}arcTo(t,i,s,u,o){this._tick++;const f=this._transform;return this._activePath.arcTo(f.a*t+f.c*i+f.tx,f.b*t+f.d*i+f.ty,f.a*s+f.c*u+f.tx,f.b*s+f.d*u+f.ty,o),this}arcToSvg(t,i,s,u,o,f,m){this._tick++;const p=this._transform;return this._activePath.arcToSvg(t,i,s,u,o,p.a*f+p.c*m+p.tx,p.b*f+p.d*m+p.ty),this}bezierCurveTo(t,i,s,u,o,f,m){this._tick++;const p=this._transform;return this._activePath.bezierCurveTo(p.a*t+p.c*i+p.tx,p.b*t+p.d*i+p.ty,p.a*s+p.c*u+p.tx,p.b*s+p.d*u+p.ty,p.a*o+p.c*f+p.tx,p.b*o+p.d*f+p.ty,m),this}closePath(){return this._tick++,this._activePath?.closePath(),this}ellipse(t,i,s,u){return this._tick++,this._activePath.ellipse(t,i,s,u,this._transform.clone()),this}circle(t,i,s){return this._tick++,this._activePath.circle(t,i,s,this._transform.clone()),this}path(t){return this._tick++,this._activePath.addPath(t,this._transform.clone()),this}lineTo(t,i){this._tick++;const s=this._transform;return this._activePath.lineTo(s.a*t+s.c*i+s.tx,s.b*t+s.d*i+s.ty),this}moveTo(t,i){this._tick++;const s=this._transform,u=this._activePath.instructions,o=s.a*t+s.c*i+s.tx,f=s.b*t+s.d*i+s.ty;return u.length===1&&u[0].action==="moveTo"?(u[0].data[0]=o,u[0].data[1]=f,this):(this._activePath.moveTo(o,f),this)}quadraticCurveTo(t,i,s,u,o){this._tick++;const f=this._transform;return this._activePath.quadraticCurveTo(f.a*t+f.c*i+f.tx,f.b*t+f.d*i+f.ty,f.a*s+f.c*u+f.tx,f.b*s+f.d*u+f.ty,o),this}rect(t,i,s,u){return this._tick++,this._activePath.rect(t,i,s,u,this._transform.clone()),this}roundRect(t,i,s,u,o){return this._tick++,this._activePath.roundRect(t,i,s,u,o,this._transform.clone()),this}poly(t,i){return this._tick++,this._activePath.poly(t,i,this._transform.clone()),this}regularPoly(t,i,s,u,o=0,f){return this._tick++,this._activePath.regularPoly(t,i,s,u,o,f),this}roundPoly(t,i,s,u,o,f){return this._tick++,this._activePath.roundPoly(t,i,s,u,o,f),this}roundShape(t,i,s,u){return this._tick++,this._activePath.roundShape(t,i,s,u),this}filletRect(t,i,s,u,o){return this._tick++,this._activePath.filletRect(t,i,s,u,o),this}chamferRect(t,i,s,u,o,f){return this._tick++,this._activePath.chamferRect(t,i,s,u,o,f),this}star(t,i,s,u,o=0,f=0){return this._tick++,this._activePath.star(t,i,s,u,o,f,this._transform.clone()),this}svg(t){return this._tick++,f2(t,this),this}restore(){const t=this._stateStack.pop();return t&&(this._transform=t.transform,this._fillStyle=t.fillStyle,this._strokeStyle=t.strokeStyle),this}save(){return this._stateStack.push({transform:this._transform.clone(),fillStyle:{...this._fillStyle},strokeStyle:{...this._strokeStyle}}),this}getTransform(){return this._transform}resetTransform(){return this._transform.identity(),this}rotate(t){return this._transform.rotate(t),this}scale(t,i=t){return this._transform.scale(t,i),this}setTransform(t,i,s,u,o,f){return t instanceof gt?(this._transform.set(t.a,t.b,t.c,t.d,t.tx,t.ty),this):(this._transform.set(t,i,s,u,o,f),this)}transform(t,i,s,u,o,f){return t instanceof gt?(this._transform.append(t),this):(X_.set(t,i,s,u,o,f),this._transform.append(X_),this)}translate(t,i=t){return this._transform.translate(t,i),this}clear(){return this._activePath.clear(),this.instructions.length=0,this.resetTransform(),this.onUpdate(),this}onUpdate(){this._boundsDirty=!0,!this.dirty&&(this.emit("update",this,16),this.dirty=!0)}get bounds(){if(!this._boundsDirty)return this._bounds;this._boundsDirty=!1;const t=this._bounds;t.clear();for(let i=0;i<this.instructions.length;i++){const s=this.instructions[i],u=s.action;if(u==="fill"){const o=s.data;t.addBounds(o.path.bounds)}else if(u==="texture"){const o=s.data;t.addFrame(o.dx,o.dy,o.dx+o.dw,o.dy+o.dh,o.transform)}if(u==="stroke"){const o=s.data,f=o.style.alignment,m=o.style.width*(1-f),p=o.path.bounds;t.addFrame(p.minX-m,p.minY-m,p.maxX+m,p.maxY+m)}}return t}containsPoint(t){if(!this.bounds.containsPoint(t.x,t.y))return!1;const i=this.instructions;let s=!1;for(let u=0;u<i.length;u++){const o=i[u],f=o.data,m=f.path;if(!o.action||!m)continue;const p=f.style,_=m.shapePath.shapePrimitives;for(let x=0;x<_.length;x++){const c=_[x].shape;if(!p||!c)continue;const y=_[x].transform,g=y?y.applyInverse(t,x2):t;if(o.action==="fill")s=c.contains(g.x,g.y);else{const T=p;s=c.strokeContains(g.x,g.y,T.width,T.alignment)}const b=f.hole;if(b){const T=b.shapePath?.shapePrimitives;if(T)for(let M=0;M<T.length;M++)T[M].shape.contains(g.x,g.y)&&(s=!1)}if(s)return!0}}return s}unload(){this.emit("unload",this);for(const t in this._gpuData)this._gpuData[t]?.destroy();this._gpuData=Object.create(null)}destroy(t=!1){if(this.destroyed)return;if(this.destroyed=!0,this._stateStack.length=0,this._transform=null,this.unload(),this.emit("destroy",this),this.removeAllListeners(),typeof t=="boolean"?t:t?.texture){const s=typeof t=="boolean"?t:t?.textureSource;this._fillStyle.texture&&(this._fillStyle.fill&&"uid"in this._fillStyle.fill?this._fillStyle.fill.destroy():this._fillStyle.texture.destroy(s)),this._strokeStyle.texture&&(this._strokeStyle.fill&&"uid"in this._strokeStyle.fill?this._strokeStyle.fill.destroy():this._strokeStyle.texture.destroy(s))}this._fillStyle=null,this._strokeStyle=null,this.instructions=null,this._activePath=null,this._bounds=null,this._stateStack=null,this.customShader=null,this._transform=null}};xh.defaultFillStyle={color:16777215,alpha:1,texture:Dt.WHITE,matrix:null,fill:null,textureSpace:"local"};xh.defaultStrokeStyle={width:1,color:16777215,alpha:1,alignment:.5,miterLimit:10,cap:"butt",join:"miter",texture:Dt.WHITE,matrix:null,fill:null,textureSpace:"local",pixelLine:!1};let Os=xh;var v2=`
in vec2 vTextureCoord;
in vec2 vFilterUv;

out vec4 finalColor;

uniform sampler2D uTexture;
uniform sampler2D uMapTexture;

uniform vec4 uInputClamp;
uniform highp vec4 uInputSize;
uniform mat2 uRotation;
uniform vec2 uScale;

void main()
{
    vec4 map = texture(uMapTexture, vFilterUv);
    
    vec2 offset = uInputSize.zw * (uRotation * (map.xy - 0.5)) * uScale; 

    finalColor = texture(uTexture, clamp(vTextureCoord + offset, uInputClamp.xy, uInputClamp.zw));
}
`,b2=`in vec2 aPosition;
out vec2 vTextureCoord;
out vec2 vFilterUv;


uniform vec4 uInputSize;
uniform vec4 uOutputFrame;
uniform vec4 uOutputTexture;

uniform mat3 uFilterMatrix;

vec4 filterVertexPosition( void )
{
    vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;
    
    position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aPosition * (uOutputFrame.zw * uInputSize.zw);
}

vec2 getFilterCoord( void )
{
  return ( uFilterMatrix * vec3( filterTextureCoord(), 1.0)  ).xy;
}


void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
    vFilterUv = getFilterCoord();
}
`,j_=`
struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

struct DisplacementUniforms {
  uFilterMatrix:mat3x3<f32>,
  uScale:vec2<f32>,
  uRotation:mat2x2<f32>
};



@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;
@group(0) @binding(1) var uTexture: texture_2d<f32>;
@group(0) @binding(2) var uSampler : sampler;

@group(1) @binding(0) var<uniform> filterUniforms : DisplacementUniforms;
@group(1) @binding(1) var uMapTexture: texture_2d<f32>;
@group(1) @binding(2) var uMapSampler : sampler;

struct VSOutput {
    @builtin(position) position: vec4<f32>,
    @location(0) uv : vec2<f32>,
    @location(1) filterUv : vec2<f32>,
  };

fn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>
{
    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;

    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

fn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);
}

fn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
  return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);  
}

fn getFilterCoord(aPosition:vec2<f32> ) -> vec2<f32>
{
  return ( filterUniforms.uFilterMatrix * vec3( filterTextureCoord(aPosition), 1.0)  ).xy;
}

fn getSize() -> vec2<f32>
{

  
  return gfu.uGlobalFrame.zw;
}
  
@vertex
fn mainVertex(
  @location(0) aPosition : vec2<f32>, 
) -> VSOutput {
  return VSOutput(
   filterVertexPosition(aPosition),
   filterTextureCoord(aPosition),
   getFilterCoord(aPosition)
  );
}

@fragment
fn mainFragment(
  @location(0) uv: vec2<f32>,
  @location(1) filterUv: vec2<f32>,
  @builtin(position) position: vec4<f32>
) -> @location(0) vec4<f32> {

    var map = textureSample(uMapTexture, uMapSampler, filterUv);

    var offset =  gfu.uInputSize.zw * (filterUniforms.uRotation * (map.xy - 0.5)) * filterUniforms.uScale; 
   
    return textureSample(uTexture, uSampler, clamp(uv + offset, gfu.uInputClamp.xy, gfu.uInputClamp.zw));
}`;class V_ extends $b{constructor(...t){let i=t[0];i instanceof Gn&&(t[1]&&Ct(Kt,"DisplacementFilter now uses options object instead of params. {sprite, scale}"),i={sprite:i,scale:t[1]});const{sprite:s,scale:u,...o}=i;let f=u??20;typeof f=="number"&&(f=new ce(f,f));const m=new ch({uFilterMatrix:{value:new gt,type:"mat3x3<f32>"},uScale:{value:f,type:"vec2<f32>"},uRotation:{value:new Float32Array([0,0,0,0]),type:"mat2x2<f32>"}}),p=Yl.from({vertex:b2,fragment:v2,name:"displacement-filter"}),_=Ea.from({vertex:{source:j_,entryPoint:"mainVertex"},fragment:{source:j_,entryPoint:"mainFragment"}}),x=s.texture.source;super({...o,gpuProgram:_,glProgram:p,resources:{filterUniforms:m,uMapTexture:x,uMapSampler:x.style}}),this._sprite=i.sprite,this._sprite.renderable=!1}apply(t,i,s,u){const o=this.resources.filterUniforms.uniforms;t.calculateSpriteMatrix(o.uFilterMatrix,this._sprite);const f=this._sprite.worldTransform,m=Math.sqrt(f.a*f.a+f.b*f.b),p=Math.sqrt(f.c*f.c+f.d*f.d);m!==0&&p!==0&&(o.uRotation[0]=f.a/m,o.uRotation[1]=f.b/m,o.uRotation[2]=f.c/p,o.uRotation[3]=f.d/p),this.resources.uMapTexture=this._sprite.texture.source,t.applyFilter(this,i,s,u)}get scale(){return this.resources.filterUniforms.uniforms.uScale}}class S2{constructor(){this.isBatchable=!1}reset(){this.isBatchable=!1,this.context=null,this.graphicsData&&(this.graphicsData.destroy(),this.graphicsData=null)}destroy(){this.reset()}}class A2{constructor(){this.instructions=new uh}init(){this.instructions.reset()}destroy(){this.instructions.destroy(),this.instructions=null}}const vh=class ih{constructor(t){this._renderer=t,this._managedContexts=new Xl({renderer:t,type:"resource",name:"graphicsContext"})}init(t){ih.defaultOptions.bezierSmoothness=t?.bezierSmoothness??ih.defaultOptions.bezierSmoothness}getContextRenderData(t){return this.getGpuContext(t).graphicsData||this._initContextRenderData(t)}updateGpuContext(t){const i=t._gpuData,s=!!i[this._renderer.uid],u=i[this._renderer.uid]||this._initContext(t);return(t.dirty||!s)&&(s&&u.reset(),u.isBatchable=!1,t.dirty=!1),u}getGpuContext(t){return t._gpuData[this._renderer.uid]||this._initContext(t)}_initContextRenderData(t){const i=new A2,s=this.getGpuContext(t);return s.graphicsData=i,i.init(),i}_initContext(t){const i=new S2;return i.context=t,t._gpuData[this._renderer.uid]=i,this._managedContexts.add(t),i}destroy(){this._managedContexts.destroy(),this._renderer=null}};vh.extension={type:[vt.CanvasSystem],name:"graphicsContext"};vh.defaultOptions={bezierSmoothness:.5};let T2=vh;class hg{constructor(t,i){this.state=hh.for2d(),this.renderer=t,this._adaptor=i,this.renderer.runners.contextChange.add(this),this._managedGraphics=new Xl({renderer:t,type:"renderable",priority:-1,name:"graphics"})}contextChange(){this._adaptor.contextChange(this.renderer)}validateRenderable(t){return!1}addRenderable(t,i){this._managedGraphics.add(t),this.renderer.renderPipes.batch.break(i),i.add(t)}updateRenderable(t){}execute(t){t.isRenderable&&this._adaptor.execute(this,t)}destroy(){this._managedGraphics.destroy(),this.renderer=null,this._adaptor.destroy(),this._adaptor=null}}hg.extension={type:[vt.CanvasPipes],name:"graphics"};function M2(r,t,i){const s=(r>>24&255)/255;t[i++]=(r&255)/255*s,t[i++]=(r>>8&255)/255*s,t[i++]=(r>>16&255)/255*s,t[i++]=s}class w2{constructor(){this.batches=[],this.batched=!1}destroy(){this.batches.forEach(t=>{Me.return(t)}),this.batches.length=0}}class fg{constructor(t,i){this.state=hh.for2d(),this.renderer=t,this._adaptor=i,this.renderer.runners.contextChange.add(this),this._managedGraphics=new Xl({renderer:t,type:"renderable",priority:-1,name:"graphics"})}contextChange(){this._adaptor.contextChange(this.renderer)}validateRenderable(t){const i=t.context,s=!!t._gpuData,o=this.renderer.graphicsContext.updateGpuContext(i);return!!(o.isBatchable||s!==o.isBatchable)}addRenderable(t,i){const u=this.renderer.graphicsContext.updateGpuContext(t.context);t.didViewUpdate&&this._rebuild(t),u.isBatchable?this._addToBatcher(t,i):(this.renderer.renderPipes.batch.break(i),i.add(t))}updateRenderable(t){const s=this._getGpuDataForRenderable(t).batches;for(let u=0;u<s.length;u++){const o=s[u];o._batcher.updateElement(o)}}execute(t){if(!t.isRenderable)return;const i=this.renderer,s=t.context;if(!i.graphicsContext.getGpuContext(s).batches.length)return;const o=s.customShader||this._adaptor.shader;this.state.blendMode=t.groupBlendMode;const f=o.resources.localUniforms.uniforms;f.uTransformMatrix=t.groupTransform,f.uRound=i._roundPixels|t._roundPixels,M2(t.groupColorAlpha,f.uColor,0),this._adaptor.execute(this,t)}_rebuild(t){const i=this._getGpuDataForRenderable(t),u=this.renderer.graphicsContext.updateGpuContext(t.context);i.destroy(),u.isBatchable&&this._updateBatchesForRenderable(t,i)}_addToBatcher(t,i){const s=this.renderer.renderPipes.batch,u=this._getGpuDataForRenderable(t).batches;for(let o=0;o<u.length;o++){const f=u[o];s.addToBatch(f,i)}}_getGpuDataForRenderable(t){return t._gpuData[this.renderer.uid]||this._initGpuDataForRenderable(t)}_initGpuDataForRenderable(t){const i=new w2;return t._gpuData[this.renderer.uid]=i,this._managedGraphics.add(t),i}_updateBatchesForRenderable(t,i){const s=t.context,o=this.renderer.graphicsContext.getGpuContext(s),f=this.renderer._roundPixels|t._roundPixels;i.batches=o.batches.map(m=>{const p=Me.get(ph);return m.copyTo(p),p.renderable=t,p.roundPixels=f,p})}destroy(){this._managedGraphics.destroy(),this.renderer=null,this._adaptor.destroy(),this._adaptor=null,this.state=null}}fg.extension={type:[vt.WebGLPipes,vt.WebGPUPipes],name:"graphics"};ie.add(hg);ie.add(fg);ie.add(T2);ie.add(gh);class Nl extends dy{constructor(t){t instanceof Os&&(t={context:t});const{context:i,roundPixels:s,...u}=t||{};super({label:"Graphics",...u}),this.renderPipeId="graphics",i?this.context=i:(this.context=this._ownedContext=new Os,this.context.autoGarbageCollect=this.autoGarbageCollect),this.didViewUpdate=!0,this.allowChildren=!1,this.roundPixels=s??!1}set context(t){t!==this._context&&(this._context&&(this._context.off("update",this.onViewUpdate,this),this._context.off("unload",this.unload,this)),this._context=t,this._context.on("update",this.onViewUpdate,this),this._context.on("unload",this.unload,this),this.onViewUpdate())}get context(){return this._context}get bounds(){return this._context.bounds}updateBounds(){}containsPoint(t){return this._context.containsPoint(t)}destroy(t){this._ownedContext&&!t?this._ownedContext.destroy(t):(t===!0||t?.context===!0)&&this._context.destroy(t),this._ownedContext=null,this._context=null,super.destroy(t)}_onTouch(t){this._gcLastUsed=t,this._context._gcLastUsed=t}_callContextMethod(t,i){return this.context[t](...i),this}setFillStyle(...t){return this._callContextMethod("setFillStyle",t)}setStrokeStyle(...t){return this._callContextMethod("setStrokeStyle",t)}fill(...t){return this._callContextMethod("fill",t)}stroke(...t){return this._callContextMethod("stroke",t)}texture(...t){return this._callContextMethod("texture",t)}beginPath(){return this._callContextMethod("beginPath",[])}cut(){return this._callContextMethod("cut",[])}arc(...t){return this._callContextMethod("arc",t)}arcTo(...t){return this._callContextMethod("arcTo",t)}arcToSvg(...t){return this._callContextMethod("arcToSvg",t)}bezierCurveTo(...t){return this._callContextMethod("bezierCurveTo",t)}closePath(){return this._callContextMethod("closePath",[])}ellipse(...t){return this._callContextMethod("ellipse",t)}circle(...t){return this._callContextMethod("circle",t)}path(...t){return this._callContextMethod("path",t)}lineTo(...t){return this._callContextMethod("lineTo",t)}moveTo(...t){return this._callContextMethod("moveTo",t)}quadraticCurveTo(...t){return this._callContextMethod("quadraticCurveTo",t)}rect(...t){return this._callContextMethod("rect",t)}roundRect(...t){return this._callContextMethod("roundRect",t)}poly(...t){return this._callContextMethod("poly",t)}regularPoly(...t){return this._callContextMethod("regularPoly",t)}roundPoly(...t){return this._callContextMethod("roundPoly",t)}roundShape(...t){return this._callContextMethod("roundShape",t)}filletRect(...t){return this._callContextMethod("filletRect",t)}chamferRect(...t){return this._callContextMethod("chamferRect",t)}star(...t){return this._callContextMethod("star",t)}svg(...t){return this._callContextMethod("svg",t)}restore(...t){return this._callContextMethod("restore",t)}save(){return this._callContextMethod("save",[])}getTransform(){return this.context.getTransform()}resetTransform(){return this._callContextMethod("resetTransform",[])}rotateTransform(...t){return this._callContextMethod("rotate",t)}scaleTransform(...t){return this._callContextMethod("scale",t)}setTransform(...t){return this._callContextMethod("setTransform",t)}transform(...t){return this._callContextMethod("transform",t)}translateTransform(...t){return this._callContextMethod("translate",t)}clear(){return this._callContextMethod("clear",[])}get fillStyle(){return this._context.fillStyle}set fillStyle(t){this._context.fillStyle=t}get strokeStyle(){return this._context.strokeStyle}set strokeStyle(t){this._context.strokeStyle=t}clone(t=!1){return t?new Nl(this._context.clone()):(this._ownedContext=null,new Nl(this._context))}lineStyle(t,i,s){Ct(Kt,"Graphics#lineStyle is no longer needed. Use Graphics#setStrokeStyle to set the stroke style.");const u={};return t&&(u.width=t),i&&(u.color=i),s&&(u.alpha=s),this.context.strokeStyle=u,this}beginFill(t,i){Ct(Kt,"Graphics#beginFill is no longer needed. Use Graphics#fill to fill the shape with the desired style.");const s={};return t!==void 0&&(s.color=t),i!==void 0&&(s.alpha=i),this.context.fillStyle=s,this}endFill(){Ct(Kt,"Graphics#endFill is no longer needed. Use Graphics#fill to fill the shape with the desired style."),this.context.fill();const t=this.context.strokeStyle;return(t.width!==Os.defaultStrokeStyle.width||t.color!==Os.defaultStrokeStyle.color||t.alpha!==Os.defaultStrokeStyle.alpha)&&this.context.stroke(),this}drawCircle(...t){return Ct(Kt,"Graphics#drawCircle has been renamed to Graphics#circle"),this._callContextMethod("circle",t)}drawEllipse(...t){return Ct(Kt,"Graphics#drawEllipse has been renamed to Graphics#ellipse"),this._callContextMethod("ellipse",t)}drawPolygon(...t){return Ct(Kt,"Graphics#drawPolygon has been renamed to Graphics#poly"),this._callContextMethod("poly",t)}drawRect(...t){return Ct(Kt,"Graphics#drawRect has been renamed to Graphics#rect"),this._callContextMethod("rect",t)}drawRoundedRect(...t){return Ct(Kt,"Graphics#drawRoundedRect has been renamed to Graphics#roundRect"),this._callContextMethod("roundRect",t)}drawStar(...t){return Ct(Kt,"Graphics#drawStar has been renamed to Graphics#star"),this._callContextMethod("star",t)}}ie.add(Cv,Ev);let pe=null,Bs=null;const P_="canvas-container",C2=()=>{const{0:r,1:t}=oe.useState(!1);return oe.useEffect(()=>{if(r)return(async function(){const i={width:window.innerWidth,height:window.innerHeight,backgroundColor:0,resolution:window.devicePixelRatio||1,antialias:!0};if(pe=new Iy,await pe.init(i),pe){const C=document.getElementById(P_);C&&(Bs=C.appendChild(pe.canvas))}const s=new nn;pe.stage.addChild(s);const u=new nn;pe.stage.addChild(u);const o=E2(),f=new Gn(o);f.width=window.innerWidth*1.2,f.height=window.innerHeight*1.2,f.x=-window.innerWidth*.1,f.y=-window.innerHeight*.1,f.alpha=.8,s.addChild(f);const m=Gn.from(R2());m.texture.source.addressMode="repeat",m.scale.set(2),pe.stage.addChild(m);const p=new V_(m);p.scale.set(100),s.filters=[p],A(200);let _=window.innerWidth/2,x=window.innerHeight/2,c=_,y=x,g=0;const b=new nn;pe.stage.addChild(b);const T=Gn.from(z2());T.anchor.set(.5),T.scale.set(.5),T.alpha=.7,T.blendMode="screen",b.addChild(T);const M=new V_(T);M.scale.set(30),s.filters=[p,M],window.addEventListener("mousemove",C=>{c=_,y=x,_=C.clientX,x=C.clientY;const B=_-c,X=x-y;g=Math.sqrt(B*B+X*X),g=Math.min(g,30)}),pe.ticker.add(()=>{if(!pe)return;m.x+=1,m.y+=.5;const C=(window.innerWidth/2-_)*.01,B=(window.innerHeight/2-x)*.01;f.x+=(C-f.x)*.02,f.y+=(B-f.y)*.02,T.x=_,T.y=x,T.rotation+=.01,M.scale.x=30+g*2,M.scale.y=30+g*2;const X=.5+Math.sin(pe.ticker.lastTime/200)*.1;T.scale.set(X+g*.01),E()}),window.addEventListener("resize",()=>{pe&&(pe.renderer.resize(window.innerWidth,window.innerHeight),f.width=window.innerWidth*1.2,f.height=window.innerHeight*1.2)});function A(C=10){for(let B=0;B<C;B++){const X=new Nl,P=Math.random()*2+.5,k=Math.random()*.5+.5;X.circle(0,0,P).fill({color:16777215,alpha:k}),X.x=Math.random()*window.innerWidth,X.y=Math.random()*window.innerHeight,X.alpha=Math.random(),u.addChild(X)}}function E(){for(let B=0;B<u.children.length;B++){const X=u.children[B];X&&(X.alpha+=(Math.random()-.5)*.05,X.alpha=Math.max(.2,Math.min(1,X.alpha)),X.x+=(Math.random()-.5)*.5,X.y+=(Math.random()-.5)*.5,X.x<0&&(X.x=window.innerWidth),X.x>window.innerWidth&&(X.x=0),X.y<0&&(X.y=window.innerHeight),X.y>window.innerHeight&&(X.y=0))}}})(),()=>{pe&&pe.destroy(!0),Bs&&Bs.firstChild&&Bs.removeChild(Bs.firstChild)}},[r]),oe.useEffect(()=>{t(!0)},[]),tt.jsx("div",{id:P_})};function E2(){const r=document.createElement("canvas");r.width=512,r.height=512;const t=r.getContext("2d",{willReadFrequently:!0});if(!t)return;const i=t.createRadialGradient(r.width/2,r.height/2,0,r.width/2,r.height/2,r.width/2);i.addColorStop(0,"#1a237e"),i.addColorStop(.4,"#283593"),i.addColorStop(.6,"#303f9f"),i.addColorStop(.8,"#3949ab"),i.addColorStop(1,"#000000"),t.fillStyle=i,t.fillRect(0,0,r.width,r.height);for(let s=0;s<5e3;s++){const u=Math.random()*r.width,o=Math.random()*r.height,f=Math.random()*2,m=Math.random()*.5;t.beginPath(),t.arc(u,o,f,0,Math.PI*2),t.closePath();const p=Math.floor(Math.random()*100)+155,_=Math.floor(Math.random()*50),x=Math.floor(Math.random()*100)+155;t.fillStyle=`rgba(${p}, ${_}, ${x}, ${m})`,t.fill()}return Dt.from(r)}const R2=()=>{const r=document.createElement("canvas");r.width=256,r.height=256;const t=r.getContext("2d",{willReadFrequently:!0});if(!t)return r;for(let i=0;i<r.height;i++)for(let s=0;s<r.width;s++){const u=Math.sin(s/10)*Math.cos(i/10)*128+128;t.fillStyle=`rgb(${u}, ${u}, ${u})`,t.fillRect(s,i,1,1)}return r},z2=()=>{const r=document.createElement("canvas");r.width=256,r.height=256;const t=r.getContext("2d",{willReadFrequently:!0});if(!t)return r;const i=t.createRadialGradient(r.width/2,r.height/2,0,r.width/2,r.height/2,r.width/2);i.addColorStop(0,"rgba(255, 255, 255, 1)"),i.addColorStop(.3,"rgba(160, 160, 255, 0.8)"),i.addColorStop(.7,"rgba(100, 100, 255, 0.4)"),i.addColorStop(1,"rgba(0, 0, 0, 0)"),t.fillStyle=i,t.fillRect(0,0,r.width,r.height);for(let s=0;s<r.height;s++)for(let u=0;u<r.width;u++){const o=u-r.width/2,f=s-r.height/2;if(Math.sqrt(o*o+f*f)<r.width/2){const p=Math.sin(u/5)*Math.cos(s/5)*20,_=t.getImageData(u,s,1,1),x=_.data,c=x[0],y=x[1],g=x[2];c!==void 0&&y!==void 0&&g!==void 0&&(x[0]=Math.min(255,Math.max(0,c+p)),x[1]=Math.min(255,Math.max(0,y+p)),x[2]=Math.min(255,Math.max(0,g+p))),t.putImageData(_,u,s)}}return r},D2=F_.memo(C2,()=>!0);Px.createRoot(document.getElementById("root")).render(tt.jsxs(F_.StrictMode,{children:[tt.jsx(D2,{}),tt.jsx(Tv,{}),tt.jsx(xv,{})]}));export{ry as $,jy as A,Qs as B,Ie as C,hi as D,Hn as E,Ks as F,Nl as G,Yy as H,sn as I,ch as J,uS as K,cS as L,gt as M,yS as N,mS as O,ce as P,ql as Q,Fc as R,G1 as S,Dt as T,Ul as U,$b as V,Lv as W,Ea as X,Yl as Y,vS as Z,Me as _,Te as a,an as a0,fy as a1,Kp as a2,Gn as a3,yb as a4,$p as a5,bc as a6,Wp as a7,xb as a8,ty as a9,ne as aa,oy as ab,M2 as ac,Vy as ad,Ct as ae,Kt as af,A1 as ag,g1 as ah,V1 as ai,N1 as aj,oS as ak,hS as al,gS as am,_S as an,xS as ao,Vt as b,Bt as c,Ol as d,vt as e,HS as f,Xb as g,CS as h,d2 as i,vy as j,ie as k,Ma as l,uy as m,nn as n,Np as o,kl as p,D1 as q,tb as r,jl as s,hh as t,t1 as u,Xl as v,Ne as w,d_ as x,Bl as y,oh as z};
