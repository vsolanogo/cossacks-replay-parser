const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browserAll-CCFl0fV5.js","assets/webworkerAll-U-F3aCor.js","assets/WebGPURenderer-zP1PkANm.js","assets/BufferResource-CHSPz0OH.js","assets/RenderTargetSystem-CTzHfKTM.js","assets/WebGLRenderer-eThA8epk.js","assets/CanvasRenderer-CPvYL-Xu.js"])))=>i.map(i=>d[i]);
!function polyfill(){const r=document.createElement("link").relList;if(!(r&&r.supports&&r.supports("modulepreload"))){for(const r of document.querySelectorAll('link[rel="modulepreload"]'))processPreload(r);new MutationObserver(r=>{for(const i of r)if("childList"===i.type)for(const r of i.addedNodes)"LINK"===r.tagName&&"modulepreload"===r.rel&&processPreload(r)}).observe(document,{childList:!0,subtree:!0})}function processPreload(r){if(r.ep)return;r.ep=!0;const i=function getFetchOpts(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),"use-credentials"===r.crossOrigin?i.credentials="include":"anonymous"===r.crossOrigin?i.credentials="omit":i.credentials="same-origin",i}(r);fetch(r.href,i)}}();var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function getDefaultExportFromCjs(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var i,l,p={exports:{}},m={};var y,v,_=function requireJsxRuntime(){return l||(l=1,p.exports=function requireReactJsxRuntime_production(){if(i)return m;i=1;var r=Symbol.for("react.transitional.element"),l=Symbol.for("react.fragment");function jsxProd(i,l,p){var m=null;if(void 0!==p&&(m=""+p),void 0!==l.key&&(m=""+l.key),"key"in l)for(var y in p={},l)"key"!==y&&(p[y]=l[y]);else p=l;return l=p.ref,{$$typeof:r,type:i,key:m,ref:void 0!==l?l:null,props:p}}return m.Fragment=l,m.jsx=jsxProd,m.jsxs=jsxProd,m}()),p.exports}(),x={exports:{}},S={};function requireReact_production(){if(y)return S;y=1;var r=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),v=Symbol.for("react.consumer"),_=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),C=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),T=Symbol.iterator;var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,R={};function Component(r,i,l){this.props=r,this.context=i,this.refs=R,this.updater=l||A}function ComponentDummy(){}function PureComponent(r,i,l){this.props=r,this.context=i,this.refs=R,this.updater=l||A}Component.prototype.isReactComponent={},Component.prototype.setState=function(r,i){if("object"!=typeof r&&"function"!=typeof r&&null!=r)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,r,i,"setState")},Component.prototype.forceUpdate=function(r){this.updater.enqueueForceUpdate(this,r,"forceUpdate")},ComponentDummy.prototype=Component.prototype;var F=PureComponent.prototype=new ComponentDummy;F.constructor=PureComponent,I(F,Component.prototype),F.isPureReactComponent=!0;var O=Array.isArray;function noop(){}var L={H:null,A:null,T:null,S:null},D=Object.prototype.hasOwnProperty;function ReactElement(i,l,p){var m=p.ref;return{$$typeof:r,type:i,key:l,ref:void 0!==m?m:null,props:p}}function isValidElement(i){return"object"==typeof i&&null!==i&&i.$$typeof===r}var z=/\/+/g;function getElementKey(r,i){return"object"==typeof r&&null!==r&&null!=r.key?function escape(r){var i={"=":"=0",":":"=2"};return"$"+r.replace(/[=:]/g,function(r){return i[r]})}(""+r.key):i.toString(36)}function mapIntoArray(l,p,m,y,v){var _=typeof l;"undefined"!==_&&"boolean"!==_||(l=null);var x=!1;if(null===l)x=!0;else switch(_){case"bigint":case"string":case"number":x=!0;break;case"object":switch(l.$$typeof){case r:case i:x=!0;break;case P:return mapIntoArray((x=l._init)(l._payload),p,m,y,v)}}if(x)return v=v(l),x=""===y?"."+getElementKey(l,0):y,O(v)?(m="",null!=x&&(m=x.replace(z,"$&/")+"/"),mapIntoArray(v,p,m,"",function(r){return r})):null!=v&&(isValidElement(v)&&(v=function cloneAndReplaceKey(r,i){return ReactElement(r.type,i,r.props)}(v,m+(null==v.key||l&&l.key===v.key?"":(""+v.key).replace(z,"$&/")+"/")+x)),p.push(v)),1;x=0;var S=""===y?".":y+":";if(O(l))for(var k=0;k<l.length;k++)x+=mapIntoArray(y=l[k],p,m,_=S+getElementKey(y,k),v);else if("function"==typeof(k=function getIteratorFn(r){return null===r||"object"!=typeof r?null:"function"==typeof(r=T&&r[T]||r["@@iterator"])?r:null}(l)))for(l=k.call(l),k=0;!(y=l.next()).done;)x+=mapIntoArray(y=y.value,p,m,_=S+getElementKey(y,k++),v);else if("object"===_){if("function"==typeof l.then)return mapIntoArray(function resolveThenable(r){switch(r.status){case"fulfilled":return r.value;case"rejected":throw r.reason;default:switch("string"==typeof r.status?r.then(noop,noop):(r.status="pending",r.then(function(i){"pending"===r.status&&(r.status="fulfilled",r.value=i)},function(i){"pending"===r.status&&(r.status="rejected",r.reason=i)})),r.status){case"fulfilled":return r.value;case"rejected":throw r.reason}}throw r}(l),p,m,y,v);throw p=String(l),Error("Objects are not valid as a React child (found: "+("[object Object]"===p?"object with keys {"+Object.keys(l).join(", ")+"}":p)+"). If you meant to render a collection of children, use an array instead.")}return x}function mapChildren(r,i,l){if(null==r)return r;var p=[],m=0;return mapIntoArray(r,p,"","",function(r){return i.call(l,r,m++)}),p}function lazyInitializer(r){if(-1===r._status){var i=r._result;(i=i()).then(function(i){0!==r._status&&-1!==r._status||(r._status=1,r._result=i)},function(i){0!==r._status&&-1!==r._status||(r._status=2,r._result=i)}),-1===r._status&&(r._status=0,r._result=i)}if(1===r._status)return r._result.default;throw r._result}var B="function"==typeof reportError?reportError:function(r){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof r&&null!==r&&"string"==typeof r.message?String(r.message):String(r),error:r});if(!window.dispatchEvent(i))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",r)},U={map:mapChildren,forEach:function(r,i,l){mapChildren(r,function(){i.apply(this,arguments)},l)},count:function(r){var i=0;return mapChildren(r,function(){i++}),i},toArray:function(r){return mapChildren(r,function(r){return r})||[]},only:function(r){if(!isValidElement(r))throw Error("React.Children.only expected to receive a single React element child.");return r}};return S.Activity=E,S.Children=U,S.Component=Component,S.Fragment=l,S.Profiler=m,S.PureComponent=PureComponent,S.StrictMode=p,S.Suspense=k,S.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,S.__COMPILER_RUNTIME={__proto__:null,c:function(r){return L.H.useMemoCache(r)}},S.cache=function(r){return function(){return r.apply(null,arguments)}},S.cacheSignal=function(){return null},S.cloneElement=function(r,i,l){if(null==r)throw Error("The argument must be a React element, but you passed "+r+".");var p=I({},r.props),m=r.key;if(null!=i)for(y in void 0!==i.key&&(m=""+i.key),i)!D.call(i,y)||"key"===y||"__self"===y||"__source"===y||"ref"===y&&void 0===i.ref||(p[y]=i[y]);var y=arguments.length-2;if(1===y)p.children=l;else if(1<y){for(var v=Array(y),_=0;_<y;_++)v[_]=arguments[_+2];p.children=v}return ReactElement(r.type,m,p)},S.createContext=function(r){return(r={$$typeof:_,_currentValue:r,_currentValue2:r,_threadCount:0,Provider:null,Consumer:null}).Provider=r,r.Consumer={$$typeof:v,_context:r},r},S.createElement=function(r,i,l){var p,m={},y=null;if(null!=i)for(p in void 0!==i.key&&(y=""+i.key),i)D.call(i,p)&&"key"!==p&&"__self"!==p&&"__source"!==p&&(m[p]=i[p]);var v=arguments.length-2;if(1===v)m.children=l;else if(1<v){for(var _=Array(v),x=0;x<v;x++)_[x]=arguments[x+2];m.children=_}if(r&&r.defaultProps)for(p in v=r.defaultProps)void 0===m[p]&&(m[p]=v[p]);return ReactElement(r,y,m)},S.createRef=function(){return{current:null}},S.forwardRef=function(r){return{$$typeof:x,render:r}},S.isValidElement=isValidElement,S.lazy=function(r){return{$$typeof:P,_payload:{_status:-1,_result:r},_init:lazyInitializer}},S.memo=function(r,i){return{$$typeof:C,type:r,compare:void 0===i?null:i}},S.startTransition=function(r){var i=L.T,l={};L.T=l;try{var p=r(),m=L.S;null!==m&&m(l,p),"object"==typeof p&&null!==p&&"function"==typeof p.then&&p.then(noop,B)}catch(y){B(y)}finally{null!==i&&null!==l.types&&(i.types=l.types),L.T=i}},S.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},S.use=function(r){return L.H.use(r)},S.useActionState=function(r,i,l){return L.H.useActionState(r,i,l)},S.useCallback=function(r,i){return L.H.useCallback(r,i)},S.useContext=function(r){return L.H.useContext(r)},S.useDebugValue=function(){},S.useDeferredValue=function(r,i){return L.H.useDeferredValue(r,i)},S.useEffect=function(r,i){return L.H.useEffect(r,i)},S.useEffectEvent=function(r){return L.H.useEffectEvent(r)},S.useId=function(){return L.H.useId()},S.useImperativeHandle=function(r,i,l){return L.H.useImperativeHandle(r,i,l)},S.useInsertionEffect=function(r,i){return L.H.useInsertionEffect(r,i)},S.useLayoutEffect=function(r,i){return L.H.useLayoutEffect(r,i)},S.useMemo=function(r,i){return L.H.useMemo(r,i)},S.useOptimistic=function(r,i){return L.H.useOptimistic(r,i)},S.useReducer=function(r,i,l){return L.H.useReducer(r,i,l)},S.useRef=function(r){return L.H.useRef(r)},S.useState=function(r){return L.H.useState(r)},S.useSyncExternalStore=function(r,i,l){return L.H.useSyncExternalStore(r,i,l)},S.useTransition=function(){return L.H.useTransition()},S.version="19.2.4",S}function requireReact(){return v||(v=1,x.exports=requireReact_production()),x.exports}var k=requireReact();const C=getDefaultExportFromCjs(k);var P,E,T={exports:{}},A={},I={exports:{}},R={};function requireScheduler(){return E||(E=1,I.exports=function requireScheduler_production(){return P||(P=1,function(r){function push(r,i){var l=r.length;r.push(i);e:for(;0<l;){var p=l-1>>>1,m=r[p];if(!(0<compare(m,i)))break e;r[p]=i,r[l]=m,l=p}}function peek(r){return 0===r.length?null:r[0]}function pop2(r){if(0===r.length)return null;var i=r[0],l=r.pop();if(l!==i){r[0]=l;e:for(var p=0,m=r.length,y=m>>>1;p<y;){var v=2*(p+1)-1,_=r[v],x=v+1,S=r[x];if(0>compare(_,l))x<m&&0>compare(S,_)?(r[p]=S,r[x]=l,p=x):(r[p]=_,r[v]=l,p=v);else{if(!(x<m&&0>compare(S,l)))break e;r[p]=S,r[x]=l,p=x}}}return i}function compare(r,i){var l=r.sortIndex-i.sortIndex;return 0!==l?l:r.id-i.id}if(r.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var i=performance;r.unstable_now=function(){return i.now()}}else{var l=Date,p=l.now();r.unstable_now=function(){return l.now()-p}}var m=[],y=[],v=1,_=null,x=3,S=!1,k=!1,C=!1,P=!1,E="function"==typeof setTimeout?setTimeout:null,T="function"==typeof clearTimeout?clearTimeout:null,A="undefined"!=typeof setImmediate?setImmediate:null;function advanceTimers(r){for(var i=peek(y);null!==i;){if(null===i.callback)pop2(y);else{if(!(i.startTime<=r))break;pop2(y),i.sortIndex=i.expirationTime,push(m,i)}i=peek(y)}}function handleTimeout(r){if(C=!1,advanceTimers(r),!k)if(null!==peek(m))k=!0,R||(R=!0,I());else{var i=peek(y);null!==i&&requestHostTimeout(handleTimeout,i.startTime-r)}}var I,R=!1,F=-1,O=5,L=-1;function shouldYieldToHost(){return!(!P&&r.unstable_now()-L<O)}function performWorkUntilDeadline(){if(P=!1,R){var i=r.unstable_now();L=i;var l=!0;try{e:{k=!1,C&&(C=!1,T(F),F=-1),S=!0;var p=x;try{t:{for(advanceTimers(i),_=peek(m);null!==_&&!(_.expirationTime>i&&shouldYieldToHost());){var v=_.callback;if("function"==typeof v){_.callback=null,x=_.priorityLevel;var E=v(_.expirationTime<=i);if(i=r.unstable_now(),"function"==typeof E){_.callback=E,advanceTimers(i),l=!0;break t}_===peek(m)&&pop2(m),advanceTimers(i)}else pop2(m);_=peek(m)}if(null!==_)l=!0;else{var A=peek(y);null!==A&&requestHostTimeout(handleTimeout,A.startTime-i),l=!1}}break e}finally{_=null,x=p,S=!1}l=void 0}}finally{l?I():R=!1}}}if("function"==typeof A)I=function(){A(performWorkUntilDeadline)};else if("undefined"!=typeof MessageChannel){var D=new MessageChannel,z=D.port2;D.port1.onmessage=performWorkUntilDeadline,I=function(){z.postMessage(null)}}else I=function(){E(performWorkUntilDeadline,0)};function requestHostTimeout(i,l){F=E(function(){i(r.unstable_now())},l)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(r){r.callback=null},r.unstable_forceFrameRate=function(r){0>r||125<r||(O=0<r?Math.floor(1e3/r):5)},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_next=function(r){switch(x){case 1:case 2:case 3:var i=3;break;default:i=x}var l=x;x=i;try{return r()}finally{x=l}},r.unstable_requestPaint=function(){P=!0},r.unstable_runWithPriority=function(r,i){switch(r){case 1:case 2:case 3:case 4:case 5:break;default:r=3}var l=x;x=r;try{return i()}finally{x=l}},r.unstable_scheduleCallback=function(i,l,p){var _=r.unstable_now();switch(p="object"==typeof p&&null!==p&&"number"==typeof(p=p.delay)&&0<p?_+p:_,i){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return i={id:v++,callback:l,priorityLevel:i,startTime:p,expirationTime:x=p+x,sortIndex:-1},p>_?(i.sortIndex=p,push(y,i),null===peek(m)&&i===peek(y)&&(C?(T(F),F=-1):C=!0,requestHostTimeout(handleTimeout,p-_))):(i.sortIndex=x,push(m,i),k||S||(k=!0,R||(R=!0,I()))),i},r.unstable_shouldYield=shouldYieldToHost,r.unstable_wrapCallback=function(r){var i=x;return function(){var l=x;x=i;try{return r.apply(this,arguments)}finally{x=l}}}}(R)),R}()),I.exports}var F,O,L,D,z={exports:{}},B={};function requireReactDom_production(){if(F)return B;F=1;var r=requireReact();function formatProdErrorMessage(r){var i="https://react.dev/errors/"+r;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function noop(){}var i={d:{f:noop,r:function(){throw Error(formatProdErrorMessage(522))},D:noop,C:noop,L:noop,m:noop,X:noop,S:noop,M:noop},p:0,findDOMNode:null},l=Symbol.for("react.portal");var p=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function getCrossOriginStringAs(r,i){return"font"===r?"":"string"==typeof i?"use-credentials"===i?i:"":void 0}return B.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,B.createPortal=function(r,i){var p=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!i||1!==i.nodeType&&9!==i.nodeType&&11!==i.nodeType)throw Error(formatProdErrorMessage(299));return function createPortal$1(r,i,p){var m=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:l,key:null==m?null:""+m,children:r,containerInfo:i,implementation:p}}(r,i,null,p)},B.flushSync=function(r){var l=p.T,m=i.p;try{if(p.T=null,i.p=2,r)return r()}finally{p.T=l,i.p=m,i.d.f()}},B.preconnect=function(r,l){"string"==typeof r&&(l?l="string"==typeof(l=l.crossOrigin)?"use-credentials"===l?l:"":void 0:l=null,i.d.C(r,l))},B.prefetchDNS=function(r){"string"==typeof r&&i.d.D(r)},B.preinit=function(r,l){if("string"==typeof r&&l&&"string"==typeof l.as){var p=l.as,m=getCrossOriginStringAs(p,l.crossOrigin),y="string"==typeof l.integrity?l.integrity:void 0,v="string"==typeof l.fetchPriority?l.fetchPriority:void 0;"style"===p?i.d.S(r,"string"==typeof l.precedence?l.precedence:void 0,{crossOrigin:m,integrity:y,fetchPriority:v}):"script"===p&&i.d.X(r,{crossOrigin:m,integrity:y,fetchPriority:v,nonce:"string"==typeof l.nonce?l.nonce:void 0})}},B.preinitModule=function(r,l){if("string"==typeof r)if("object"==typeof l&&null!==l){if(null==l.as||"script"===l.as){var p=getCrossOriginStringAs(l.as,l.crossOrigin);i.d.M(r,{crossOrigin:p,integrity:"string"==typeof l.integrity?l.integrity:void 0,nonce:"string"==typeof l.nonce?l.nonce:void 0})}}else null==l&&i.d.M(r)},B.preload=function(r,l){if("string"==typeof r&&"object"==typeof l&&null!==l&&"string"==typeof l.as){var p=l.as,m=getCrossOriginStringAs(p,l.crossOrigin);i.d.L(r,p,{crossOrigin:m,integrity:"string"==typeof l.integrity?l.integrity:void 0,nonce:"string"==typeof l.nonce?l.nonce:void 0,type:"string"==typeof l.type?l.type:void 0,fetchPriority:"string"==typeof l.fetchPriority?l.fetchPriority:void 0,referrerPolicy:"string"==typeof l.referrerPolicy?l.referrerPolicy:void 0,imageSrcSet:"string"==typeof l.imageSrcSet?l.imageSrcSet:void 0,imageSizes:"string"==typeof l.imageSizes?l.imageSizes:void 0,media:"string"==typeof l.media?l.media:void 0})}},B.preloadModule=function(r,l){if("string"==typeof r)if(l){var p=getCrossOriginStringAs(l.as,l.crossOrigin);i.d.m(r,{as:"string"==typeof l.as&&"script"!==l.as?l.as:void 0,crossOrigin:p,integrity:"string"==typeof l.integrity?l.integrity:void 0})}else i.d.m(r)},B.requestFormReset=function(r){i.d.r(r)},B.unstable_batchedUpdates=function(r,i){return r(i)},B.useFormState=function(r,i,l){return p.H.useFormState(r,i,l)},B.useFormStatus=function(){return p.H.useHostTransitionStatus()},B.version="19.2.4",B}function requireReactDomClient_production(){if(L)return A;L=1;var r=requireScheduler(),i=requireReact(),l=function requireReactDom(){return O||(O=1,function checkDCE(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(r){}}(),z.exports=requireReactDom_production()),z.exports}();function formatProdErrorMessage(r){var i="https://react.dev/errors/"+r;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function isValidContainer(r){return!(!r||1!==r.nodeType&&9!==r.nodeType&&11!==r.nodeType)}function getNearestMountedFiber(r){var i=r,l=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do{!!(4098&(i=r).flags)&&(l=i.return),r=i.return}while(r)}return 3===i.tag?l:null}function getSuspenseInstanceFromFiber(r){if(13===r.tag){var i=r.memoizedState;if(null===i&&(null!==(r=r.alternate)&&(i=r.memoizedState)),null!==i)return i.dehydrated}return null}function getActivityInstanceFromFiber(r){if(31===r.tag){var i=r.memoizedState;if(null===i&&(null!==(r=r.alternate)&&(i=r.memoizedState)),null!==i)return i.dehydrated}return null}function assertIsMounted(r){if(getNearestMountedFiber(r)!==r)throw Error(formatProdErrorMessage(188))}function findCurrentHostFiberImpl(r){var i=r.tag;if(5===i||26===i||27===i||6===i)return r;for(r=r.child;null!==r;){if(null!==(i=findCurrentHostFiberImpl(r)))return i;r=r.sibling}return null}var p=Object.assign,m=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),C=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function getIteratorFn(r){return null===r||"object"!=typeof r?null:"function"==typeof(r=B&&r[B]||r["@@iterator"])?r:null}var U=Symbol.for("react.client.reference");function getComponentNameFromType(r){if(null==r)return null;if("function"==typeof r)return r.$$typeof===U?null:r.displayName||r.name||null;if("string"==typeof r)return r;switch(r){case _:return"Fragment";case S:return"Profiler";case x:return"StrictMode";case E:return"Suspense";case T:return"SuspenseList";case F:return"Activity"}if("object"==typeof r)switch(r.$$typeof){case v:return"Portal";case C:return r.displayName||"Context";case k:return(r._context.displayName||"Context")+".Consumer";case P:var i=r.render;return(r=r.displayName)||(r=""!==(r=i.displayName||i.name||"")?"ForwardRef("+r+")":"ForwardRef"),r;case I:return null!==(i=r.displayName||null)?i:getComponentNameFromType(r.type)||"Memo";case R:i=r._payload,r=r._init;try{return getComponentNameFromType(r(i))}catch(l){}}return null}var G=Array.isArray,V=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j={pending:!1,data:null,method:null,action:null},q=[],Y=-1;function createCursor(r){return{current:r}}function pop2(r){0>Y||(r.current=q[Y],q[Y]=null,Y--)}function push(r,i){Y++,q[Y]=r.current,r.current=i}var X,Q,K=createCursor(null),Z=createCursor(null),J=createCursor(null),ee=createCursor(null);function pushHostContainer(r,i){switch(push(J,i),push(Z,r),push(K,null),i.nodeType){case 9:case 11:r=(r=i.documentElement)&&(r=r.namespaceURI)?getOwnHostContext(r):0;break;default:if(r=i.tagName,i=i.namespaceURI)r=getChildHostContextProd(i=getOwnHostContext(i),r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}pop2(K),push(K,r)}function popHostContainer(){pop2(K),pop2(Z),pop2(J)}function pushHostContext(r){null!==r.memoizedState&&push(ee,r);var i=K.current,l=getChildHostContextProd(i,r.type);i!==l&&(push(Z,r),push(K,l))}function popHostContext(r){Z.current===r&&(pop2(K),pop2(Z)),ee.current===r&&(pop2(ee),Li._currentValue=j)}function describeBuiltInComponentFrame(r){if(void 0===X)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);X=i&&i[1]||"",Q=-1<l.stack.indexOf("\n    at")?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+X+r+Q}var te=!1;function describeNativeComponentFrame(r,i){if(!r||te)return"";te=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(i){var Fake=function(){throw Error()};if(Object.defineProperty(Fake.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(Fake,[])}catch(p){var l=p}Reflect.construct(r,[],Fake)}else{try{Fake.call()}catch(m){l=m}r.call(Fake.prototype)}}else{try{throw Error()}catch(y){l=y}(Fake=r())&&"function"==typeof Fake.catch&&Fake.catch(function(){})}}catch(v){if(v&&l&&"string"==typeof v.stack)return[v.stack,l.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=p.DetermineComponentFrameRoot(),v=y[0],_=y[1];if(v&&_){var x=v.split("\n"),S=_.split("\n");for(m=p=0;p<x.length&&!x[p].includes("DetermineComponentFrameRoot");)p++;for(;m<S.length&&!S[m].includes("DetermineComponentFrameRoot");)m++;if(p===x.length||m===S.length)for(p=x.length-1,m=S.length-1;1<=p&&0<=m&&x[p]!==S[m];)m--;for(;1<=p&&0<=m;p--,m--)if(x[p]!==S[m]){if(1!==p||1!==m)do{if(p--,0>--m||x[p]!==S[m]){var k="\n"+x[p].replace(" at new "," at ");return r.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",r.displayName)),k}}while(1<=p&&0<=m);break}}}finally{te=!1,Error.prepareStackTrace=l}return(l=r?r.displayName||r.name:"")?describeBuiltInComponentFrame(l):""}function describeFiber(r,i){switch(r.tag){case 26:case 27:case 5:return describeBuiltInComponentFrame(r.type);case 16:return describeBuiltInComponentFrame("Lazy");case 13:return r.child!==i&&null!==i?describeBuiltInComponentFrame("Suspense Fallback"):describeBuiltInComponentFrame("Suspense");case 19:return describeBuiltInComponentFrame("SuspenseList");case 0:case 15:return describeNativeComponentFrame(r.type,!1);case 11:return describeNativeComponentFrame(r.type.render,!1);case 1:return describeNativeComponentFrame(r.type,!0);case 31:return describeBuiltInComponentFrame("Activity");default:return""}}function getStackByFiberInDevAndProd(r){try{var i="",l=null;do{i+=describeFiber(r,l),l=r,r=r.return}while(r);return i}catch(p){return"\nError generating stack: "+p.message+"\n"+p.stack}}var re=Object.prototype.hasOwnProperty,ne=r.unstable_scheduleCallback,ie=r.unstable_cancelCallback,se=r.unstable_shouldYield,ae=r.unstable_requestPaint,oe=r.unstable_now,le=r.unstable_getCurrentPriorityLevel,ue=r.unstable_ImmediatePriority,ce=r.unstable_UserBlockingPriority,de=r.unstable_NormalPriority,he=r.unstable_LowPriority,fe=r.unstable_IdlePriority,pe=r.log,me=r.unstable_setDisableYieldValue,ge=null,ye=null;function setIsStrictModeForDevtools(r){if("function"==typeof pe&&me(r),ye&&"function"==typeof ye.setStrictMode)try{ye.setStrictMode(ge,r)}catch(i){}}var ve=Math.clz32?Math.clz32:function clz32Fallback(r){return 0===(r>>>=0)?32:31-(be(r)/_e|0)|0},be=Math.log,_e=Math.LN2;var xe=256,Se=262144,we=4194304;function getHighestPriorityLanes(r){var i=42&r;if(0!==i)return i;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&r;case 262144:case 524288:case 1048576:case 2097152:return 3932160&r;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&r;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function getNextLanes(r,i,l){var p=r.pendingLanes;if(0===p)return 0;var m=0,y=r.suspendedLanes,v=r.pingedLanes;r=r.warmLanes;var _=134217727&p;return 0!==_?0!==(p=_&~y)?m=getHighestPriorityLanes(p):0!==(v&=_)?m=getHighestPriorityLanes(v):l||0!==(l=_&~r)&&(m=getHighestPriorityLanes(l)):0!==(_=p&~y)?m=getHighestPriorityLanes(_):0!==v?m=getHighestPriorityLanes(v):l||0!==(l=p&~r)&&(m=getHighestPriorityLanes(l)),0===m?0:0!==i&&i!==m&&0===(i&y)&&((y=m&-m)>=(l=i&-i)||32===y&&4194048&l)?i:m}function checkIfRootIsPrerendering(r,i){return 0===(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&i)}function computeExpirationTime(r,i){switch(r){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;default:return-1}}function claimNextRetryLane(){var r=we;return!(62914560&(we<<=1))&&(we=4194304),r}function createLaneMap(r){for(var i=[],l=0;31>l;l++)i.push(r);return i}function markRootUpdated$1(r,i){r.pendingLanes|=i,268435456!==i&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function markSpawnedDeferredLane(r,i,l){r.pendingLanes|=i,r.suspendedLanes&=~i;var p=31-ve(i);r.entangledLanes|=i,r.entanglements[p]=1073741824|r.entanglements[p]|261930&l}function markRootEntangled(r,i){var l=r.entangledLanes|=i;for(r=r.entanglements;l;){var p=31-ve(l),m=1<<p;m&i|r[p]&i&&(r[p]|=i),l&=~m}}function getBumpedLaneForHydration(r,i){var l=i&-i;return 0!==((l=42&l?1:getBumpedLaneForHydrationByLane(l))&(r.suspendedLanes|i))?0:l}function getBumpedLaneForHydrationByLane(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function lanesToEventPriority(r){return 2<(r&=-r)?8<r?134217727&r?32:268435456:8:2}function resolveUpdatePriority(){var r=W.p;return 0!==r?r:void 0===(r=window.event)?32:getEventPriority(r.type)}function runWithPriority(r,i){var l=W.p;try{return W.p=r,i()}finally{W.p=l}}var ke=Math.random().toString(36).slice(2),Ce="__reactFiber$"+ke,Pe="__reactProps$"+ke,Ee="__reactContainer$"+ke,Te="__reactEvents$"+ke,Ae="__reactListeners$"+ke,Me="__reactHandles$"+ke,Ie="__reactResources$"+ke,Re="__reactMarker$"+ke;function detachDeletedInstance(r){delete r[Ce],delete r[Pe],delete r[Te],delete r[Ae],delete r[Me]}function getClosestInstanceFromNode(r){var i=r[Ce];if(i)return i;for(var l=r.parentNode;l;){if(i=l[Ee]||l[Ce]){if(l=i.alternate,null!==i.child||null!==l&&null!==l.child)for(r=getParentHydrationBoundary(r);null!==r;){if(l=r[Ce])return l;r=getParentHydrationBoundary(r)}return i}l=(r=l).parentNode}return null}function getInstanceFromNode(r){if(r=r[Ce]||r[Ee]){var i=r.tag;if(5===i||6===i||13===i||31===i||26===i||27===i||3===i)return r}return null}function getNodeFromInstance(r){var i=r.tag;if(5===i||26===i||27===i||6===i)return r.stateNode;throw Error(formatProdErrorMessage(33))}function getResourcesFromRoot(r){var i=r[Ie];return i||(i=r[Ie]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function markNodeAsHoistable(r){r[Re]=!0}var Fe=new Set,Oe={};function registerTwoPhaseEvent(r,i){registerDirectEvent(r,i),registerDirectEvent(r+"Capture",i)}function registerDirectEvent(r,i){for(Oe[r]=i,r=0;r<i.length;r++)Fe.add(i[r])}var Le=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),De={},Ne={};function setValueForAttribute(r,i,l){if(function isAttributeNameSafe(r){return!!re.call(Ne,r)||!re.call(De,r)&&(Le.test(r)?Ne[r]=!0:(De[r]=!0,!1))}(i))if(null===l)r.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":return void r.removeAttribute(i);case"boolean":var p=i.toLowerCase().slice(0,5);if("data-"!==p&&"aria-"!==p)return void r.removeAttribute(i)}r.setAttribute(i,""+l)}}function setValueForKnownAttribute(r,i,l){if(null===l)r.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":return void r.removeAttribute(i)}r.setAttribute(i,""+l)}}function setValueForNamespacedAttribute(r,i,l,p){if(null===p)r.removeAttribute(l);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":return void r.removeAttribute(l)}r.setAttributeNS(i,l,""+p)}}function getToStringValue(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return r;default:return""}}function isCheckable(r){var i=r.type;return(r=r.nodeName)&&"input"===r.toLowerCase()&&("checkbox"===i||"radio"===i)}function track(r){if(!r._valueTracker){var i=isCheckable(r)?"checked":"value";r._valueTracker=function trackValueOnNode(r,i,l){var p=Object.getOwnPropertyDescriptor(r.constructor.prototype,i);if(!r.hasOwnProperty(i)&&void 0!==p&&"function"==typeof p.get&&"function"==typeof p.set){var m=p.get,y=p.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return m.call(this)},set:function(r){l=""+r,y.call(this,r)}}),Object.defineProperty(r,i,{enumerable:p.enumerable}),{getValue:function(){return l},setValue:function(r){l=""+r},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}(r,i,""+r[i])}}function updateValueIfChanged(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var l=i.getValue(),p="";return r&&(p=isCheckable(r)?r.checked?"true":"false":r.value),(r=p)!==l&&(i.setValue(r),!0)}function getActiveElement(r){if(void 0===(r=r||("undefined"!=typeof document?document:void 0)))return null;try{return r.activeElement||r.body}catch(i){return r.body}}var He=/[\n"\\]/g;function escapeSelectorAttributeValueInsideDoubleQuotes(r){return r.replace(He,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function updateInput(r,i,l,p,m,y,v,_){r.name="",null!=v&&"function"!=typeof v&&"symbol"!=typeof v&&"boolean"!=typeof v?r.type=v:r.removeAttribute("type"),null!=i?"number"===v?(0===i&&""===r.value||r.value!=i)&&(r.value=""+getToStringValue(i)):r.value!==""+getToStringValue(i)&&(r.value=""+getToStringValue(i)):"submit"!==v&&"reset"!==v||r.removeAttribute("value"),null!=i?setDefaultValue(r,v,getToStringValue(i)):null!=l?setDefaultValue(r,v,getToStringValue(l)):null!=p&&r.removeAttribute("value"),null==m&&null!=y&&(r.defaultChecked=!!y),null!=m&&(r.checked=m&&"function"!=typeof m&&"symbol"!=typeof m),null!=_&&"function"!=typeof _&&"symbol"!=typeof _&&"boolean"!=typeof _?r.name=""+getToStringValue(_):r.removeAttribute("name")}function initInput(r,i,l,p,m,y,v,_){if(null!=y&&"function"!=typeof y&&"symbol"!=typeof y&&"boolean"!=typeof y&&(r.type=y),null!=i||null!=l){if(("submit"===y||"reset"===y)&&null==i)return void track(r);l=null!=l?""+getToStringValue(l):"",i=null!=i?""+getToStringValue(i):l,_||i===r.value||(r.value=i),r.defaultValue=i}p="function"!=typeof(p=null!=p?p:m)&&"symbol"!=typeof p&&!!p,r.checked=_?r.checked:!!p,r.defaultChecked=!!p,null!=v&&"function"!=typeof v&&"symbol"!=typeof v&&"boolean"!=typeof v&&(r.name=v),track(r)}function setDefaultValue(r,i,l){"number"===i&&getActiveElement(r.ownerDocument)===r||r.defaultValue===""+l||(r.defaultValue=""+l)}function updateOptions(r,i,l,p){if(r=r.options,i){i={};for(var m=0;m<l.length;m++)i["$"+l[m]]=!0;for(l=0;l<r.length;l++)m=i.hasOwnProperty("$"+r[l].value),r[l].selected!==m&&(r[l].selected=m),m&&p&&(r[l].defaultSelected=!0)}else{for(l=""+getToStringValue(l),i=null,m=0;m<r.length;m++){if(r[m].value===l)return r[m].selected=!0,void(p&&(r[m].defaultSelected=!0));null!==i||r[m].disabled||(i=r[m])}null!==i&&(i.selected=!0)}}function updateTextarea(r,i,l){null==i||((i=""+getToStringValue(i))!==r.value&&(r.value=i),null!=l)?r.defaultValue=null!=l?""+getToStringValue(l):"":r.defaultValue!==i&&(r.defaultValue=i)}function initTextarea(r,i,l,p){if(null==i){if(null!=p){if(null!=l)throw Error(formatProdErrorMessage(92));if(G(p)){if(1<p.length)throw Error(formatProdErrorMessage(93));p=p[0]}l=p}null==l&&(l=""),i=l}l=getToStringValue(i),r.defaultValue=l,(p=r.textContent)===l&&""!==p&&null!==p&&(r.value=p),track(r)}function setTextContent(r,i){if(i){var l=r.firstChild;if(l&&l===r.lastChild&&3===l.nodeType)return void(l.nodeValue=i)}r.textContent=i}var ze=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function setValueForStyle(r,i,l){var p=0===i.indexOf("--");null==l||"boolean"==typeof l||""===l?p?r.setProperty(i,""):"float"===i?r.cssFloat="":r[i]="":p?r.setProperty(i,l):"number"!=typeof l||0===l||ze.has(i)?"float"===i?r.cssFloat=l:r[i]=(""+l).trim():r[i]=l+"px"}function setValueForStyles(r,i,l){if(null!=i&&"object"!=typeof i)throw Error(formatProdErrorMessage(62));if(r=r.style,null!=l){for(var p in l)!l.hasOwnProperty(p)||null!=i&&i.hasOwnProperty(p)||(0===p.indexOf("--")?r.setProperty(p,""):"float"===p?r.cssFloat="":r[p]="");for(var m in i)p=i[m],i.hasOwnProperty(m)&&l[m]!==p&&setValueForStyle(r,m,p)}else for(var y in i)i.hasOwnProperty(y)&&setValueForStyle(r,y,i[y])}function isCustomElement(r){if(-1===r.indexOf("-"))return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Be=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ue=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sanitizeURL(r){return Ue.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function noop$1(){}var Ge=null;function getEventTarget(r){return(r=r.target||r.srcElement||window).correspondingUseElement&&(r=r.correspondingUseElement),3===r.nodeType?r.parentNode:r}var Ve=null,We=null;function restoreStateOfTarget(r){var i=getInstanceFromNode(r);if(i&&(r=i.stateNode)){var l=r[Pe]||null;e:switch(r=i.stateNode,i.type){case"input":if(updateInput(r,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),i=l.name,"radio"===l.type&&null!=i){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+escapeSelectorAttributeValueInsideDoubleQuotes(""+i)+'"][type="radio"]'),i=0;i<l.length;i++){var p=l[i];if(p!==r&&p.form===r.form){var m=p[Pe]||null;if(!m)throw Error(formatProdErrorMessage(90));updateInput(p,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(i=0;i<l.length;i++)(p=l[i]).form===r.form&&updateValueIfChanged(p)}break e;case"textarea":updateTextarea(r,l.value,l.defaultValue);break e;case"select":null!=(i=l.value)&&updateOptions(r,!!l.multiple,i,!1)}}}var je=!1;function batchedUpdates$1(r,i,l){if(je)return r(i,l);je=!0;try{return r(i)}finally{if(je=!1,(null!==Ve||null!==We)&&(flushSyncWork$1(),Ve&&(i=Ve,r=We,We=Ve=null,restoreStateOfTarget(i),r)))for(i=0;i<r.length;i++)restoreStateOfTarget(r[i])}}function getListener(r,i){var l=r.stateNode;if(null===l)return null;var p=l[Pe]||null;if(null===p)return null;l=p[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(p=!("button"===(r=r.type)||"input"===r||"select"===r||"textarea"===r)),r=!p;break e;default:r=!1}if(r)return null;if(l&&"function"!=typeof l)throw Error(formatProdErrorMessage(231,i,typeof l));return l}var $e=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),qe=!1;if($e)try{var Ye={};Object.defineProperty(Ye,"passive",{get:function(){qe=!0}}),window.addEventListener("test",Ye,Ye),window.removeEventListener("test",Ye,Ye)}catch(Qi){qe=!1}var Xe=null,Qe=null,Ke=null;function getData(){if(Ke)return Ke;var r,i,l=Qe,p=l.length,m="value"in Xe?Xe.value:Xe.textContent,y=m.length;for(r=0;r<p&&l[r]===m[r];r++);var v=p-r;for(i=1;i<=v&&l[p-i]===m[y-i];i++);return Ke=m.slice(r,1<i?1-i:void 0)}function getEventCharCode(r){var i=r.keyCode;return"charCode"in r?0===(r=r.charCode)&&13===i&&(r=13):r=i,10===r&&(r=13),32<=r||13===r?r:0}function functionThatReturnsTrue(){return!0}function functionThatReturnsFalse(){return!1}function createSyntheticEvent(r){function SyntheticBaseEvent(i,l,p,m,y){for(var v in this._reactName=i,this._targetInst=p,this.type=l,this.nativeEvent=m,this.target=y,this.currentTarget=null,r)r.hasOwnProperty(v)&&(i=r[v],this[v]=i?i(m):m[v]);return this.isDefaultPrevented=(null!=m.defaultPrevented?m.defaultPrevented:!1===m.returnValue)?functionThatReturnsTrue:functionThatReturnsFalse,this.isPropagationStopped=functionThatReturnsFalse,this}return p(SyntheticBaseEvent.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():"unknown"!=typeof r.returnValue&&(r.returnValue=!1),this.isDefaultPrevented=functionThatReturnsTrue)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():"unknown"!=typeof r.cancelBubble&&(r.cancelBubble=!0),this.isPropagationStopped=functionThatReturnsTrue)},persist:function(){},isPersistent:functionThatReturnsTrue}),SyntheticBaseEvent}var Ze,Je,et,tt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rt=createSyntheticEvent(tt),nt=p({},tt,{view:0,detail:0}),it=createSyntheticEvent(nt),st=p({},nt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:getEventModifierState,button:0,buttons:0,relatedTarget:function(r){return void 0===r.relatedTarget?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==et&&(et&&"mousemove"===r.type?(Ze=r.screenX-et.screenX,Je=r.screenY-et.screenY):Je=Ze=0,et=r),Ze)},movementY:function(r){return"movementY"in r?r.movementY:Je}}),at=createSyntheticEvent(st),ot=createSyntheticEvent(p({},st,{dataTransfer:0})),lt=createSyntheticEvent(p({},nt,{relatedTarget:0})),ut=createSyntheticEvent(p({},tt,{animationName:0,elapsedTime:0,pseudoElement:0})),ct=createSyntheticEvent(p({},tt,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}})),dt=createSyntheticEvent(p({},tt,{data:0})),ht={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ft={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function modifierStateGetter(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):!!(r=pt[r])&&!!i[r]}function getEventModifierState(){return modifierStateGetter}var mt=createSyntheticEvent(p({},nt,{key:function(r){if(r.key){var i=ht[r.key]||r.key;if("Unidentified"!==i)return i}return"keypress"===r.type?13===(r=getEventCharCode(r))?"Enter":String.fromCharCode(r):"keydown"===r.type||"keyup"===r.type?ft[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:getEventModifierState,charCode:function(r){return"keypress"===r.type?getEventCharCode(r):0},keyCode:function(r){return"keydown"===r.type||"keyup"===r.type?r.keyCode:0},which:function(r){return"keypress"===r.type?getEventCharCode(r):"keydown"===r.type||"keyup"===r.type?r.keyCode:0}})),gt=createSyntheticEvent(p({},st,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),yt=createSyntheticEvent(p({},nt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:getEventModifierState})),vt=createSyntheticEvent(p({},tt,{propertyName:0,elapsedTime:0,pseudoElement:0})),bt=createSyntheticEvent(p({},st,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0})),_t=createSyntheticEvent(p({},tt,{newState:0,oldState:0})),xt=[9,13,27,32],St=$e&&"CompositionEvent"in window,wt=null;$e&&"documentMode"in document&&(wt=document.documentMode);var kt=$e&&"TextEvent"in window&&!wt,Ct=$e&&(!St||wt&&8<wt&&11>=wt),Pt=String.fromCharCode(32),Et=!1;function isFallbackCompositionEnd(r,i){switch(r){case"keyup":return-1!==xt.indexOf(i.keyCode);case"keydown":return 229!==i.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function getDataFromCustomEvent(r){return"object"==typeof(r=r.detail)&&"data"in r?r.data:null}var Tt=!1;var At={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function isTextInputElement(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return"input"===i?!!At[r.type]:"textarea"===i}function createAndAccumulateChangeEvent(r,i,l,p){Ve?We?We.push(p):We=[p]:Ve=p,0<(i=accumulateTwoPhaseListeners(i,"onChange")).length&&(l=new rt("onChange","change",null,l,p),r.push({event:l,listeners:i}))}var Mt=null,It=null;function runEventInBatch(r){processDispatchQueue(r,0)}function getInstIfValueChanged(r){if(updateValueIfChanged(getNodeFromInstance(r)))return r}function getTargetInstForChangeEvent(r,i){if("change"===r)return i}var Rt=!1;if($e){var Ft;if($e){var Ot="oninput"in document;if(!Ot){var Lt=document.createElement("div");Lt.setAttribute("oninput","return;"),Ot="function"==typeof Lt.oninput}Ft=Ot}else Ft=!1;Rt=Ft&&(!document.documentMode||9<document.documentMode)}function stopWatchingForValueChange(){Mt&&(Mt.detachEvent("onpropertychange",handlePropertyChange),It=Mt=null)}function handlePropertyChange(r){if("value"===r.propertyName&&getInstIfValueChanged(It)){var i=[];createAndAccumulateChangeEvent(i,It,r,getEventTarget(r)),batchedUpdates$1(runEventInBatch,i)}}function handleEventsForInputEventPolyfill(r,i,l){"focusin"===r?(stopWatchingForValueChange(),It=l,(Mt=i).attachEvent("onpropertychange",handlePropertyChange)):"focusout"===r&&stopWatchingForValueChange()}function getTargetInstForInputEventPolyfill(r){if("selectionchange"===r||"keyup"===r||"keydown"===r)return getInstIfValueChanged(It)}function getTargetInstForClickEvent(r,i){if("click"===r)return getInstIfValueChanged(i)}function getTargetInstForInputOrChangeEvent(r,i){if("input"===r||"change"===r)return getInstIfValueChanged(i)}var Dt="function"==typeof Object.is?Object.is:function is(r,i){return r===i&&(0!==r||1/r==1/i)||r!=r&&i!=i};function shallowEqual(r,i){if(Dt(r,i))return!0;if("object"!=typeof r||null===r||"object"!=typeof i||null===i)return!1;var l=Object.keys(r),p=Object.keys(i);if(l.length!==p.length)return!1;for(p=0;p<l.length;p++){var m=l[p];if(!re.call(i,m)||!Dt(r[m],i[m]))return!1}return!0}function getLeafNode(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function getNodeForCharacterOffset(r,i){var l,p=getLeafNode(r);for(r=0;p;){if(3===p.nodeType){if(l=r+p.textContent.length,r<=i&&l>=i)return{node:p,offset:i-r};r=l}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=getLeafNode(p)}}function containsNode(r,i){return!(!r||!i)&&(r===i||(!r||3!==r.nodeType)&&(i&&3===i.nodeType?containsNode(r,i.parentNode):"contains"in r?r.contains(i):!!r.compareDocumentPosition&&!!(16&r.compareDocumentPosition(i))))}function getActiveElementDeep(r){for(var i=getActiveElement((r=null!=r&&null!=r.ownerDocument&&null!=r.ownerDocument.defaultView?r.ownerDocument.defaultView:window).document);i instanceof r.HTMLIFrameElement;){try{var l="string"==typeof i.contentWindow.location.href}catch(p){l=!1}if(!l)break;i=getActiveElement((r=i.contentWindow).document)}return i}function hasSelectionCapabilities(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&("input"===i&&("text"===r.type||"search"===r.type||"tel"===r.type||"url"===r.type||"password"===r.type)||"textarea"===i||"true"===r.contentEditable)}var Nt=$e&&"documentMode"in document&&11>=document.documentMode,Ht=null,zt=null,Bt=null,Ut=!1;function constructSelectEvent(r,i,l){var p=l.window===l?l.document:9===l.nodeType?l:l.ownerDocument;Ut||null==Ht||Ht!==getActiveElement(p)||("selectionStart"in(p=Ht)&&hasSelectionCapabilities(p)?p={start:p.selectionStart,end:p.selectionEnd}:p={anchorNode:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset},Bt&&shallowEqual(Bt,p)||(Bt=p,0<(p=accumulateTwoPhaseListeners(zt,"onSelect")).length&&(i=new rt("onSelect","select",null,i,l),r.push({event:i,listeners:p}),i.target=Ht)))}function makePrefixMap(r,i){var l={};return l[r.toLowerCase()]=i.toLowerCase(),l["Webkit"+r]="webkit"+i,l["Moz"+r]="moz"+i,l}var Gt={animationend:makePrefixMap("Animation","AnimationEnd"),animationiteration:makePrefixMap("Animation","AnimationIteration"),animationstart:makePrefixMap("Animation","AnimationStart"),transitionrun:makePrefixMap("Transition","TransitionRun"),transitionstart:makePrefixMap("Transition","TransitionStart"),transitioncancel:makePrefixMap("Transition","TransitionCancel"),transitionend:makePrefixMap("Transition","TransitionEnd")},Vt={},Wt={};function getVendorPrefixedEventName(r){if(Vt[r])return Vt[r];if(!Gt[r])return r;var i,l=Gt[r];for(i in l)if(l.hasOwnProperty(i)&&i in Wt)return Vt[r]=l[i];return r}$e&&(Wt=document.createElement("div").style,"AnimationEvent"in window||(delete Gt.animationend.animation,delete Gt.animationiteration.animation,delete Gt.animationstart.animation),"TransitionEvent"in window||delete Gt.transitionend.transition);var jt=getVendorPrefixedEventName("animationend"),$t=getVendorPrefixedEventName("animationiteration"),qt=getVendorPrefixedEventName("animationstart"),Yt=getVendorPrefixedEventName("transitionrun"),Xt=getVendorPrefixedEventName("transitionstart"),Qt=getVendorPrefixedEventName("transitioncancel"),Kt=getVendorPrefixedEventName("transitionend"),Zt=new Map,Jt="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function registerSimpleEvent(r,i){Zt.set(r,i),registerTwoPhaseEvent(i,[r])}Jt.push("scrollEnd");var er="function"==typeof reportError?reportError:function(r){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof r&&null!==r&&"string"==typeof r.message?String(r.message):String(r),error:r});if(!window.dispatchEvent(i))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",r)},tr=[],rr=0,nr=0;function finishQueueingConcurrentUpdates(){for(var r=rr,i=nr=rr=0;i<r;){var l=tr[i];tr[i++]=null;var p=tr[i];tr[i++]=null;var m=tr[i];tr[i++]=null;var y=tr[i];if(tr[i++]=null,null!==p&&null!==m){var v=p.pending;null===v?m.next=m:(m.next=v.next,v.next=m),p.pending=m}0!==y&&markUpdateLaneFromFiberToRoot(l,m,y)}}function enqueueUpdate$1(r,i,l,p){tr[rr++]=r,tr[rr++]=i,tr[rr++]=l,tr[rr++]=p,nr|=p,r.lanes|=p,null!==(r=r.alternate)&&(r.lanes|=p)}function enqueueConcurrentHookUpdate(r,i,l,p){return enqueueUpdate$1(r,i,l,p),getRootForUpdatedFiber(r)}function enqueueConcurrentRenderForLane(r,i){return enqueueUpdate$1(r,null,null,i),getRootForUpdatedFiber(r)}function markUpdateLaneFromFiberToRoot(r,i,l){r.lanes|=l;var p=r.alternate;null!==p&&(p.lanes|=l);for(var m=!1,y=r.return;null!==y;)y.childLanes|=l,null!==(p=y.alternate)&&(p.childLanes|=l),22===y.tag&&(null===(r=y.stateNode)||1&r._visibility||(m=!0)),r=y,y=y.return;return 3===r.tag?(y=r.stateNode,m&&null!==i&&(m=31-ve(l),null===(p=(r=y.hiddenUpdates)[m])?r[m]=[i]:p.push(i),i.lane=536870912|l),y):null}function getRootForUpdatedFiber(r){if(50<si)throw si=0,ai=null,Error(formatProdErrorMessage(185));for(var i=r.return;null!==i;)i=(r=i).return;return 3===r.tag?r.stateNode:null}var ir={};function FiberNode(r,i,l,p){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function createFiberImplClass(r,i,l,p){return new FiberNode(r,i,l,p)}function shouldConstruct(r){return!(!(r=r.prototype)||!r.isReactComponent)}function createWorkInProgress(r,i){var l=r.alternate;return null===l?((l=createFiberImplClass(r.tag,i,r.key,r.mode)).elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=i,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=65011712&r.flags,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,i=r.dependencies,l.dependencies=null===i?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l.refCleanup=r.refCleanup,l}function resetWorkInProgress(r,i){r.flags&=65011714;var l=r.alternate;return null===l?(r.childLanes=0,r.lanes=i,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,i=l.dependencies,r.dependencies=null===i?null:{lanes:i.lanes,firstContext:i.firstContext}),r}function createFiberFromTypeAndProps(r,i,l,p,m,y){var v=0;if(p=r,"function"==typeof r)shouldConstruct(r)&&(v=1);else if("string"==typeof r)v=function isHostHoistableType(r,i,l){if(1===l||null!=i.itemProp)return!1;switch(r){case"meta":case"title":return!0;case"style":if("string"!=typeof i.precedence||"string"!=typeof i.href||""===i.href)break;return!0;case"link":if("string"!=typeof i.rel||"string"!=typeof i.href||""===i.href||i.onLoad||i.onError)break;return"stylesheet"!==i.rel||(r=i.disabled,"string"==typeof i.precedence&&null==r);case"script":if(i.async&&"function"!=typeof i.async&&"symbol"!=typeof i.async&&!i.onLoad&&!i.onError&&i.src&&"string"==typeof i.src)return!0}return!1}(r,l,K.current)?26:"html"===r||"head"===r||"body"===r?27:5;else e:switch(r){case F:return(r=createFiberImplClass(31,l,i,m)).elementType=F,r.lanes=y,r;case _:return createFiberFromFragment(l.children,m,y,i);case x:v=8,m|=24;break;case S:return(r=createFiberImplClass(12,l,i,2|m)).elementType=S,r.lanes=y,r;case E:return(r=createFiberImplClass(13,l,i,m)).elementType=E,r.lanes=y,r;case T:return(r=createFiberImplClass(19,l,i,m)).elementType=T,r.lanes=y,r;default:if("object"==typeof r&&null!==r)switch(r.$$typeof){case C:v=10;break e;case k:v=9;break e;case P:v=11;break e;case I:v=14;break e;case R:v=16,p=null;break e}v=29,l=Error(formatProdErrorMessage(130,null===r?"null":typeof r,"")),p=null}return(i=createFiberImplClass(v,l,i,m)).elementType=r,i.type=p,i.lanes=y,i}function createFiberFromFragment(r,i,l,p){return(r=createFiberImplClass(7,r,p,i)).lanes=l,r}function createFiberFromText(r,i,l){return(r=createFiberImplClass(6,r,null,i)).lanes=l,r}function createFiberFromDehydratedFragment(r){var i=createFiberImplClass(18,null,null,0);return i.stateNode=r,i}function createFiberFromPortal(r,i,l){return(i=createFiberImplClass(4,null!==r.children?r.children:[],r.key,i)).lanes=l,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}var sr=new WeakMap;function createCapturedValueAtFiber(r,i){if("object"==typeof r&&null!==r){var l=sr.get(r);return void 0!==l?l:(i={value:r,source:i,stack:getStackByFiberInDevAndProd(i)},sr.set(r,i),i)}return{value:r,source:i,stack:getStackByFiberInDevAndProd(i)}}var ar=[],or=0,lr=null,ur=0,cr=[],dr=0,hr=null,fr=1,pr="";function pushTreeFork(r,i){ar[or++]=ur,ar[or++]=lr,lr=r,ur=i}function pushTreeId(r,i,l){cr[dr++]=fr,cr[dr++]=pr,cr[dr++]=hr,hr=r;var p=fr;r=pr;var m=32-ve(p)-1;p&=~(1<<m),l+=1;var y=32-ve(i)+m;if(30<y){var v=m-m%5;y=(p&(1<<v)-1).toString(32),p>>=v,m-=v,fr=1<<32-ve(i)+m|l<<m|p,pr=y+r}else fr=1<<y|l<<m|p,pr=r}function pushMaterializedTreeId(r){null!==r.return&&(pushTreeFork(r,1),pushTreeId(r,1,0))}function popTreeContext(r){for(;r===lr;)lr=ar[--or],ar[or]=null,ur=ar[--or],ar[or]=null;for(;r===hr;)hr=cr[--dr],cr[dr]=null,pr=cr[--dr],cr[dr]=null,fr=cr[--dr],cr[dr]=null}function restoreSuspendedTreeContext(r,i){cr[dr++]=fr,cr[dr++]=pr,cr[dr++]=hr,fr=i.id,pr=i.overflow,hr=r}var mr=null,gr=null,yr=!1,vr=null,br=!1,_r=Error(formatProdErrorMessage(519));function throwOnHydrationMismatch(r){throw queueHydrationError(createCapturedValueAtFiber(Error(formatProdErrorMessage(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),r)),_r}function prepareToHydrateHostInstance(r){var i=r.stateNode,l=r.type,p=r.memoizedProps;switch(i[Ce]=r,i[Pe]=p,l){case"dialog":listenToNonDelegatedEvent("cancel",i),listenToNonDelegatedEvent("close",i);break;case"iframe":case"object":case"embed":listenToNonDelegatedEvent("load",i);break;case"video":case"audio":for(l=0;l<mi.length;l++)listenToNonDelegatedEvent(mi[l],i);break;case"source":listenToNonDelegatedEvent("error",i);break;case"img":case"image":case"link":listenToNonDelegatedEvent("error",i),listenToNonDelegatedEvent("load",i);break;case"details":listenToNonDelegatedEvent("toggle",i);break;case"input":listenToNonDelegatedEvent("invalid",i),initInput(i,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":listenToNonDelegatedEvent("invalid",i);break;case"textarea":listenToNonDelegatedEvent("invalid",i),initTextarea(i,p.value,p.defaultValue,p.children)}"string"!=typeof(l=p.children)&&"number"!=typeof l&&"bigint"!=typeof l||i.textContent===""+l||!0===p.suppressHydrationWarning||checkForUnmatchedText(i.textContent,l)?(null!=p.popover&&(listenToNonDelegatedEvent("beforetoggle",i),listenToNonDelegatedEvent("toggle",i)),null!=p.onScroll&&listenToNonDelegatedEvent("scroll",i),null!=p.onScrollEnd&&listenToNonDelegatedEvent("scrollend",i),null!=p.onClick&&(i.onclick=noop$1),i=!0):i=!1,i||throwOnHydrationMismatch(r,!0)}function popToNextHostParent(r){for(mr=r.return;mr;)switch(mr.tag){case 5:case 31:case 13:return void(br=!1);case 27:case 3:return void(br=!0);default:mr=mr.return}}function popHydrationState(r){if(r!==mr)return!1;if(!yr)return popToNextHostParent(r),yr=!0,!1;var i,l=r.tag;if((i=3!==l&&27!==l)&&((i=5===l)&&(i=!("form"!==(i=r.type)&&"button"!==i)||shouldSetTextContent(r.type,r.memoizedProps)),i=!i),i&&gr&&throwOnHydrationMismatch(r),popToNextHostParent(r),13===l){if(!(r=null!==(r=r.memoizedState)?r.dehydrated:null))throw Error(formatProdErrorMessage(317));gr=getNextHydratableInstanceAfterHydrationBoundary(r)}else if(31===l){if(!(r=null!==(r=r.memoizedState)?r.dehydrated:null))throw Error(formatProdErrorMessage(317));gr=getNextHydratableInstanceAfterHydrationBoundary(r)}else 27===l?(l=gr,isSingletonScope(r.type)?(r=Ei,Ei=null,gr=r):gr=l):gr=mr?getNextHydratable(r.stateNode.nextSibling):null;return!0}function resetHydrationState(){gr=mr=null,yr=!1}function upgradeHydrationErrorsToRecoverable(){var r=vr;return null!==r&&(null===jn?jn=r:jn.push.apply(jn,r),vr=null),r}function queueHydrationError(r){null===vr?vr=[r]:vr.push(r)}var xr=createCursor(null),Sr=null,wr=null;function pushProvider(r,i,l){push(xr,i._currentValue),i._currentValue=l}function popProvider(r){r._currentValue=xr.current,pop2(xr)}function scheduleContextWorkOnParentPath(r,i,l){for(;null!==r;){var p=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,null!==p&&(p.childLanes|=i)):null!==p&&(p.childLanes&i)!==i&&(p.childLanes|=i),r===l)break;r=r.return}}function propagateContextChanges(r,i,l,p){var m=r.child;for(null!==m&&(m.return=r);null!==m;){var y=m.dependencies;if(null!==y){var v=m.child;y=y.firstContext;e:for(;null!==y;){var _=y;y=m;for(var x=0;x<i.length;x++)if(_.context===i[x]){y.lanes|=l,null!==(_=y.alternate)&&(_.lanes|=l),scheduleContextWorkOnParentPath(y.return,l,r),p||(v=null);break e}y=_.next}}else if(18===m.tag){if(null===(v=m.return))throw Error(formatProdErrorMessage(341));v.lanes|=l,null!==(y=v.alternate)&&(y.lanes|=l),scheduleContextWorkOnParentPath(v,l,r),v=null}else v=m.child;if(null!==v)v.return=m;else for(v=m;null!==v;){if(v===r){v=null;break}if(null!==(m=v.sibling)){m.return=v.return,v=m;break}v=v.return}m=v}}function propagateParentContextChanges(r,i,l,p){r=null;for(var m=i,y=!1;null!==m;){if(!y)if(524288&m.flags)y=!0;else if(262144&m.flags)break;if(10===m.tag){var v=m.alternate;if(null===v)throw Error(formatProdErrorMessage(387));if(null!==(v=v.memoizedProps)){var _=m.type;Dt(m.pendingProps.value,v.value)||(null!==r?r.push(_):r=[_])}}else if(m===ee.current){if(null===(v=m.alternate))throw Error(formatProdErrorMessage(387));v.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(null!==r?r.push(Li):r=[Li])}m=m.return}null!==r&&propagateContextChanges(i,r,l,p),i.flags|=262144}function checkIfContextChanged(r){for(r=r.firstContext;null!==r;){if(!Dt(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function prepareToReadContext(r){Sr=r,wr=null,null!==(r=r.dependencies)&&(r.firstContext=null)}function readContext(r){return readContextForConsumer(Sr,r)}function readContextDuringReconciliation(r,i){return null===Sr&&prepareToReadContext(r),readContextForConsumer(r,i)}function readContextForConsumer(r,i){var l=i._currentValue;if(i={context:i,memoizedValue:l,next:null},null===wr){if(null===r)throw Error(formatProdErrorMessage(308));wr=i,r.dependencies={lanes:0,firstContext:i},r.flags|=524288}else wr=wr.next=i;return l}var kr="undefined"!=typeof AbortController?AbortController:function(){var r=[],i=this.signal={aborted:!1,addEventListener:function(i,l){r.push(l)}};this.abort=function(){i.aborted=!0,r.forEach(function(r){return r()})}},Cr=r.unstable_scheduleCallback,Pr=r.unstable_NormalPriority,Er={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function createCache(){return{controller:new kr,data:new Map,refCount:0}}function releaseCache(r){r.refCount--,0===r.refCount&&Cr(Pr,function(){r.controller.abort()})}var Tr=null,Ar=0,Mr=0,Ir=null;function pingEngtangledActionScope(){if(0===--Ar&&null!==Tr){null!==Ir&&(Ir.status="fulfilled");var r=Tr;Tr=null,Mr=0,Ir=null;for(var i=0;i<r.length;i++)(0,r[i])()}}var Rr=V.S;V.S=function(r,i){Yn=oe(),"object"==typeof i&&null!==i&&"function"==typeof i.then&&function entangleAsyncAction(r,i){if(null===Tr){var l=Tr=[];Ar=0,Mr=requestTransitionLane(),Ir={status:"pending",value:void 0,then:function(r){l.push(r)}}}return Ar++,i.then(pingEngtangledActionScope,pingEngtangledActionScope),i}(0,i),null!==Rr&&Rr(r,i)};var Fr=createCursor(null);function peekCacheFromPool(){var r=Fr.current;return null!==r?r:An.pooledCache}function pushTransition(r,i){push(Fr,null===i?Fr.current:i.pool)}function getSuspendedCache(){var r=peekCacheFromPool();return null===r?null:{parent:Er._currentValue,pool:r}}var Or=Error(formatProdErrorMessage(460)),Lr=Error(formatProdErrorMessage(474)),Dr=Error(formatProdErrorMessage(542)),Nr={then:function(){}};function isThenableResolved(r){return"fulfilled"===(r=r.status)||"rejected"===r}function trackUsedThenable(r,i,l){switch(void 0===(l=r[l])?r.push(i):l!==i&&(i.then(noop$1,noop$1),i=l),i.status){case"fulfilled":return i.value;case"rejected":throw checkIfUseWrappedInAsyncCatch(r=i.reason),r;default:if("string"==typeof i.status)i.then(noop$1,noop$1);else{if(null!==(r=An)&&100<r.shellSuspendCounter)throw Error(formatProdErrorMessage(482));(r=i).status="pending",r.then(function(r){if("pending"===i.status){var l=i;l.status="fulfilled",l.value=r}},function(r){if("pending"===i.status){var l=i;l.status="rejected",l.reason=r}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw checkIfUseWrappedInAsyncCatch(r=i.reason),r}throw Hr=i,Or}}function resolveLazy(r){try{return(0,r._init)(r._payload)}catch(i){if(null!==i&&"object"==typeof i&&"function"==typeof i.then)throw Hr=i,Or;throw i}}var Hr=null;function getSuspendedThenable(){if(null===Hr)throw Error(formatProdErrorMessage(459));var r=Hr;return Hr=null,r}function checkIfUseWrappedInAsyncCatch(r){if(r===Or||r===Dr)throw Error(formatProdErrorMessage(483))}var zr=null,Br=0;function unwrapThenable(r){var i=Br;return Br+=1,null===zr&&(zr=[]),trackUsedThenable(zr,r,i)}function coerceRef(r,i){i=i.props.ref,r.ref=void 0!==i?i:null}function throwOnInvalidObjectTypeImpl(r,i){if(i.$$typeof===m)throw Error(formatProdErrorMessage(525));throw r=Object.prototype.toString.call(i),Error(formatProdErrorMessage(31,"[object Object]"===r?"object with keys {"+Object.keys(i).join(", ")+"}":r))}function createChildReconciler(r){function deleteChild(i,l){if(r){var p=i.deletions;null===p?(i.deletions=[l],i.flags|=16):p.push(l)}}function deleteRemainingChildren(i,l){if(!r)return null;for(;null!==l;)deleteChild(i,l),l=l.sibling;return null}function mapRemainingChildren(r){for(var i=new Map;null!==r;)null!==r.key?i.set(r.key,r):i.set(r.index,r),r=r.sibling;return i}function useFiber(r,i){return(r=createWorkInProgress(r,i)).index=0,r.sibling=null,r}function placeChild(i,l,p){return i.index=p,r?null!==(p=i.alternate)?(p=p.index)<l?(i.flags|=67108866,l):p:(i.flags|=67108866,l):(i.flags|=1048576,l)}function placeSingleChild(i){return r&&null===i.alternate&&(i.flags|=67108866),i}function updateTextNode(r,i,l,p){return null===i||6!==i.tag?((i=createFiberFromText(l,r.mode,p)).return=r,i):((i=useFiber(i,l)).return=r,i)}function updateElement(r,i,l,p){var m=l.type;return m===_?updateFragment(r,i,l.props.children,p,l.key):null!==i&&(i.elementType===m||"object"==typeof m&&null!==m&&m.$$typeof===R&&resolveLazy(m)===i.type)?(coerceRef(i=useFiber(i,l.props),l),i.return=r,i):(coerceRef(i=createFiberFromTypeAndProps(l.type,l.key,l.props,null,r.mode,p),l),i.return=r,i)}function updatePortal(r,i,l,p){return null===i||4!==i.tag||i.stateNode.containerInfo!==l.containerInfo||i.stateNode.implementation!==l.implementation?((i=createFiberFromPortal(l,r.mode,p)).return=r,i):((i=useFiber(i,l.children||[])).return=r,i)}function updateFragment(r,i,l,p,m){return null===i||7!==i.tag?((i=createFiberFromFragment(l,r.mode,p,m)).return=r,i):((i=useFiber(i,l)).return=r,i)}function createChild(r,i,l){if("string"==typeof i&&""!==i||"number"==typeof i||"bigint"==typeof i)return(i=createFiberFromText(""+i,r.mode,l)).return=r,i;if("object"==typeof i&&null!==i){switch(i.$$typeof){case y:return coerceRef(l=createFiberFromTypeAndProps(i.type,i.key,i.props,null,r.mode,l),i),l.return=r,l;case v:return(i=createFiberFromPortal(i,r.mode,l)).return=r,i;case R:return createChild(r,i=resolveLazy(i),l)}if(G(i)||getIteratorFn(i))return(i=createFiberFromFragment(i,r.mode,l,null)).return=r,i;if("function"==typeof i.then)return createChild(r,unwrapThenable(i),l);if(i.$$typeof===C)return createChild(r,readContextDuringReconciliation(r,i),l);throwOnInvalidObjectTypeImpl(r,i)}return null}function updateSlot(r,i,l,p){var m=null!==i?i.key:null;if("string"==typeof l&&""!==l||"number"==typeof l||"bigint"==typeof l)return null!==m?null:updateTextNode(r,i,""+l,p);if("object"==typeof l&&null!==l){switch(l.$$typeof){case y:return l.key===m?updateElement(r,i,l,p):null;case v:return l.key===m?updatePortal(r,i,l,p):null;case R:return updateSlot(r,i,l=resolveLazy(l),p)}if(G(l)||getIteratorFn(l))return null!==m?null:updateFragment(r,i,l,p,null);if("function"==typeof l.then)return updateSlot(r,i,unwrapThenable(l),p);if(l.$$typeof===C)return updateSlot(r,i,readContextDuringReconciliation(r,l),p);throwOnInvalidObjectTypeImpl(r,l)}return null}function updateFromMap(r,i,l,p,m){if("string"==typeof p&&""!==p||"number"==typeof p||"bigint"==typeof p)return updateTextNode(i,r=r.get(l)||null,""+p,m);if("object"==typeof p&&null!==p){switch(p.$$typeof){case y:return updateElement(i,r=r.get(null===p.key?l:p.key)||null,p,m);case v:return updatePortal(i,r=r.get(null===p.key?l:p.key)||null,p,m);case R:return updateFromMap(r,i,l,p=resolveLazy(p),m)}if(G(p)||getIteratorFn(p))return updateFragment(i,r=r.get(l)||null,p,m,null);if("function"==typeof p.then)return updateFromMap(r,i,l,unwrapThenable(p),m);if(p.$$typeof===C)return updateFromMap(r,i,l,readContextDuringReconciliation(i,p),m);throwOnInvalidObjectTypeImpl(i,p)}return null}function reconcileChildFibersImpl(i,l,p,m){if("object"==typeof p&&null!==p&&p.type===_&&null===p.key&&(p=p.props.children),"object"==typeof p&&null!==p){switch(p.$$typeof){case y:e:{for(var x=p.key;null!==l;){if(l.key===x){if((x=p.type)===_){if(7===l.tag){deleteRemainingChildren(i,l.sibling),(m=useFiber(l,p.props.children)).return=i,i=m;break e}}else if(l.elementType===x||"object"==typeof x&&null!==x&&x.$$typeof===R&&resolveLazy(x)===l.type){deleteRemainingChildren(i,l.sibling),coerceRef(m=useFiber(l,p.props),p),m.return=i,i=m;break e}deleteRemainingChildren(i,l);break}deleteChild(i,l),l=l.sibling}p.type===_?((m=createFiberFromFragment(p.props.children,i.mode,m,p.key)).return=i,i=m):(coerceRef(m=createFiberFromTypeAndProps(p.type,p.key,p.props,null,i.mode,m),p),m.return=i,i=m)}return placeSingleChild(i);case v:e:{for(x=p.key;null!==l;){if(l.key===x){if(4===l.tag&&l.stateNode.containerInfo===p.containerInfo&&l.stateNode.implementation===p.implementation){deleteRemainingChildren(i,l.sibling),(m=useFiber(l,p.children||[])).return=i,i=m;break e}deleteRemainingChildren(i,l);break}deleteChild(i,l),l=l.sibling}(m=createFiberFromPortal(p,i.mode,m)).return=i,i=m}return placeSingleChild(i);case R:return reconcileChildFibersImpl(i,l,p=resolveLazy(p),m)}if(G(p))return function reconcileChildrenArray(i,l,p,m){for(var y=null,v=null,_=l,x=l=0,S=null;null!==_&&x<p.length;x++){_.index>x?(S=_,_=null):S=_.sibling;var k=updateSlot(i,_,p[x],m);if(null===k){null===_&&(_=S);break}r&&_&&null===k.alternate&&deleteChild(i,_),l=placeChild(k,l,x),null===v?y=k:v.sibling=k,v=k,_=S}if(x===p.length)return deleteRemainingChildren(i,_),yr&&pushTreeFork(i,x),y;if(null===_){for(;x<p.length;x++)null!==(_=createChild(i,p[x],m))&&(l=placeChild(_,l,x),null===v?y=_:v.sibling=_,v=_);return yr&&pushTreeFork(i,x),y}for(_=mapRemainingChildren(_);x<p.length;x++)null!==(S=updateFromMap(_,i,x,p[x],m))&&(r&&null!==S.alternate&&_.delete(null===S.key?x:S.key),l=placeChild(S,l,x),null===v?y=S:v.sibling=S,v=S);return r&&_.forEach(function(r){return deleteChild(i,r)}),yr&&pushTreeFork(i,x),y}(i,l,p,m);if(getIteratorFn(p)){if("function"!=typeof(x=getIteratorFn(p)))throw Error(formatProdErrorMessage(150));return function reconcileChildrenIterator(i,l,p,m){if(null==p)throw Error(formatProdErrorMessage(151));for(var y=null,v=null,_=l,x=l=0,S=null,k=p.next();null!==_&&!k.done;x++,k=p.next()){_.index>x?(S=_,_=null):S=_.sibling;var C=updateSlot(i,_,k.value,m);if(null===C){null===_&&(_=S);break}r&&_&&null===C.alternate&&deleteChild(i,_),l=placeChild(C,l,x),null===v?y=C:v.sibling=C,v=C,_=S}if(k.done)return deleteRemainingChildren(i,_),yr&&pushTreeFork(i,x),y;if(null===_){for(;!k.done;x++,k=p.next())null!==(k=createChild(i,k.value,m))&&(l=placeChild(k,l,x),null===v?y=k:v.sibling=k,v=k);return yr&&pushTreeFork(i,x),y}for(_=mapRemainingChildren(_);!k.done;x++,k=p.next())null!==(k=updateFromMap(_,i,x,k.value,m))&&(r&&null!==k.alternate&&_.delete(null===k.key?x:k.key),l=placeChild(k,l,x),null===v?y=k:v.sibling=k,v=k);return r&&_.forEach(function(r){return deleteChild(i,r)}),yr&&pushTreeFork(i,x),y}(i,l,p=x.call(p),m)}if("function"==typeof p.then)return reconcileChildFibersImpl(i,l,unwrapThenable(p),m);if(p.$$typeof===C)return reconcileChildFibersImpl(i,l,readContextDuringReconciliation(i,p),m);throwOnInvalidObjectTypeImpl(i,p)}return"string"==typeof p&&""!==p||"number"==typeof p||"bigint"==typeof p?(p=""+p,null!==l&&6===l.tag?(deleteRemainingChildren(i,l.sibling),(m=useFiber(l,p)).return=i,i=m):(deleteRemainingChildren(i,l),(m=createFiberFromText(p,i.mode,m)).return=i,i=m),placeSingleChild(i)):deleteRemainingChildren(i,l)}return function(r,i,l,p){try{Br=0;var m=reconcileChildFibersImpl(r,i,l,p);return zr=null,m}catch(v){if(v===Or||v===Dr)throw v;var y=createFiberImplClass(29,v,null,r.mode);return y.lanes=p,y.return=r,y}}}var Ur=createChildReconciler(!0),Gr=createChildReconciler(!1),Vr=!1;function initializeUpdateQueue(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cloneUpdateQueue(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function createUpdate(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function enqueueUpdate(r,i,l){var p=r.updateQueue;if(null===p)return null;if(p=p.shared,2&Tn){var m=p.pending;return null===m?i.next=i:(i.next=m.next,m.next=i),p.pending=i,i=getRootForUpdatedFiber(r),markUpdateLaneFromFiberToRoot(r,null,l),i}return enqueueUpdate$1(r,p,i,l),getRootForUpdatedFiber(r)}function entangleTransitions(r,i,l){if(null!==(i=i.updateQueue)&&(i=i.shared,4194048&l)){var p=i.lanes;l|=p&=r.pendingLanes,i.lanes=l,markRootEntangled(r,l)}}function enqueueCapturedUpdate(r,i){var l=r.updateQueue,p=r.alternate;if(null!==p&&l===(p=p.updateQueue)){var m=null,y=null;if(null!==(l=l.firstBaseUpdate)){do{var v={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};null===y?m=y=v:y=y.next=v,l=l.next}while(null!==l);null===y?m=y=i:y=y.next=i}else m=y=i;return l={baseState:p.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:p.shared,callbacks:p.callbacks},void(r.updateQueue=l)}null===(r=l.lastBaseUpdate)?l.firstBaseUpdate=i:r.next=i,l.lastBaseUpdate=i}var Wr=!1;function suspendIfUpdateReadFromEntangledAsyncAction(){if(Wr){if(null!==Ir)throw Ir}}function processUpdateQueue(r,i,l,m){Wr=!1;var y=r.updateQueue;Vr=!1;var v=y.firstBaseUpdate,_=y.lastBaseUpdate,x=y.shared.pending;if(null!==x){y.shared.pending=null;var S=x,k=S.next;S.next=null,null===_?v=k:_.next=k,_=S;var C=r.alternate;null!==C&&((x=(C=C.updateQueue).lastBaseUpdate)!==_&&(null===x?C.firstBaseUpdate=k:x.next=k,C.lastBaseUpdate=S))}if(null!==v){var P=y.baseState;for(_=0,C=k=S=null,x=v;;){var E=-536870913&x.lane,T=E!==x.lane;if(T?(In&E)===E:(m&E)===E){0!==E&&E===Mr&&(Wr=!0),null!==C&&(C=C.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var A=r,I=x;E=i;var R=l;switch(I.tag){case 1:if("function"==typeof(A=I.payload)){P=A.call(R,P,E);break e}P=A;break e;case 3:A.flags=-65537&A.flags|128;case 0:if(null==(E="function"==typeof(A=I.payload)?A.call(R,P,E):A))break e;P=p({},P,E);break e;case 2:Vr=!0}}null!==(E=x.callback)&&(r.flags|=64,T&&(r.flags|=8192),null===(T=y.callbacks)?y.callbacks=[E]:T.push(E))}else T={lane:E,tag:x.tag,payload:x.payload,callback:x.callback,next:null},null===C?(k=C=T,S=P):C=C.next=T,_|=E;if(null===(x=x.next)){if(null===(x=y.shared.pending))break;x=(T=x).next,T.next=null,y.lastBaseUpdate=T,y.shared.pending=null}}null===C&&(S=P),y.baseState=S,y.firstBaseUpdate=k,y.lastBaseUpdate=C,null===v&&(y.shared.lanes=0),zn|=_,r.lanes=_,r.memoizedState=P}}function callCallback(r,i){if("function"!=typeof r)throw Error(formatProdErrorMessage(191,r));r.call(i)}function commitCallbacks(r,i){var l=r.callbacks;if(null!==l)for(r.callbacks=null,r=0;r<l.length;r++)callCallback(l[r],i)}var jr=createCursor(null),$r=createCursor(0);function pushHiddenContext(r,i){push($r,r=Nn),push(jr,i),Nn=r|i.baseLanes}function reuseHiddenContextOnStack(){push($r,Nn),push(jr,jr.current)}function popHiddenContext(){Nn=$r.current,pop2(jr),pop2($r)}var qr=createCursor(null),Yr=null;function pushPrimaryTreeSuspenseHandler(r){var i=r.alternate;push(Xr,1&Xr.current),push(qr,r),null===Yr&&(null===i||null!==jr.current||null!==i.memoizedState)&&(Yr=r)}function pushDehydratedActivitySuspenseHandler(r){push(Xr,Xr.current),push(qr,r),null===Yr&&(Yr=r)}function pushOffscreenSuspenseHandler(r){22===r.tag?(push(Xr,Xr.current),push(qr,r),null===Yr&&(Yr=r)):reuseSuspenseHandlerOnStack()}function reuseSuspenseHandlerOnStack(){push(Xr,Xr.current),push(qr,qr.current)}function popSuspenseHandler(r){pop2(qr),Yr===r&&(Yr=null),pop2(Xr)}var Xr=createCursor(0);function findFirstSuspended(r){for(var i=r;null!==i;){if(13===i.tag){var l=i.memoizedState;if(null!==l&&(null===(l=l.dehydrated)||isSuspenseInstancePending(l)||isSuspenseInstanceFallback(l)))return i}else if(19!==i.tag||"forwards"!==i.memoizedProps.revealOrder&&"backwards"!==i.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==i.memoizedProps.revealOrder&&"together"!==i.memoizedProps.revealOrder){if(null!==i.child){i.child.return=i,i=i.child;continue}}else if(128&i.flags)return i;if(i===r)break;for(;null===i.sibling;){if(null===i.return||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Qr=0,Kr=null,Zr=null,Jr=null,en=!1,tn=!1,rn=!1,nn=0,sn=0,an=null,ln=0;function throwInvalidHookError(){throw Error(formatProdErrorMessage(321))}function areHookInputsEqual(r,i){if(null===i)return!1;for(var l=0;l<i.length&&l<r.length;l++)if(!Dt(r[l],i[l]))return!1;return!0}function renderWithHooks(r,i,l,p,m,y){return Qr=y,Kr=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,V.H=null===r||null===r.memoizedState?cn:dn,rn=!1,y=l(p,m),rn=!1,tn&&(y=renderWithHooksAgain(i,l,p,m)),finishRenderingHooks(r),y}function finishRenderingHooks(r){V.H=un;var i=null!==Zr&&null!==Zr.next;if(Qr=0,Jr=Zr=Kr=null,en=!1,sn=0,an=null,i)throw Error(formatProdErrorMessage(300));null===r||mn||null!==(r=r.dependencies)&&checkIfContextChanged(r)&&(mn=!0)}function renderWithHooksAgain(r,i,l,p){Kr=r;var m=0;do{if(tn&&(an=null),sn=0,tn=!1,25<=m)throw Error(formatProdErrorMessage(301));if(m+=1,Jr=Zr=null,null!=r.updateQueue){var y=r.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,null!=y.memoCache&&(y.memoCache.index=0)}V.H=hn,y=i(l,p)}while(tn);return y}function TransitionAwareHostComponent(){var r=V.H,i=r.useState()[0];return i="function"==typeof i.then?useThenable(i):i,r=r.useState()[0],(null!==Zr?Zr.memoizedState:null)!==r&&(Kr.flags|=1024),i}function checkDidRenderIdHook(){var r=0!==nn;return nn=0,r}function bailoutHooks(r,i,l){i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~l}function resetHooksOnUnwind(r){if(en){for(r=r.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}en=!1}Qr=0,Jr=Zr=Kr=null,tn=!1,sn=nn=0,an=null}function mountWorkInProgressHook(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Jr?Kr.memoizedState=Jr=r:Jr=Jr.next=r,Jr}function updateWorkInProgressHook(){if(null===Zr){var r=Kr.alternate;r=null!==r?r.memoizedState:null}else r=Zr.next;var i=null===Jr?Kr.memoizedState:Jr.next;if(null!==i)Jr=i,Zr=r;else{if(null===r){if(null===Kr.alternate)throw Error(formatProdErrorMessage(467));throw Error(formatProdErrorMessage(310))}r={memoizedState:(Zr=r).memoizedState,baseState:Zr.baseState,baseQueue:Zr.baseQueue,queue:Zr.queue,next:null},null===Jr?Kr.memoizedState=Jr=r:Jr=Jr.next=r}return Jr}function useThenable(r){var i=sn;return sn+=1,null===an&&(an=[]),r=trackUsedThenable(an,r,i),i=Kr,null===(null===Jr?i.memoizedState:Jr.next)&&(i=i.alternate,V.H=null===i||null===i.memoizedState?cn:dn),r}function use(r){if(null!==r&&"object"==typeof r){if("function"==typeof r.then)return useThenable(r);if(r.$$typeof===C)return readContext(r)}throw Error(formatProdErrorMessage(438,String(r)))}function useMemoCache(r){var i=null,l=Kr.updateQueue;if(null!==l&&(i=l.memoCache),null==i){var p=Kr.alternate;null!==p&&(null!==(p=p.updateQueue)&&(null!=(p=p.memoCache)&&(i={data:p.data.map(function(r){return r.slice()}),index:0})))}if(null==i&&(i={data:[],index:0}),null===l&&(l={lastEffect:null,events:null,stores:null,memoCache:null},Kr.updateQueue=l),l.memoCache=i,void 0===(l=i.data[i.index]))for(l=i.data[i.index]=Array(r),p=0;p<r;p++)l[p]=D;return i.index++,l}function basicStateReducer(r,i){return"function"==typeof i?i(r):i}function updateReducer(r){return updateReducerImpl(updateWorkInProgressHook(),Zr,r)}function updateReducerImpl(r,i,l){var p=r.queue;if(null===p)throw Error(formatProdErrorMessage(311));p.lastRenderedReducer=l;var m=r.baseQueue,y=p.pending;if(null!==y){if(null!==m){var v=m.next;m.next=y.next,y.next=v}i.baseQueue=m=y,p.pending=null}if(y=r.baseState,null===m)r.memoizedState=y;else{var _=v=null,x=null,S=i=m.next,k=!1;do{var C=-536870913&S.lane;if(C!==S.lane?(In&C)===C:(Qr&C)===C){var P=S.revertLane;if(0===P)null!==x&&(x=x.next={lane:0,revertLane:0,gesture:null,action:S.action,hasEagerState:S.hasEagerState,eagerState:S.eagerState,next:null}),C===Mr&&(k=!0);else{if((Qr&P)===P){S=S.next,P===Mr&&(k=!0);continue}C={lane:0,revertLane:S.revertLane,gesture:null,action:S.action,hasEagerState:S.hasEagerState,eagerState:S.eagerState,next:null},null===x?(_=x=C,v=y):x=x.next=C,Kr.lanes|=P,zn|=P}C=S.action,rn&&l(y,C),y=S.hasEagerState?S.eagerState:l(y,C)}else P={lane:C,revertLane:S.revertLane,gesture:S.gesture,action:S.action,hasEagerState:S.hasEagerState,eagerState:S.eagerState,next:null},null===x?(_=x=P,v=y):x=x.next=P,Kr.lanes|=C,zn|=C;S=S.next}while(null!==S&&S!==i);if(null===x?v=y:x.next=_,!Dt(y,r.memoizedState)&&(mn=!0,k&&null!==(l=Ir)))throw l;r.memoizedState=y,r.baseState=v,r.baseQueue=x,p.lastRenderedState=y}return null===m&&(p.lanes=0),[r.memoizedState,p.dispatch]}function rerenderReducer(r){var i=updateWorkInProgressHook(),l=i.queue;if(null===l)throw Error(formatProdErrorMessage(311));l.lastRenderedReducer=r;var p=l.dispatch,m=l.pending,y=i.memoizedState;if(null!==m){l.pending=null;var v=m=m.next;do{y=r(y,v.action),v=v.next}while(v!==m);Dt(y,i.memoizedState)||(mn=!0),i.memoizedState=y,null===i.baseQueue&&(i.baseState=y),l.lastRenderedState=y}return[y,p]}function updateSyncExternalStore(r,i,l){var p=Kr,m=updateWorkInProgressHook(),y=yr;if(y){if(void 0===l)throw Error(formatProdErrorMessage(407));l=l()}else l=i();var v=!Dt((Zr||m).memoizedState,l);if(v&&(m.memoizedState=l,mn=!0),m=m.queue,updateEffect(subscribeToStore.bind(null,p,m,r),[r]),m.getSnapshot!==i||v||null!==Jr&&1&Jr.memoizedState.tag){if(p.flags|=2048,pushSimpleEffect(9,{destroy:void 0},updateStoreInstance.bind(null,p,m,l,i),null),null===An)throw Error(formatProdErrorMessage(349));y||127&Qr||pushStoreConsistencyCheck(p,i,l)}return l}function pushStoreConsistencyCheck(r,i,l){r.flags|=16384,r={getSnapshot:i,value:l},null===(i=Kr.updateQueue)?(i={lastEffect:null,events:null,stores:null,memoCache:null},Kr.updateQueue=i,i.stores=[r]):null===(l=i.stores)?i.stores=[r]:l.push(r)}function updateStoreInstance(r,i,l,p){i.value=l,i.getSnapshot=p,checkIfSnapshotChanged(i)&&forceStoreRerender(r)}function subscribeToStore(r,i,l){return l(function(){checkIfSnapshotChanged(i)&&forceStoreRerender(r)})}function checkIfSnapshotChanged(r){var i=r.getSnapshot;r=r.value;try{var l=i();return!Dt(r,l)}catch(p){return!0}}function forceStoreRerender(r){var i=enqueueConcurrentRenderForLane(r,2);null!==i&&scheduleUpdateOnFiber(i,r,2)}function mountStateImpl(r){var i=mountWorkInProgressHook();if("function"==typeof r){var l=r;if(r=l(),rn){setIsStrictModeForDevtools(!0);try{l()}finally{setIsStrictModeForDevtools(!1)}}}return i.memoizedState=i.baseState=r,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:basicStateReducer,lastRenderedState:r},i}function updateOptimisticImpl(r,i,l,p){return r.baseState=l,updateReducerImpl(r,Zr,"function"==typeof p?p:basicStateReducer)}function dispatchActionState(r,i,l,p,m){if(isRenderPhaseUpdate(r))throw Error(formatProdErrorMessage(485));if(null!==(r=i.action)){var y={payload:m,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(r){y.listeners.push(r)}};null!==V.T?l(!0):y.isTransition=!1,p(y),null===(l=i.pending)?(y.next=i.pending=y,runActionStateAction(i,y)):(y.next=l.next,i.pending=l.next=y)}}function runActionStateAction(r,i){var l=i.action,p=i.payload,m=r.state;if(i.isTransition){var y=V.T,v={};V.T=v;try{var _=l(m,p),x=V.S;null!==x&&x(v,_),handleActionReturnValue(r,i,_)}catch(S){onActionError(r,i,S)}finally{null!==y&&null!==v.types&&(y.types=v.types),V.T=y}}else try{handleActionReturnValue(r,i,y=l(m,p))}catch(k){onActionError(r,i,k)}}function handleActionReturnValue(r,i,l){null!==l&&"object"==typeof l&&"function"==typeof l.then?l.then(function(l){onActionSuccess(r,i,l)},function(l){return onActionError(r,i,l)}):onActionSuccess(r,i,l)}function onActionSuccess(r,i,l){i.status="fulfilled",i.value=l,notifyActionListeners(i),r.state=l,null!==(i=r.pending)&&((l=i.next)===i?r.pending=null:(l=l.next,i.next=l,runActionStateAction(r,l)))}function onActionError(r,i,l){var p=r.pending;if(r.pending=null,null!==p){p=p.next;do{i.status="rejected",i.reason=l,notifyActionListeners(i),i=i.next}while(i!==p)}r.action=null}function notifyActionListeners(r){r=r.listeners;for(var i=0;i<r.length;i++)(0,r[i])()}function actionStateReducer(r,i){return i}function mountActionState(r,i){if(yr){var l=An.formState;if(null!==l){e:{var p=Kr;if(yr){if(gr){t:{for(var m=gr,y=br;8!==m.nodeType;){if(!y){m=null;break t}if(null===(m=getNextHydratable(m.nextSibling))){m=null;break t}}m="F!"===(y=m.data)||"F"===y?m:null}if(m){gr=getNextHydratable(m.nextSibling),p="F!"===m.data;break e}}throwOnHydrationMismatch(p)}p=!1}p&&(i=l[0])}}return(l=mountWorkInProgressHook()).memoizedState=l.baseState=i,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:actionStateReducer,lastRenderedState:i},l.queue=p,l=dispatchSetState.bind(null,Kr,p),p.dispatch=l,p=mountStateImpl(!1),y=dispatchOptimisticSetState.bind(null,Kr,!1,p.queue),m={state:i,dispatch:null,action:r,pending:null},(p=mountWorkInProgressHook()).queue=m,l=dispatchActionState.bind(null,Kr,m,y,l),m.dispatch=l,p.memoizedState=r,[i,l,!1]}function updateActionState(r){return updateActionStateImpl(updateWorkInProgressHook(),Zr,r)}function updateActionStateImpl(r,i,l){if(i=updateReducerImpl(r,i,actionStateReducer)[0],r=updateReducer(basicStateReducer)[0],"object"==typeof i&&null!==i&&"function"==typeof i.then)try{var p=useThenable(i)}catch(v){if(v===Or)throw Dr;throw v}else p=i;var m=(i=updateWorkInProgressHook()).queue,y=m.dispatch;return l!==i.memoizedState&&(Kr.flags|=2048,pushSimpleEffect(9,{destroy:void 0},actionStateActionEffect.bind(null,m,l),null)),[p,y,r]}function actionStateActionEffect(r,i){r.action=i}function rerenderActionState(r){var i=updateWorkInProgressHook(),l=Zr;if(null!==l)return updateActionStateImpl(i,l,r);updateWorkInProgressHook(),i=i.memoizedState;var p=(l=updateWorkInProgressHook()).queue.dispatch;return l.memoizedState=r,[i,p,!1]}function pushSimpleEffect(r,i,l,p){return r={tag:r,create:l,deps:p,inst:i,next:null},null===(i=Kr.updateQueue)&&(i={lastEffect:null,events:null,stores:null,memoCache:null},Kr.updateQueue=i),null===(l=i.lastEffect)?i.lastEffect=r.next=r:(p=l.next,l.next=r,r.next=p,i.lastEffect=r),r}function updateRef(){return updateWorkInProgressHook().memoizedState}function mountEffectImpl(r,i,l,p){var m=mountWorkInProgressHook();Kr.flags|=r,m.memoizedState=pushSimpleEffect(1|i,{destroy:void 0},l,void 0===p?null:p)}function updateEffectImpl(r,i,l,p){var m=updateWorkInProgressHook();p=void 0===p?null:p;var y=m.memoizedState.inst;null!==Zr&&null!==p&&areHookInputsEqual(p,Zr.memoizedState.deps)?m.memoizedState=pushSimpleEffect(i,y,l,p):(Kr.flags|=r,m.memoizedState=pushSimpleEffect(1|i,y,l,p))}function mountEffect(r,i){mountEffectImpl(8390656,8,r,i)}function updateEffect(r,i){updateEffectImpl(2048,8,r,i)}function updateEvent(r){var i=updateWorkInProgressHook().memoizedState;return function useEffectEventImpl(r){Kr.flags|=4;var i=Kr.updateQueue;if(null===i)i={lastEffect:null,events:null,stores:null,memoCache:null},Kr.updateQueue=i,i.events=[r];else{var l=i.events;null===l?i.events=[r]:l.push(r)}}({ref:i,nextImpl:r}),function(){if(2&Tn)throw Error(formatProdErrorMessage(440));return i.impl.apply(void 0,arguments)}}function updateInsertionEffect(r,i){return updateEffectImpl(4,2,r,i)}function updateLayoutEffect(r,i){return updateEffectImpl(4,4,r,i)}function imperativeHandleEffect(r,i){if("function"==typeof i){r=r();var l=i(r);return function(){"function"==typeof l?l():i(null)}}if(null!=i)return r=r(),i.current=r,function(){i.current=null}}function updateImperativeHandle(r,i,l){l=null!=l?l.concat([r]):null,updateEffectImpl(4,4,imperativeHandleEffect.bind(null,i,r),l)}function mountDebugValue(){}function updateCallback(r,i){var l=updateWorkInProgressHook();i=void 0===i?null:i;var p=l.memoizedState;return null!==i&&areHookInputsEqual(i,p[1])?p[0]:(l.memoizedState=[r,i],r)}function updateMemo(r,i){var l=updateWorkInProgressHook();i=void 0===i?null:i;var p=l.memoizedState;if(null!==i&&areHookInputsEqual(i,p[1]))return p[0];if(p=r(),rn){setIsStrictModeForDevtools(!0);try{r()}finally{setIsStrictModeForDevtools(!1)}}return l.memoizedState=[p,i],p}function mountDeferredValueImpl(r,i,l){return void 0===l||1073741824&Qr&&!(261930&In)?r.memoizedState=i:(r.memoizedState=l,r=requestDeferredLane(),Kr.lanes|=r,zn|=r,l)}function updateDeferredValueImpl(r,i,l,p){return Dt(l,i)?l:null!==jr.current?(r=mountDeferredValueImpl(r,l,p),Dt(r,i)||(mn=!0),r):42&Qr&&(!(1073741824&Qr)||261930&In)?(r=requestDeferredLane(),Kr.lanes|=r,zn|=r,i):(mn=!0,r.memoizedState=l)}function startTransition(r,i,l,p,m){var y=W.p;W.p=0!==y&&8>y?y:8;var v=V.T,_={};V.T=_,dispatchOptimisticSetState(r,!1,i,l);try{var x=m(),S=V.S;if(null!==S&&S(_,x),null!==x&&"object"==typeof x&&"function"==typeof x.then)dispatchSetStateInternal(r,i,function chainThenableValue(r,i){var l=[],p={status:"pending",value:null,reason:null,then:function(r){l.push(r)}};return r.then(function(){p.status="fulfilled",p.value=i;for(var r=0;r<l.length;r++)(0,l[r])(i)},function(r){for(p.status="rejected",p.reason=r,r=0;r<l.length;r++)(0,l[r])(void 0)}),p}(x,p),requestUpdateLane());else dispatchSetStateInternal(r,i,p,requestUpdateLane())}catch(k){dispatchSetStateInternal(r,i,{then:function(){},status:"rejected",reason:k},requestUpdateLane())}finally{W.p=y,null!==v&&null!==_.types&&(v.types=_.types),V.T=v}}function noop(){}function startHostTransition(r,i,l,p){if(5!==r.tag)throw Error(formatProdErrorMessage(476));var m=ensureFormComponentIsStateful(r).queue;startTransition(r,m,i,j,null===l?noop:function(){return requestFormReset$1(r),l(p)})}function ensureFormComponentIsStateful(r){var i=r.memoizedState;if(null!==i)return i;var l={};return(i={memoizedState:j,baseState:j,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:basicStateReducer,lastRenderedState:j},next:null}).next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:basicStateReducer,lastRenderedState:l},next:null},r.memoizedState=i,null!==(r=r.alternate)&&(r.memoizedState=i),i}function requestFormReset$1(r){var i=ensureFormComponentIsStateful(r);null===i.next&&(i=r.alternate.memoizedState),dispatchSetStateInternal(r,i.next.queue,{},requestUpdateLane())}function useHostTransitionStatus(){return readContext(Li)}function updateId(){return updateWorkInProgressHook().memoizedState}function updateRefresh(){return updateWorkInProgressHook().memoizedState}function refreshCache(r){for(var i=r.return;null!==i;){switch(i.tag){case 24:case 3:var l=requestUpdateLane(),p=enqueueUpdate(i,r=createUpdate(l),l);return null!==p&&(scheduleUpdateOnFiber(p,i,l),entangleTransitions(p,i,l)),i={cache:createCache()},void(r.payload=i)}i=i.return}}function dispatchReducerAction(r,i,l){var p=requestUpdateLane();l={lane:p,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},isRenderPhaseUpdate(r)?enqueueRenderPhaseUpdate(i,l):null!==(l=enqueueConcurrentHookUpdate(r,i,l,p))&&(scheduleUpdateOnFiber(l,r,p),entangleTransitionUpdate(l,i,p))}function dispatchSetState(r,i,l){dispatchSetStateInternal(r,i,l,requestUpdateLane())}function dispatchSetStateInternal(r,i,l,p){var m={lane:p,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(isRenderPhaseUpdate(r))enqueueRenderPhaseUpdate(i,m);else{var y=r.alternate;if(0===r.lanes&&(null===y||0===y.lanes)&&null!==(y=i.lastRenderedReducer))try{var v=i.lastRenderedState,_=y(v,l);if(m.hasEagerState=!0,m.eagerState=_,Dt(_,v))return enqueueUpdate$1(r,i,m,0),null===An&&finishQueueingConcurrentUpdates(),!1}catch(x){}if(null!==(l=enqueueConcurrentHookUpdate(r,i,m,p)))return scheduleUpdateOnFiber(l,r,p),entangleTransitionUpdate(l,i,p),!0}return!1}function dispatchOptimisticSetState(r,i,l,p){if(p={lane:2,revertLane:requestTransitionLane(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},isRenderPhaseUpdate(r)){if(i)throw Error(formatProdErrorMessage(479))}else null!==(i=enqueueConcurrentHookUpdate(r,l,p,2))&&scheduleUpdateOnFiber(i,r,2)}function isRenderPhaseUpdate(r){var i=r.alternate;return r===Kr||null!==i&&i===Kr}function enqueueRenderPhaseUpdate(r,i){tn=en=!0;var l=r.pending;null===l?i.next=i:(i.next=l.next,l.next=i),r.pending=i}function entangleTransitionUpdate(r,i,l){if(4194048&l){var p=i.lanes;l|=p&=r.pendingLanes,i.lanes=l,markRootEntangled(r,l)}}var un={readContext:readContext,use:use,useCallback:throwInvalidHookError,useContext:throwInvalidHookError,useEffect:throwInvalidHookError,useImperativeHandle:throwInvalidHookError,useLayoutEffect:throwInvalidHookError,useInsertionEffect:throwInvalidHookError,useMemo:throwInvalidHookError,useReducer:throwInvalidHookError,useRef:throwInvalidHookError,useState:throwInvalidHookError,useDebugValue:throwInvalidHookError,useDeferredValue:throwInvalidHookError,useTransition:throwInvalidHookError,useSyncExternalStore:throwInvalidHookError,useId:throwInvalidHookError,useHostTransitionStatus:throwInvalidHookError,useFormState:throwInvalidHookError,useActionState:throwInvalidHookError,useOptimistic:throwInvalidHookError,useMemoCache:throwInvalidHookError,useCacheRefresh:throwInvalidHookError};un.useEffectEvent=throwInvalidHookError;var cn={readContext:readContext,use:use,useCallback:function(r,i){return mountWorkInProgressHook().memoizedState=[r,void 0===i?null:i],r},useContext:readContext,useEffect:mountEffect,useImperativeHandle:function(r,i,l){l=null!=l?l.concat([r]):null,mountEffectImpl(4194308,4,imperativeHandleEffect.bind(null,i,r),l)},useLayoutEffect:function(r,i){return mountEffectImpl(4194308,4,r,i)},useInsertionEffect:function(r,i){mountEffectImpl(4,2,r,i)},useMemo:function(r,i){var l=mountWorkInProgressHook();i=void 0===i?null:i;var p=r();if(rn){setIsStrictModeForDevtools(!0);try{r()}finally{setIsStrictModeForDevtools(!1)}}return l.memoizedState=[p,i],p},useReducer:function(r,i,l){var p=mountWorkInProgressHook();if(void 0!==l){var m=l(i);if(rn){setIsStrictModeForDevtools(!0);try{l(i)}finally{setIsStrictModeForDevtools(!1)}}}else m=i;return p.memoizedState=p.baseState=m,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:m},p.queue=r,r=r.dispatch=dispatchReducerAction.bind(null,Kr,r),[p.memoizedState,r]},useRef:function(r){return r={current:r},mountWorkInProgressHook().memoizedState=r},useState:function(r){var i=(r=mountStateImpl(r)).queue,l=dispatchSetState.bind(null,Kr,i);return i.dispatch=l,[r.memoizedState,l]},useDebugValue:mountDebugValue,useDeferredValue:function(r,i){return mountDeferredValueImpl(mountWorkInProgressHook(),r,i)},useTransition:function(){var r=mountStateImpl(!1);return r=startTransition.bind(null,Kr,r.queue,!0,!1),mountWorkInProgressHook().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,i,l){var p=Kr,m=mountWorkInProgressHook();if(yr){if(void 0===l)throw Error(formatProdErrorMessage(407));l=l()}else{if(l=i(),null===An)throw Error(formatProdErrorMessage(349));127&In||pushStoreConsistencyCheck(p,i,l)}m.memoizedState=l;var y={value:l,getSnapshot:i};return m.queue=y,mountEffect(subscribeToStore.bind(null,p,y,r),[r]),p.flags|=2048,pushSimpleEffect(9,{destroy:void 0},updateStoreInstance.bind(null,p,y,l,i),null),l},useId:function(){var r=mountWorkInProgressHook(),i=An.identifierPrefix;if(yr){var l=pr;i="_"+i+"R_"+(l=(fr&~(1<<32-ve(fr)-1)).toString(32)+l),0<(l=nn++)&&(i+="H"+l.toString(32)),i+="_"}else i="_"+i+"r_"+(l=ln++).toString(32)+"_";return r.memoizedState=i},useHostTransitionStatus:useHostTransitionStatus,useFormState:mountActionState,useActionState:mountActionState,useOptimistic:function(r){var i=mountWorkInProgressHook();i.memoizedState=i.baseState=r;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=l,i=dispatchOptimisticSetState.bind(null,Kr,!0,l),l.dispatch=i,[r,i]},useMemoCache:useMemoCache,useCacheRefresh:function(){return mountWorkInProgressHook().memoizedState=refreshCache.bind(null,Kr)},useEffectEvent:function(r){var i=mountWorkInProgressHook(),l={impl:r};return i.memoizedState=l,function(){if(2&Tn)throw Error(formatProdErrorMessage(440));return l.impl.apply(void 0,arguments)}}},dn={readContext:readContext,use:use,useCallback:updateCallback,useContext:readContext,useEffect:updateEffect,useImperativeHandle:updateImperativeHandle,useInsertionEffect:updateInsertionEffect,useLayoutEffect:updateLayoutEffect,useMemo:updateMemo,useReducer:updateReducer,useRef:updateRef,useState:function(){return updateReducer(basicStateReducer)},useDebugValue:mountDebugValue,useDeferredValue:function(r,i){return updateDeferredValueImpl(updateWorkInProgressHook(),Zr.memoizedState,r,i)},useTransition:function(){var r=updateReducer(basicStateReducer)[0],i=updateWorkInProgressHook().memoizedState;return["boolean"==typeof r?r:useThenable(r),i]},useSyncExternalStore:updateSyncExternalStore,useId:updateId,useHostTransitionStatus:useHostTransitionStatus,useFormState:updateActionState,useActionState:updateActionState,useOptimistic:function(r,i){return updateOptimisticImpl(updateWorkInProgressHook(),0,r,i)},useMemoCache:useMemoCache,useCacheRefresh:updateRefresh};dn.useEffectEvent=updateEvent;var hn={readContext:readContext,use:use,useCallback:updateCallback,useContext:readContext,useEffect:updateEffect,useImperativeHandle:updateImperativeHandle,useInsertionEffect:updateInsertionEffect,useLayoutEffect:updateLayoutEffect,useMemo:updateMemo,useReducer:rerenderReducer,useRef:updateRef,useState:function(){return rerenderReducer(basicStateReducer)},useDebugValue:mountDebugValue,useDeferredValue:function(r,i){var l=updateWorkInProgressHook();return null===Zr?mountDeferredValueImpl(l,r,i):updateDeferredValueImpl(l,Zr.memoizedState,r,i)},useTransition:function(){var r=rerenderReducer(basicStateReducer)[0],i=updateWorkInProgressHook().memoizedState;return["boolean"==typeof r?r:useThenable(r),i]},useSyncExternalStore:updateSyncExternalStore,useId:updateId,useHostTransitionStatus:useHostTransitionStatus,useFormState:rerenderActionState,useActionState:rerenderActionState,useOptimistic:function(r,i){var l=updateWorkInProgressHook();return null!==Zr?updateOptimisticImpl(l,0,r,i):(l.baseState=r,[r,l.queue.dispatch])},useMemoCache:useMemoCache,useCacheRefresh:updateRefresh};function applyDerivedStateFromProps(r,i,l,m){l=null==(l=l(m,i=r.memoizedState))?i:p({},i,l),r.memoizedState=l,0===r.lanes&&(r.updateQueue.baseState=l)}hn.useEffectEvent=updateEvent;var fn={enqueueSetState:function(r,i,l){r=r._reactInternals;var p=requestUpdateLane(),m=createUpdate(p);m.payload=i,null!=l&&(m.callback=l),null!==(i=enqueueUpdate(r,m,p))&&(scheduleUpdateOnFiber(i,r,p),entangleTransitions(i,r,p))},enqueueReplaceState:function(r,i,l){r=r._reactInternals;var p=requestUpdateLane(),m=createUpdate(p);m.tag=1,m.payload=i,null!=l&&(m.callback=l),null!==(i=enqueueUpdate(r,m,p))&&(scheduleUpdateOnFiber(i,r,p),entangleTransitions(i,r,p))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var l=requestUpdateLane(),p=createUpdate(l);p.tag=2,null!=i&&(p.callback=i),null!==(i=enqueueUpdate(r,p,l))&&(scheduleUpdateOnFiber(i,r,l),entangleTransitions(i,r,l))}};function checkShouldComponentUpdate(r,i,l,p,m,y,v){return"function"==typeof(r=r.stateNode).shouldComponentUpdate?r.shouldComponentUpdate(p,y,v):!i.prototype||!i.prototype.isPureReactComponent||(!shallowEqual(l,p)||!shallowEqual(m,y))}function callComponentWillReceiveProps(r,i,l,p){r=i.state,"function"==typeof i.componentWillReceiveProps&&i.componentWillReceiveProps(l,p),"function"==typeof i.UNSAFE_componentWillReceiveProps&&i.UNSAFE_componentWillReceiveProps(l,p),i.state!==r&&fn.enqueueReplaceState(i,i.state,null)}function resolveClassComponentProps(r,i){var l=i;if("ref"in i)for(var m in l={},i)"ref"!==m&&(l[m]=i[m]);if(r=r.defaultProps)for(var y in l===i&&(l=p({},l)),r)void 0===l[y]&&(l[y]=r[y]);return l}function defaultOnUncaughtError(r){er(r)}function defaultOnCaughtError(r){}function defaultOnRecoverableError(r){er(r)}function logUncaughtError(r,i){try{(0,r.onUncaughtError)(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function logCaughtError(r,i,l){try{(0,r.onCaughtError)(l.value,{componentStack:l.stack,errorBoundary:1===i.tag?i.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function createRootErrorUpdate(r,i,l){return(l=createUpdate(l)).tag=3,l.payload={element:null},l.callback=function(){logUncaughtError(r,i)},l}function createClassErrorUpdate(r){return(r=createUpdate(r)).tag=3,r}function initializeClassErrorUpdate(r,i,l,p){var m=l.type.getDerivedStateFromError;if("function"==typeof m){var y=p.value;r.payload=function(){return m(y)},r.callback=function(){logCaughtError(i,l,p)}}var v=l.stateNode;null!==v&&"function"==typeof v.componentDidCatch&&(r.callback=function(){logCaughtError(i,l,p),"function"!=typeof m&&(null===Kn?Kn=new Set([this]):Kn.add(this));var r=p.stack;this.componentDidCatch(p.value,{componentStack:null!==r?r:""})})}var pn=Error(formatProdErrorMessage(461)),mn=!1;function reconcileChildren(r,i,l,p){i.child=null===r?Gr(i,null,l,p):Ur(i,r.child,l,p)}function updateForwardRef(r,i,l,p,m){l=l.render;var y=i.ref;if("ref"in p){var v={};for(var _ in p)"ref"!==_&&(v[_]=p[_])}else v=p;return prepareToReadContext(i),p=renderWithHooks(r,i,l,v,y,m),_=checkDidRenderIdHook(),null===r||mn?(yr&&_&&pushMaterializedTreeId(i),i.flags|=1,reconcileChildren(r,i,p,m),i.child):(bailoutHooks(r,i,m),bailoutOnAlreadyFinishedWork(r,i,m))}function updateMemoComponent(r,i,l,p,m){if(null===r){var y=l.type;return"function"!=typeof y||shouldConstruct(y)||void 0!==y.defaultProps||null!==l.compare?((r=createFiberFromTypeAndProps(l.type,null,p,i,i.mode,m)).ref=i.ref,r.return=i,i.child=r):(i.tag=15,i.type=y,updateSimpleMemoComponent(r,i,y,p,m))}if(y=r.child,!checkScheduledUpdateOrContext(r,m)){var v=y.memoizedProps;if((l=null!==(l=l.compare)?l:shallowEqual)(v,p)&&r.ref===i.ref)return bailoutOnAlreadyFinishedWork(r,i,m)}return i.flags|=1,(r=createWorkInProgress(y,p)).ref=i.ref,r.return=i,i.child=r}function updateSimpleMemoComponent(r,i,l,p,m){if(null!==r){var y=r.memoizedProps;if(shallowEqual(y,p)&&r.ref===i.ref){if(mn=!1,i.pendingProps=p=y,!checkScheduledUpdateOrContext(r,m))return i.lanes=r.lanes,bailoutOnAlreadyFinishedWork(r,i,m);131072&r.flags&&(mn=!0)}}return updateFunctionComponent(r,i,l,p,m)}function updateOffscreenComponent(r,i,l,p){var m=p.children,y=null!==r?r.memoizedState:null;if(null===r&&null===i.stateNode&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===p.mode){if(128&i.flags){if(y=null!==y?y.baseLanes|l:l,null!==r){for(p=i.child=r.child,m=0;null!==p;)m=m|p.lanes|p.childLanes,p=p.sibling;p=m&~y}else p=0,i.child=null;return deferHiddenOffscreenComponent(r,i,y,l,p)}if(!(536870912&l))return p=i.lanes=536870912,deferHiddenOffscreenComponent(r,i,null!==y?y.baseLanes|l:l,l,p);i.memoizedState={baseLanes:0,cachePool:null},null!==r&&pushTransition(0,null!==y?y.cachePool:null),null!==y?pushHiddenContext(i,y):reuseHiddenContextOnStack(),pushOffscreenSuspenseHandler(i)}else null!==y?(pushTransition(0,y.cachePool),pushHiddenContext(i,y),reuseSuspenseHandlerOnStack(),i.memoizedState=null):(null!==r&&pushTransition(0,null),reuseHiddenContextOnStack(),reuseSuspenseHandlerOnStack());return reconcileChildren(r,i,m,l),i.child}function bailoutOffscreenComponent(r,i){return null!==r&&22===r.tag||null!==i.stateNode||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function deferHiddenOffscreenComponent(r,i,l,p,m){var y=peekCacheFromPool();return y=null===y?null:{parent:Er._currentValue,pool:y},i.memoizedState={baseLanes:l,cachePool:y},null!==r&&pushTransition(0,null),reuseHiddenContextOnStack(),pushOffscreenSuspenseHandler(i),null!==r&&propagateParentContextChanges(r,i,p,!0),i.childLanes=m,null}function mountActivityChildren(r,i){return(i=mountWorkInProgressOffscreenFiber({mode:i.mode,children:i.children},r.mode)).ref=r.ref,r.child=i,i.return=r,i}function retryActivityComponentWithoutHydrating(r,i,l){return Ur(i,r.child,null,l),(r=mountActivityChildren(i,i.pendingProps)).flags|=2,popSuspenseHandler(i),i.memoizedState=null,r}function markRef(r,i){var l=i.ref;if(null===l)null!==r&&null!==r.ref&&(i.flags|=4194816);else{if("function"!=typeof l&&"object"!=typeof l)throw Error(formatProdErrorMessage(284));null!==r&&r.ref===l||(i.flags|=4194816)}}function updateFunctionComponent(r,i,l,p,m){return prepareToReadContext(i),l=renderWithHooks(r,i,l,p,void 0,m),p=checkDidRenderIdHook(),null===r||mn?(yr&&p&&pushMaterializedTreeId(i),i.flags|=1,reconcileChildren(r,i,l,m),i.child):(bailoutHooks(r,i,m),bailoutOnAlreadyFinishedWork(r,i,m))}function replayFunctionComponent(r,i,l,p,m,y){return prepareToReadContext(i),i.updateQueue=null,l=renderWithHooksAgain(i,p,l,m),finishRenderingHooks(r),p=checkDidRenderIdHook(),null===r||mn?(yr&&p&&pushMaterializedTreeId(i),i.flags|=1,reconcileChildren(r,i,l,y),i.child):(bailoutHooks(r,i,y),bailoutOnAlreadyFinishedWork(r,i,y))}function updateClassComponent(r,i,l,p,m){if(prepareToReadContext(i),null===i.stateNode){var y=ir,v=l.contextType;"object"==typeof v&&null!==v&&(y=readContext(v)),y=new l(p,y),i.memoizedState=null!==y.state&&void 0!==y.state?y.state:null,y.updater=fn,i.stateNode=y,y._reactInternals=i,(y=i.stateNode).props=p,y.state=i.memoizedState,y.refs={},initializeUpdateQueue(i),v=l.contextType,y.context="object"==typeof v&&null!==v?readContext(v):ir,y.state=i.memoizedState,"function"==typeof(v=l.getDerivedStateFromProps)&&(applyDerivedStateFromProps(i,l,v,p),y.state=i.memoizedState),"function"==typeof l.getDerivedStateFromProps||"function"==typeof y.getSnapshotBeforeUpdate||"function"!=typeof y.UNSAFE_componentWillMount&&"function"!=typeof y.componentWillMount||(v=y.state,"function"==typeof y.componentWillMount&&y.componentWillMount(),"function"==typeof y.UNSAFE_componentWillMount&&y.UNSAFE_componentWillMount(),v!==y.state&&fn.enqueueReplaceState(y,y.state,null),processUpdateQueue(i,p,y,m),suspendIfUpdateReadFromEntangledAsyncAction(),y.state=i.memoizedState),"function"==typeof y.componentDidMount&&(i.flags|=4194308),p=!0}else if(null===r){y=i.stateNode;var _=i.memoizedProps,x=resolveClassComponentProps(l,_);y.props=x;var S=y.context,k=l.contextType;v=ir,"object"==typeof k&&null!==k&&(v=readContext(k));var C=l.getDerivedStateFromProps;k="function"==typeof C||"function"==typeof y.getSnapshotBeforeUpdate,_=i.pendingProps!==_,k||"function"!=typeof y.UNSAFE_componentWillReceiveProps&&"function"!=typeof y.componentWillReceiveProps||(_||S!==v)&&callComponentWillReceiveProps(i,y,p,v),Vr=!1;var P=i.memoizedState;y.state=P,processUpdateQueue(i,p,y,m),suspendIfUpdateReadFromEntangledAsyncAction(),S=i.memoizedState,_||P!==S||Vr?("function"==typeof C&&(applyDerivedStateFromProps(i,l,C,p),S=i.memoizedState),(x=Vr||checkShouldComponentUpdate(i,l,x,p,P,S,v))?(k||"function"!=typeof y.UNSAFE_componentWillMount&&"function"!=typeof y.componentWillMount||("function"==typeof y.componentWillMount&&y.componentWillMount(),"function"==typeof y.UNSAFE_componentWillMount&&y.UNSAFE_componentWillMount()),"function"==typeof y.componentDidMount&&(i.flags|=4194308)):("function"==typeof y.componentDidMount&&(i.flags|=4194308),i.memoizedProps=p,i.memoizedState=S),y.props=p,y.state=S,y.context=v,p=x):("function"==typeof y.componentDidMount&&(i.flags|=4194308),p=!1)}else{y=i.stateNode,cloneUpdateQueue(r,i),k=resolveClassComponentProps(l,v=i.memoizedProps),y.props=k,C=i.pendingProps,P=y.context,S=l.contextType,x=ir,"object"==typeof S&&null!==S&&(x=readContext(S)),(S="function"==typeof(_=l.getDerivedStateFromProps)||"function"==typeof y.getSnapshotBeforeUpdate)||"function"!=typeof y.UNSAFE_componentWillReceiveProps&&"function"!=typeof y.componentWillReceiveProps||(v!==C||P!==x)&&callComponentWillReceiveProps(i,y,p,x),Vr=!1,P=i.memoizedState,y.state=P,processUpdateQueue(i,p,y,m),suspendIfUpdateReadFromEntangledAsyncAction();var E=i.memoizedState;v!==C||P!==E||Vr||null!==r&&null!==r.dependencies&&checkIfContextChanged(r.dependencies)?("function"==typeof _&&(applyDerivedStateFromProps(i,l,_,p),E=i.memoizedState),(k=Vr||checkShouldComponentUpdate(i,l,k,p,P,E,x)||null!==r&&null!==r.dependencies&&checkIfContextChanged(r.dependencies))?(S||"function"!=typeof y.UNSAFE_componentWillUpdate&&"function"!=typeof y.componentWillUpdate||("function"==typeof y.componentWillUpdate&&y.componentWillUpdate(p,E,x),"function"==typeof y.UNSAFE_componentWillUpdate&&y.UNSAFE_componentWillUpdate(p,E,x)),"function"==typeof y.componentDidUpdate&&(i.flags|=4),"function"==typeof y.getSnapshotBeforeUpdate&&(i.flags|=1024)):("function"!=typeof y.componentDidUpdate||v===r.memoizedProps&&P===r.memoizedState||(i.flags|=4),"function"!=typeof y.getSnapshotBeforeUpdate||v===r.memoizedProps&&P===r.memoizedState||(i.flags|=1024),i.memoizedProps=p,i.memoizedState=E),y.props=p,y.state=E,y.context=x,p=k):("function"!=typeof y.componentDidUpdate||v===r.memoizedProps&&P===r.memoizedState||(i.flags|=4),"function"!=typeof y.getSnapshotBeforeUpdate||v===r.memoizedProps&&P===r.memoizedState||(i.flags|=1024),p=!1)}return y=p,markRef(r,i),p=!!(128&i.flags),y||p?(y=i.stateNode,l=p&&"function"!=typeof l.getDerivedStateFromError?null:y.render(),i.flags|=1,null!==r&&p?(i.child=Ur(i,r.child,null,m),i.child=Ur(i,null,l,m)):reconcileChildren(r,i,l,m),i.memoizedState=y.state,r=i.child):r=bailoutOnAlreadyFinishedWork(r,i,m),r}function mountHostRootWithoutHydrating(r,i,l,p){return resetHydrationState(),i.flags|=256,reconcileChildren(r,i,l,p),i.child}var gn={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function mountSuspenseOffscreenState(r){return{baseLanes:r,cachePool:getSuspendedCache()}}function getRemainingWorkInPrimaryTree(r,i,l){return r=null!==r?r.childLanes&~l:0,i&&(r|=Gn),r}function updateSuspenseComponent(r,i,l){var p,m=i.pendingProps,y=!1,v=!!(128&i.flags);if((p=v)||(p=(null===r||null!==r.memoizedState)&&!!(2&Xr.current)),p&&(y=!0,i.flags&=-129),p=!!(32&i.flags),i.flags&=-33,null===r){if(yr){if(y?pushPrimaryTreeSuspenseHandler(i):reuseSuspenseHandlerOnStack(),(r=gr)?null!==(r=null!==(r=canHydrateHydrationBoundary(r,br))&&"&"!==r.data?r:null)&&(i.memoizedState={dehydrated:r,treeContext:null!==hr?{id:fr,overflow:pr}:null,retryLane:536870912,hydrationErrors:null},(l=createFiberFromDehydratedFragment(r)).return=i,i.child=l,mr=i,gr=null):r=null,null===r)throw throwOnHydrationMismatch(i);return isSuspenseInstanceFallback(r)?i.lanes=32:i.lanes=536870912,null}var _=m.children;return m=m.fallback,y?(reuseSuspenseHandlerOnStack(),_=mountWorkInProgressOffscreenFiber({mode:"hidden",children:_},y=i.mode),m=createFiberFromFragment(m,y,l,null),_.return=i,m.return=i,_.sibling=m,i.child=_,(m=i.child).memoizedState=mountSuspenseOffscreenState(l),m.childLanes=getRemainingWorkInPrimaryTree(r,p,l),i.memoizedState=gn,bailoutOffscreenComponent(null,m)):(pushPrimaryTreeSuspenseHandler(i),mountSuspensePrimaryChildren(i,_))}var x=r.memoizedState;if(null!==x&&null!==(_=x.dehydrated)){if(v)256&i.flags?(pushPrimaryTreeSuspenseHandler(i),i.flags&=-257,i=retrySuspenseComponentWithoutHydrating(r,i,l)):null!==i.memoizedState?(reuseSuspenseHandlerOnStack(),i.child=r.child,i.flags|=128,i=null):(reuseSuspenseHandlerOnStack(),_=m.fallback,y=i.mode,m=mountWorkInProgressOffscreenFiber({mode:"visible",children:m.children},y),(_=createFiberFromFragment(_,y,l,null)).flags|=2,m.return=i,_.return=i,m.sibling=_,i.child=m,Ur(i,r.child,null,l),(m=i.child).memoizedState=mountSuspenseOffscreenState(l),m.childLanes=getRemainingWorkInPrimaryTree(r,p,l),i.memoizedState=gn,i=bailoutOffscreenComponent(null,m));else if(pushPrimaryTreeSuspenseHandler(i),isSuspenseInstanceFallback(_)){if(p=_.nextSibling&&_.nextSibling.dataset)var S=p.dgst;p=S,(m=Error(formatProdErrorMessage(419))).stack="",m.digest=p,queueHydrationError({value:m,source:null,stack:null}),i=retrySuspenseComponentWithoutHydrating(r,i,l)}else if(mn||propagateParentContextChanges(r,i,l,!1),p=0!==(l&r.childLanes),mn||p){if(null!==(p=An)&&(0!==(m=getBumpedLaneForHydration(p,l))&&m!==x.retryLane))throw x.retryLane=m,enqueueConcurrentRenderForLane(r,m),scheduleUpdateOnFiber(p,r,m),pn;isSuspenseInstancePending(_)||renderDidSuspendDelayIfPossible(),i=retrySuspenseComponentWithoutHydrating(r,i,l)}else isSuspenseInstancePending(_)?(i.flags|=192,i.child=r.child,i=null):(r=x.treeContext,gr=getNextHydratable(_.nextSibling),mr=i,yr=!0,vr=null,br=!1,null!==r&&restoreSuspendedTreeContext(i,r),(i=mountSuspensePrimaryChildren(i,m.children)).flags|=4096);return i}return y?(reuseSuspenseHandlerOnStack(),_=m.fallback,y=i.mode,S=(x=r.child).sibling,(m=createWorkInProgress(x,{mode:"hidden",children:m.children})).subtreeFlags=65011712&x.subtreeFlags,null!==S?_=createWorkInProgress(S,_):(_=createFiberFromFragment(_,y,l,null)).flags|=2,_.return=i,m.return=i,m.sibling=_,i.child=m,bailoutOffscreenComponent(null,m),m=i.child,null===(_=r.child.memoizedState)?_=mountSuspenseOffscreenState(l):(null!==(y=_.cachePool)?(x=Er._currentValue,y=y.parent!==x?{parent:x,pool:x}:y):y=getSuspendedCache(),_={baseLanes:_.baseLanes|l,cachePool:y}),m.memoizedState=_,m.childLanes=getRemainingWorkInPrimaryTree(r,p,l),i.memoizedState=gn,bailoutOffscreenComponent(r.child,m)):(pushPrimaryTreeSuspenseHandler(i),r=(l=r.child).sibling,(l=createWorkInProgress(l,{mode:"visible",children:m.children})).return=i,l.sibling=null,null!==r&&(null===(p=i.deletions)?(i.deletions=[r],i.flags|=16):p.push(r)),i.child=l,i.memoizedState=null,l)}function mountSuspensePrimaryChildren(r,i){return(i=mountWorkInProgressOffscreenFiber({mode:"visible",children:i},r.mode)).return=r,r.child=i}function mountWorkInProgressOffscreenFiber(r,i){return(r=createFiberImplClass(22,r,null,i)).lanes=0,r}function retrySuspenseComponentWithoutHydrating(r,i,l){return Ur(i,r.child,null,l),(r=mountSuspensePrimaryChildren(i,i.pendingProps.children)).flags|=2,i.memoizedState=null,r}function scheduleSuspenseWorkOnFiber(r,i,l){r.lanes|=i;var p=r.alternate;null!==p&&(p.lanes|=i),scheduleContextWorkOnParentPath(r.return,i,l)}function initSuspenseListRenderState(r,i,l,p,m,y){var v=r.memoizedState;null===v?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:p,tail:l,tailMode:m,treeForkCount:y}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=p,v.tail=l,v.tailMode=m,v.treeForkCount=y)}function updateSuspenseListComponent(r,i,l){var p=i.pendingProps,m=p.revealOrder,y=p.tail;p=p.children;var v=Xr.current,_=!!(2&v);if(_?(v=1&v|2,i.flags|=128):v&=1,push(Xr,v),reconcileChildren(r,i,p,l),p=yr?ur:0,!_&&null!==r&&128&r.flags)e:for(r=i.child;null!==r;){if(13===r.tag)null!==r.memoizedState&&scheduleSuspenseWorkOnFiber(r,l,i);else if(19===r.tag)scheduleSuspenseWorkOnFiber(r,l,i);else if(null!==r.child){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;null===r.sibling;){if(null===r.return||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(m){case"forwards":for(l=i.child,m=null;null!==l;)null!==(r=l.alternate)&&null===findFirstSuspended(r)&&(m=l),l=l.sibling;null===(l=m)?(m=i.child,i.child=null):(m=l.sibling,l.sibling=null),initSuspenseListRenderState(i,!1,m,l,y,p);break;case"backwards":case"unstable_legacy-backwards":for(l=null,m=i.child,i.child=null;null!==m;){if(null!==(r=m.alternate)&&null===findFirstSuspended(r)){i.child=m;break}r=m.sibling,m.sibling=l,l=m,m=r}initSuspenseListRenderState(i,!0,l,null,y,p);break;case"together":initSuspenseListRenderState(i,!1,null,null,void 0,p);break;default:i.memoizedState=null}return i.child}function bailoutOnAlreadyFinishedWork(r,i,l){if(null!==r&&(i.dependencies=r.dependencies),zn|=i.lanes,0===(l&i.childLanes)){if(null===r)return null;if(propagateParentContextChanges(r,i,l,!1),0===(l&i.childLanes))return null}if(null!==r&&i.child!==r.child)throw Error(formatProdErrorMessage(153));if(null!==i.child){for(l=createWorkInProgress(r=i.child,r.pendingProps),i.child=l,l.return=i;null!==r.sibling;)r=r.sibling,(l=l.sibling=createWorkInProgress(r,r.pendingProps)).return=i;l.sibling=null}return i.child}function checkScheduledUpdateOrContext(r,i){return 0!==(r.lanes&i)||!(null===(r=r.dependencies)||!checkIfContextChanged(r))}function beginWork(r,i,l){if(null!==r)if(r.memoizedProps!==i.pendingProps)mn=!0;else{if(!(checkScheduledUpdateOrContext(r,l)||128&i.flags))return mn=!1,function attemptEarlyBailoutIfNoScheduledUpdate(r,i,l){switch(i.tag){case 3:pushHostContainer(i,i.stateNode.containerInfo),pushProvider(0,Er,r.memoizedState.cache),resetHydrationState();break;case 27:case 5:pushHostContext(i);break;case 4:pushHostContainer(i,i.stateNode.containerInfo);break;case 10:pushProvider(0,i.type,i.memoizedProps.value);break;case 31:if(null!==i.memoizedState)return i.flags|=128,pushDehydratedActivitySuspenseHandler(i),null;break;case 13:var p=i.memoizedState;if(null!==p)return null!==p.dehydrated?(pushPrimaryTreeSuspenseHandler(i),i.flags|=128,null):0!==(l&i.child.childLanes)?updateSuspenseComponent(r,i,l):(pushPrimaryTreeSuspenseHandler(i),null!==(r=bailoutOnAlreadyFinishedWork(r,i,l))?r.sibling:null);pushPrimaryTreeSuspenseHandler(i);break;case 19:var m=!!(128&r.flags);if((p=0!==(l&i.childLanes))||(propagateParentContextChanges(r,i,l,!1),p=0!==(l&i.childLanes)),m){if(p)return updateSuspenseListComponent(r,i,l);i.flags|=128}if(null!==(m=i.memoizedState)&&(m.rendering=null,m.tail=null,m.lastEffect=null),push(Xr,Xr.current),p)break;return null;case 22:return i.lanes=0,updateOffscreenComponent(r,i,l,i.pendingProps);case 24:pushProvider(0,Er,r.memoizedState.cache)}return bailoutOnAlreadyFinishedWork(r,i,l)}(r,i,l);mn=!!(131072&r.flags)}else mn=!1,yr&&1048576&i.flags&&pushTreeId(i,ur,i.index);switch(i.lanes=0,i.tag){case 16:e:{var p=i.pendingProps;if(r=resolveLazy(i.elementType),i.type=r,"function"!=typeof r){if(null!=r){var m=r.$$typeof;if(m===P){i.tag=11,i=updateForwardRef(null,i,r,p,l);break e}if(m===I){i.tag=14,i=updateMemoComponent(null,i,r,p,l);break e}}throw i=getComponentNameFromType(r)||r,Error(formatProdErrorMessage(306,i,""))}shouldConstruct(r)?(p=resolveClassComponentProps(r,p),i.tag=1,i=updateClassComponent(null,i,r,p,l)):(i.tag=0,i=updateFunctionComponent(null,i,r,p,l))}return i;case 0:return updateFunctionComponent(r,i,i.type,i.pendingProps,l);case 1:return updateClassComponent(r,i,p=i.type,m=resolveClassComponentProps(p,i.pendingProps),l);case 3:e:{if(pushHostContainer(i,i.stateNode.containerInfo),null===r)throw Error(formatProdErrorMessage(387));p=i.pendingProps;var y=i.memoizedState;m=y.element,cloneUpdateQueue(r,i),processUpdateQueue(i,p,null,l);var v=i.memoizedState;if(p=v.cache,pushProvider(0,Er,p),p!==y.cache&&propagateContextChanges(i,[Er],l,!0),suspendIfUpdateReadFromEntangledAsyncAction(),p=v.element,y.isDehydrated){if(y={element:p,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=y,i.memoizedState=y,256&i.flags){i=mountHostRootWithoutHydrating(r,i,p,l);break e}if(p!==m){queueHydrationError(m=createCapturedValueAtFiber(Error(formatProdErrorMessage(424)),i)),i=mountHostRootWithoutHydrating(r,i,p,l);break e}if(9===(r=i.stateNode.containerInfo).nodeType)r=r.body;else r="HTML"===r.nodeName?r.ownerDocument.body:r;for(gr=getNextHydratable(r.firstChild),mr=i,yr=!0,vr=null,br=!0,l=Gr(i,null,p,l),i.child=l;l;)l.flags=-3&l.flags|4096,l=l.sibling}else{if(resetHydrationState(),p===m){i=bailoutOnAlreadyFinishedWork(r,i,l);break e}reconcileChildren(r,i,p,l)}i=i.child}return i;case 26:return markRef(r,i),null===r?(l=getResource(i.type,null,i.pendingProps,null))?i.memoizedState=l:yr||(l=i.type,r=i.pendingProps,(p=getOwnerDocumentFromRootContainer(J.current).createElement(l))[Ce]=i,p[Pe]=r,setInitialProperties(p,l,r),markNodeAsHoistable(p),i.stateNode=p):i.memoizedState=getResource(i.type,r.memoizedProps,i.pendingProps,r.memoizedState),null;case 27:return pushHostContext(i),null===r&&yr&&(p=i.stateNode=resolveSingletonInstance(i.type,i.pendingProps,J.current),mr=i,br=!0,m=gr,isSingletonScope(i.type)?(Ei=m,gr=getNextHydratable(p.firstChild)):gr=m),reconcileChildren(r,i,i.pendingProps.children,l),markRef(r,i),null===r&&(i.flags|=4194304),i.child;case 5:return null===r&&yr&&((m=p=gr)&&(null!==(p=function canHydrateInstance(r,i,l,p){for(;1===r.nodeType;){var m=l;if(r.nodeName.toLowerCase()!==i.toLowerCase()){if(!p&&("INPUT"!==r.nodeName||"hidden"!==r.type))break}else if(p){if(!r[Re])switch(i){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if("stylesheet"===(y=r.getAttribute("rel"))&&r.hasAttribute("data-precedence"))break;if(y!==m.rel||r.getAttribute("href")!==(null==m.href||""===m.href?null:m.href)||r.getAttribute("crossorigin")!==(null==m.crossOrigin?null:m.crossOrigin)||r.getAttribute("title")!==(null==m.title?null:m.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(((y=r.getAttribute("src"))!==(null==m.src?null:m.src)||r.getAttribute("type")!==(null==m.type?null:m.type)||r.getAttribute("crossorigin")!==(null==m.crossOrigin?null:m.crossOrigin))&&y&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else{if("input"!==i||"hidden"!==r.type)return r;var y=null==m.name?null:""+m.name;if("hidden"===m.type&&r.getAttribute("name")===y)return r}if(null===(r=getNextHydratable(r.nextSibling)))break}return null}(p,i.type,i.pendingProps,br))?(i.stateNode=p,mr=i,gr=getNextHydratable(p.firstChild),br=!1,m=!0):m=!1),m||throwOnHydrationMismatch(i)),pushHostContext(i),m=i.type,y=i.pendingProps,v=null!==r?r.memoizedProps:null,p=y.children,shouldSetTextContent(m,y)?p=null:null!==v&&shouldSetTextContent(m,v)&&(i.flags|=32),null!==i.memoizedState&&(m=renderWithHooks(r,i,TransitionAwareHostComponent,null,null,l),Li._currentValue=m),markRef(r,i),reconcileChildren(r,i,p,l),i.child;case 6:return null===r&&yr&&((r=l=gr)&&(null!==(l=function canHydrateTextInstance(r,i,l){if(""===i)return null;for(;3!==r.nodeType;){if((1!==r.nodeType||"INPUT"!==r.nodeName||"hidden"!==r.type)&&!l)return null;if(null===(r=getNextHydratable(r.nextSibling)))return null}return r}(l,i.pendingProps,br))?(i.stateNode=l,mr=i,gr=null,r=!0):r=!1),r||throwOnHydrationMismatch(i)),null;case 13:return updateSuspenseComponent(r,i,l);case 4:return pushHostContainer(i,i.stateNode.containerInfo),p=i.pendingProps,null===r?i.child=Ur(i,null,p,l):reconcileChildren(r,i,p,l),i.child;case 11:return updateForwardRef(r,i,i.type,i.pendingProps,l);case 7:return reconcileChildren(r,i,i.pendingProps,l),i.child;case 8:case 12:return reconcileChildren(r,i,i.pendingProps.children,l),i.child;case 10:return p=i.pendingProps,pushProvider(0,i.type,p.value),reconcileChildren(r,i,p.children,l),i.child;case 9:return m=i.type._context,p=i.pendingProps.children,prepareToReadContext(i),p=p(m=readContext(m)),i.flags|=1,reconcileChildren(r,i,p,l),i.child;case 14:return updateMemoComponent(r,i,i.type,i.pendingProps,l);case 15:return updateSimpleMemoComponent(r,i,i.type,i.pendingProps,l);case 19:return updateSuspenseListComponent(r,i,l);case 31:return function updateActivityComponent(r,i,l){var p=i.pendingProps,m=!!(128&i.flags);if(i.flags&=-129,null===r){if(yr){if("hidden"===p.mode)return r=mountActivityChildren(i,p),i.lanes=536870912,bailoutOffscreenComponent(null,r);if(pushDehydratedActivitySuspenseHandler(i),(r=gr)?null!==(r=null!==(r=canHydrateHydrationBoundary(r,br))&&"&"===r.data?r:null)&&(i.memoizedState={dehydrated:r,treeContext:null!==hr?{id:fr,overflow:pr}:null,retryLane:536870912,hydrationErrors:null},(l=createFiberFromDehydratedFragment(r)).return=i,i.child=l,mr=i,gr=null):r=null,null===r)throw throwOnHydrationMismatch(i);return i.lanes=536870912,null}return mountActivityChildren(i,p)}var y=r.memoizedState;if(null!==y){var v=y.dehydrated;if(pushDehydratedActivitySuspenseHandler(i),m)if(256&i.flags)i.flags&=-257,i=retryActivityComponentWithoutHydrating(r,i,l);else{if(null===i.memoizedState)throw Error(formatProdErrorMessage(558));i.child=r.child,i.flags|=128,i=null}else if(mn||propagateParentContextChanges(r,i,l,!1),m=0!==(l&r.childLanes),mn||m){if(null!==(p=An)&&0!==(v=getBumpedLaneForHydration(p,l))&&v!==y.retryLane)throw y.retryLane=v,enqueueConcurrentRenderForLane(r,v),scheduleUpdateOnFiber(p,r,v),pn;renderDidSuspendDelayIfPossible(),i=retryActivityComponentWithoutHydrating(r,i,l)}else r=y.treeContext,gr=getNextHydratable(v.nextSibling),mr=i,yr=!0,vr=null,br=!1,null!==r&&restoreSuspendedTreeContext(i,r),(i=mountActivityChildren(i,p)).flags|=4096;return i}return(r=createWorkInProgress(r.child,{mode:p.mode,children:p.children})).ref=i.ref,i.child=r,r.return=i,r}(r,i,l);case 22:return updateOffscreenComponent(r,i,l,i.pendingProps);case 24:return prepareToReadContext(i),p=readContext(Er),null===r?(null===(m=peekCacheFromPool())&&(m=An,y=createCache(),m.pooledCache=y,y.refCount++,null!==y&&(m.pooledCacheLanes|=l),m=y),i.memoizedState={parent:p,cache:m},initializeUpdateQueue(i),pushProvider(0,Er,m)):(0!==(r.lanes&l)&&(cloneUpdateQueue(r,i),processUpdateQueue(i,null,null,l),suspendIfUpdateReadFromEntangledAsyncAction()),m=r.memoizedState,y=i.memoizedState,m.parent!==p?(m={parent:p,cache:p},i.memoizedState=m,0===i.lanes&&(i.memoizedState=i.updateQueue.baseState=m),pushProvider(0,Er,p)):(p=y.cache,pushProvider(0,Er,p),p!==m.cache&&propagateContextChanges(i,[Er],l,!0))),reconcileChildren(r,i,i.pendingProps.children,l),i.child;case 29:throw i.pendingProps}throw Error(formatProdErrorMessage(156,i.tag))}function markUpdate(r){r.flags|=4}function preloadInstanceAndSuspendIfNeeded(r,i,l,p,m){if((i=!!(32&r.mode))&&(i=!1),i){if(r.flags|=16777216,(335544128&m)===m)if(r.stateNode.complete)r.flags|=8192;else{if(!shouldRemainOnPreviousScreen())throw Hr=Nr,Lr;r.flags|=8192}}else r.flags&=-16777217}function preloadResourceAndSuspendIfNeeded(r,i){if("stylesheet"!==i.type||4&i.state.loading)r.flags&=-16777217;else if(r.flags|=16777216,!preloadResource(i)){if(!shouldRemainOnPreviousScreen())throw Hr=Nr,Lr;r.flags|=8192}}function scheduleRetryEffect(r,i){null!==i&&(r.flags|=4),16384&r.flags&&(i=22!==r.tag?claimNextRetryLane():536870912,r.lanes|=i,Vn|=i)}function cutOffTailIfNeeded(r,i){if(!yr)switch(r.tailMode){case"hidden":i=r.tail;for(var l=null;null!==i;)null!==i.alternate&&(l=i),i=i.sibling;null===l?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var p=null;null!==l;)null!==l.alternate&&(p=l),l=l.sibling;null===p?i||null===r.tail?r.tail=null:r.tail.sibling=null:p.sibling=null}}function bubbleProperties(r){var i=null!==r.alternate&&r.alternate.child===r.child,l=0,p=0;if(i)for(var m=r.child;null!==m;)l|=m.lanes|m.childLanes,p|=65011712&m.subtreeFlags,p|=65011712&m.flags,m.return=r,m=m.sibling;else for(m=r.child;null!==m;)l|=m.lanes|m.childLanes,p|=m.subtreeFlags,p|=m.flags,m.return=r,m=m.sibling;return r.subtreeFlags|=p,r.childLanes=l,i}function completeWork(r,i,l){var p=i.pendingProps;switch(popTreeContext(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return bubbleProperties(i),null;case 3:return l=i.stateNode,p=null,null!==r&&(p=r.memoizedState.cache),i.memoizedState.cache!==p&&(i.flags|=2048),popProvider(Er),popHostContainer(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),null!==r&&null!==r.child||(popHydrationState(i)?markUpdate(i):null===r||r.memoizedState.isDehydrated&&!(256&i.flags)||(i.flags|=1024,upgradeHydrationErrorsToRecoverable())),bubbleProperties(i),null;case 26:var m=i.type,y=i.memoizedState;return null===r?(markUpdate(i),null!==y?(bubbleProperties(i),preloadResourceAndSuspendIfNeeded(i,y)):(bubbleProperties(i),preloadInstanceAndSuspendIfNeeded(i,m,0,0,l))):y?y!==r.memoizedState?(markUpdate(i),bubbleProperties(i),preloadResourceAndSuspendIfNeeded(i,y)):(bubbleProperties(i),i.flags&=-16777217):((r=r.memoizedProps)!==p&&markUpdate(i),bubbleProperties(i),preloadInstanceAndSuspendIfNeeded(i,m,0,0,l)),null;case 27:if(popHostContext(i),l=J.current,m=i.type,null!==r&&null!=i.stateNode)r.memoizedProps!==p&&markUpdate(i);else{if(!p){if(null===i.stateNode)throw Error(formatProdErrorMessage(166));return bubbleProperties(i),null}r=K.current,popHydrationState(i)?prepareToHydrateHostInstance(i):(r=resolveSingletonInstance(m,p,l),i.stateNode=r,markUpdate(i))}return bubbleProperties(i),null;case 5:if(popHostContext(i),m=i.type,null!==r&&null!=i.stateNode)r.memoizedProps!==p&&markUpdate(i);else{if(!p){if(null===i.stateNode)throw Error(formatProdErrorMessage(166));return bubbleProperties(i),null}if(y=K.current,popHydrationState(i))prepareToHydrateHostInstance(i);else{var v=getOwnerDocumentFromRootContainer(J.current);switch(y){case 1:y=v.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:y=v.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":y=v.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":y=v.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":(y=v.createElement("div")).innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y="string"==typeof p.is?v.createElement("select",{is:p.is}):v.createElement("select"),p.multiple?y.multiple=!0:p.size&&(y.size=p.size);break;default:y="string"==typeof p.is?v.createElement(m,{is:p.is}):v.createElement(m)}}y[Ce]=i,y[Pe]=p;e:for(v=i.child;null!==v;){if(5===v.tag||6===v.tag)y.appendChild(v.stateNode);else if(4!==v.tag&&27!==v.tag&&null!==v.child){v.child.return=v,v=v.child;continue}if(v===i)break e;for(;null===v.sibling;){if(null===v.return||v.return===i)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}i.stateNode=y;e:switch(setInitialProperties(y,m,p),m){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&markUpdate(i)}}return bubbleProperties(i),preloadInstanceAndSuspendIfNeeded(i,i.type,null===r||r.memoizedProps,i.pendingProps,l),null;case 6:if(r&&null!=i.stateNode)r.memoizedProps!==p&&markUpdate(i);else{if("string"!=typeof p&&null===i.stateNode)throw Error(formatProdErrorMessage(166));if(r=J.current,popHydrationState(i)){if(r=i.stateNode,l=i.memoizedProps,p=null,null!==(m=mr))switch(m.tag){case 27:case 5:p=m.memoizedProps}r[Ce]=i,(r=!!(r.nodeValue===l||null!==p&&!0===p.suppressHydrationWarning||checkForUnmatchedText(r.nodeValue,l)))||throwOnHydrationMismatch(i,!0)}else(r=getOwnerDocumentFromRootContainer(r).createTextNode(p))[Ce]=i,i.stateNode=r}return bubbleProperties(i),null;case 31:if(l=i.memoizedState,null===r||null!==r.memoizedState){if(p=popHydrationState(i),null!==l){if(null===r){if(!p)throw Error(formatProdErrorMessage(318));if(!(r=null!==(r=i.memoizedState)?r.dehydrated:null))throw Error(formatProdErrorMessage(557));r[Ce]=i}else resetHydrationState(),!(128&i.flags)&&(i.memoizedState=null),i.flags|=4;bubbleProperties(i),r=!1}else l=upgradeHydrationErrorsToRecoverable(),null!==r&&null!==r.memoizedState&&(r.memoizedState.hydrationErrors=l),r=!0;if(!r)return 256&i.flags?(popSuspenseHandler(i),i):(popSuspenseHandler(i),null);if(128&i.flags)throw Error(formatProdErrorMessage(558))}return bubbleProperties(i),null;case 13:if(p=i.memoizedState,null===r||null!==r.memoizedState&&null!==r.memoizedState.dehydrated){if(m=popHydrationState(i),null!==p&&null!==p.dehydrated){if(null===r){if(!m)throw Error(formatProdErrorMessage(318));if(!(m=null!==(m=i.memoizedState)?m.dehydrated:null))throw Error(formatProdErrorMessage(317));m[Ce]=i}else resetHydrationState(),!(128&i.flags)&&(i.memoizedState=null),i.flags|=4;bubbleProperties(i),m=!1}else m=upgradeHydrationErrorsToRecoverable(),null!==r&&null!==r.memoizedState&&(r.memoizedState.hydrationErrors=m),m=!0;if(!m)return 256&i.flags?(popSuspenseHandler(i),i):(popSuspenseHandler(i),null)}return popSuspenseHandler(i),128&i.flags?(i.lanes=l,i):(l=null!==p,r=null!==r&&null!==r.memoizedState,l&&(m=null,null!==(p=i.child).alternate&&null!==p.alternate.memoizedState&&null!==p.alternate.memoizedState.cachePool&&(m=p.alternate.memoizedState.cachePool.pool),y=null,null!==p.memoizedState&&null!==p.memoizedState.cachePool&&(y=p.memoizedState.cachePool.pool),y!==m&&(p.flags|=2048)),l!==r&&l&&(i.child.flags|=8192),scheduleRetryEffect(i,i.updateQueue),bubbleProperties(i),null);case 4:return popHostContainer(),null===r&&listenToAllSupportedEvents(i.stateNode.containerInfo),bubbleProperties(i),null;case 10:return popProvider(i.type),bubbleProperties(i),null;case 19:if(pop2(Xr),null===(p=i.memoizedState))return bubbleProperties(i),null;if(m=!!(128&i.flags),null===(y=p.rendering))if(m)cutOffTailIfNeeded(p,!1);else{if(0!==Hn||null!==r&&128&r.flags)for(r=i.child;null!==r;){if(null!==(y=findFirstSuspended(r))){for(i.flags|=128,cutOffTailIfNeeded(p,!1),r=y.updateQueue,i.updateQueue=r,scheduleRetryEffect(i,r),i.subtreeFlags=0,r=l,l=i.child;null!==l;)resetWorkInProgress(l,r),l=l.sibling;return push(Xr,1&Xr.current|2),yr&&pushTreeFork(i,p.treeForkCount),i.child}r=r.sibling}null!==p.tail&&oe()>Xn&&(i.flags|=128,m=!0,cutOffTailIfNeeded(p,!1),i.lanes=4194304)}else{if(!m)if(null!==(r=findFirstSuspended(y))){if(i.flags|=128,m=!0,r=r.updateQueue,i.updateQueue=r,scheduleRetryEffect(i,r),cutOffTailIfNeeded(p,!0),null===p.tail&&"hidden"===p.tailMode&&!y.alternate&&!yr)return bubbleProperties(i),null}else 2*oe()-p.renderingStartTime>Xn&&536870912!==l&&(i.flags|=128,m=!0,cutOffTailIfNeeded(p,!1),i.lanes=4194304);p.isBackwards?(y.sibling=i.child,i.child=y):(null!==(r=p.last)?r.sibling=y:i.child=y,p.last=y)}return null!==p.tail?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=oe(),r.sibling=null,l=Xr.current,push(Xr,m?1&l|2:1&l),yr&&pushTreeFork(i,p.treeForkCount),r):(bubbleProperties(i),null);case 22:case 23:return popSuspenseHandler(i),popHiddenContext(),p=null!==i.memoizedState,null!==r?null!==r.memoizedState!==p&&(i.flags|=8192):p&&(i.flags|=8192),p?!!(536870912&l)&&!(128&i.flags)&&(bubbleProperties(i),6&i.subtreeFlags&&(i.flags|=8192)):bubbleProperties(i),null!==(l=i.updateQueue)&&scheduleRetryEffect(i,l.retryQueue),l=null,null!==r&&null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(l=r.memoizedState.cachePool.pool),p=null,null!==i.memoizedState&&null!==i.memoizedState.cachePool&&(p=i.memoizedState.cachePool.pool),p!==l&&(i.flags|=2048),null!==r&&pop2(Fr),null;case 24:return l=null,null!==r&&(l=r.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),popProvider(Er),bubbleProperties(i),null;case 25:case 30:return null}throw Error(formatProdErrorMessage(156,i.tag))}function unwindWork(r,i){switch(popTreeContext(i),i.tag){case 1:return 65536&(r=i.flags)?(i.flags=-65537&r|128,i):null;case 3:return popProvider(Er),popHostContainer(),65536&(r=i.flags)&&!(128&r)?(i.flags=-65537&r|128,i):null;case 26:case 27:case 5:return popHostContext(i),null;case 31:if(null!==i.memoizedState){if(popSuspenseHandler(i),null===i.alternate)throw Error(formatProdErrorMessage(340));resetHydrationState()}return 65536&(r=i.flags)?(i.flags=-65537&r|128,i):null;case 13:if(popSuspenseHandler(i),null!==(r=i.memoizedState)&&null!==r.dehydrated){if(null===i.alternate)throw Error(formatProdErrorMessage(340));resetHydrationState()}return 65536&(r=i.flags)?(i.flags=-65537&r|128,i):null;case 19:return pop2(Xr),null;case 4:return popHostContainer(),null;case 10:return popProvider(i.type),null;case 22:case 23:return popSuspenseHandler(i),popHiddenContext(),null!==r&&pop2(Fr),65536&(r=i.flags)?(i.flags=-65537&r|128,i):null;case 24:return popProvider(Er),null;default:return null}}function unwindInterruptedWork(r,i){switch(popTreeContext(i),i.tag){case 3:popProvider(Er),popHostContainer();break;case 26:case 27:case 5:popHostContext(i);break;case 4:popHostContainer();break;case 31:null!==i.memoizedState&&popSuspenseHandler(i);break;case 13:popSuspenseHandler(i);break;case 19:pop2(Xr);break;case 10:popProvider(i.type);break;case 22:case 23:popSuspenseHandler(i),popHiddenContext(),null!==r&&pop2(Fr);break;case 24:popProvider(Er)}}function commitHookEffectListMount(r,i){try{var l=i.updateQueue,p=null!==l?l.lastEffect:null;if(null!==p){var m=p.next;l=m;do{if((l.tag&r)===r){p=void 0;var y=l.create,v=l.inst;p=y(),v.destroy=p}l=l.next}while(l!==m)}}catch(_){captureCommitPhaseError(i,i.return,_)}}function commitHookEffectListUnmount(r,i,l){try{var p=i.updateQueue,m=null!==p?p.lastEffect:null;if(null!==m){var y=m.next;p=y;do{if((p.tag&r)===r){var v=p.inst,_=v.destroy;if(void 0!==_){v.destroy=void 0,m=i;var x=l,S=_;try{S()}catch(k){captureCommitPhaseError(m,x,k)}}}p=p.next}while(p!==y)}}catch(k){captureCommitPhaseError(i,i.return,k)}}function commitClassCallbacks(r){var i=r.updateQueue;if(null!==i){var l=r.stateNode;try{commitCallbacks(i,l)}catch(p){captureCommitPhaseError(r,r.return,p)}}}function safelyCallComponentWillUnmount(r,i,l){l.props=resolveClassComponentProps(r.type,r.memoizedProps),l.state=r.memoizedState;try{l.componentWillUnmount()}catch(p){captureCommitPhaseError(r,i,p)}}function safelyAttachRef(r,i){try{var l=r.ref;if(null!==l){switch(r.tag){case 26:case 27:case 5:var p=r.stateNode;break;default:p=r.stateNode}"function"==typeof l?r.refCleanup=l(p):l.current=p}}catch(m){captureCommitPhaseError(r,i,m)}}function safelyDetachRef(r,i){var l=r.ref,p=r.refCleanup;if(null!==l)if("function"==typeof p)try{p()}catch(m){captureCommitPhaseError(r,i,m)}finally{r.refCleanup=null,null!=(r=r.alternate)&&(r.refCleanup=null)}else if("function"==typeof l)try{l(null)}catch(y){captureCommitPhaseError(r,i,y)}else l.current=null}function commitHostMount(r){var i=r.type,l=r.memoizedProps,p=r.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":l.autoFocus&&p.focus();break e;case"img":l.src?p.src=l.src:l.srcSet&&(p.srcset=l.srcSet)}}catch(m){captureCommitPhaseError(r,r.return,m)}}function commitHostUpdate(r,i,l){try{var p=r.stateNode;!function updateProperties(r,i,l,p){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,v=null,_=null,x=null,S=null,k=null;for(E in l){var C=l[E];if(l.hasOwnProperty(E)&&null!=C)switch(E){case"checked":case"value":break;case"defaultValue":x=C;default:p.hasOwnProperty(E)||setProp(r,i,E,null,p,C)}}for(var P in p){var E=p[P];if(C=l[P],p.hasOwnProperty(P)&&(null!=E||null!=C))switch(P){case"type":y=E;break;case"name":m=E;break;case"checked":S=E;break;case"defaultChecked":k=E;break;case"value":v=E;break;case"defaultValue":_=E;break;case"children":case"dangerouslySetInnerHTML":if(null!=E)throw Error(formatProdErrorMessage(137,i));break;default:E!==C&&setProp(r,i,P,E,p,C)}}return void updateInput(r,v,_,x,S,k,y,m);case"select":for(y in E=v=_=P=null,l)if(x=l[y],l.hasOwnProperty(y)&&null!=x)switch(y){case"value":break;case"multiple":E=x;default:p.hasOwnProperty(y)||setProp(r,i,y,null,p,x)}for(m in p)if(y=p[m],x=l[m],p.hasOwnProperty(m)&&(null!=y||null!=x))switch(m){case"value":P=y;break;case"defaultValue":_=y;break;case"multiple":v=y;default:y!==x&&setProp(r,i,m,y,p,x)}return i=_,l=v,p=E,void(null!=P?updateOptions(r,!!l,P,!1):!!p!=!!l&&(null!=i?updateOptions(r,!!l,i,!0):updateOptions(r,!!l,l?[]:"",!1)));case"textarea":for(_ in E=P=null,l)if(m=l[_],l.hasOwnProperty(_)&&null!=m&&!p.hasOwnProperty(_))switch(_){case"value":case"children":break;default:setProp(r,i,_,null,p,m)}for(v in p)if(m=p[v],y=l[v],p.hasOwnProperty(v)&&(null!=m||null!=y))switch(v){case"value":P=m;break;case"defaultValue":E=m;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=m)throw Error(formatProdErrorMessage(91));break;default:m!==y&&setProp(r,i,v,m,p,y)}return void updateTextarea(r,P,E);case"option":for(var T in l)if(P=l[T],l.hasOwnProperty(T)&&null!=P&&!p.hasOwnProperty(T))if("selected"===T)r.selected=!1;else setProp(r,i,T,null,p,P);for(x in p)if(P=p[x],E=l[x],p.hasOwnProperty(x)&&P!==E&&(null!=P||null!=E))if("selected"===x)r.selected=P&&"function"!=typeof P&&"symbol"!=typeof P;else setProp(r,i,x,P,p,E);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var A in l)P=l[A],l.hasOwnProperty(A)&&null!=P&&!p.hasOwnProperty(A)&&setProp(r,i,A,null,p,P);for(S in p)if(P=p[S],E=l[S],p.hasOwnProperty(S)&&P!==E&&(null!=P||null!=E))switch(S){case"children":case"dangerouslySetInnerHTML":if(null!=P)throw Error(formatProdErrorMessage(137,i));break;default:setProp(r,i,S,P,p,E)}return;default:if(isCustomElement(i)){for(var I in l)P=l[I],l.hasOwnProperty(I)&&void 0!==P&&!p.hasOwnProperty(I)&&setPropOnCustomElement(r,i,I,void 0,p,P);for(k in p)P=p[k],E=l[k],!p.hasOwnProperty(k)||P===E||void 0===P&&void 0===E||setPropOnCustomElement(r,i,k,P,p,E);return}}for(var R in l)P=l[R],l.hasOwnProperty(R)&&null!=P&&!p.hasOwnProperty(R)&&setProp(r,i,R,null,p,P);for(C in p)P=p[C],E=l[C],!p.hasOwnProperty(C)||P===E||null==P&&null==E||setProp(r,i,C,P,p,E)}(p,r.type,l,i),p[Pe]=i}catch(m){captureCommitPhaseError(r,r.return,m)}}function isHostParent(r){return 5===r.tag||3===r.tag||26===r.tag||27===r.tag&&isSingletonScope(r.type)||4===r.tag}function getHostSibling(r){e:for(;;){for(;null===r.sibling;){if(null===r.return||isHostParent(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;5!==r.tag&&6!==r.tag&&18!==r.tag;){if(27===r.tag&&isSingletonScope(r.type))continue e;if(2&r.flags)continue e;if(null===r.child||4===r.tag)continue e;r.child.return=r,r=r.child}if(!(2&r.flags))return r.stateNode}}function insertOrAppendPlacementNodeIntoContainer(r,i,l){var p=r.tag;if(5===p||6===p)r=r.stateNode,i?(9===l.nodeType?l.body:"HTML"===l.nodeName?l.ownerDocument.body:l).insertBefore(r,i):((i=9===l.nodeType?l.body:"HTML"===l.nodeName?l.ownerDocument.body:l).appendChild(r),null!=(l=l._reactRootContainer)||null!==i.onclick||(i.onclick=noop$1));else if(4!==p&&(27===p&&isSingletonScope(r.type)&&(l=r.stateNode,i=null),null!==(r=r.child)))for(insertOrAppendPlacementNodeIntoContainer(r,i,l),r=r.sibling;null!==r;)insertOrAppendPlacementNodeIntoContainer(r,i,l),r=r.sibling}function insertOrAppendPlacementNode(r,i,l){var p=r.tag;if(5===p||6===p)r=r.stateNode,i?l.insertBefore(r,i):l.appendChild(r);else if(4!==p&&(27===p&&isSingletonScope(r.type)&&(l=r.stateNode),null!==(r=r.child)))for(insertOrAppendPlacementNode(r,i,l),r=r.sibling;null!==r;)insertOrAppendPlacementNode(r,i,l),r=r.sibling}function commitHostSingletonAcquisition(r){var i=r.stateNode,l=r.memoizedProps;try{for(var p=r.type,m=i.attributes;m.length;)i.removeAttributeNode(m[0]);setInitialProperties(i,p,l),i[Ce]=r,i[Pe]=l}catch(y){captureCommitPhaseError(r,r.return,y)}}var yn=!1,vn=!1,bn=!1,_n="function"==typeof WeakSet?WeakSet:Set,xn=null;function commitLayoutEffectOnFiber(r,i,l){var p=l.flags;switch(l.tag){case 0:case 11:case 15:recursivelyTraverseLayoutEffects(r,l),4&p&&commitHookEffectListMount(5,l);break;case 1:if(recursivelyTraverseLayoutEffects(r,l),4&p)if(r=l.stateNode,null===i)try{r.componentDidMount()}catch(v){captureCommitPhaseError(l,l.return,v)}else{var m=resolveClassComponentProps(l.type,i.memoizedProps);i=i.memoizedState;try{r.componentDidUpdate(m,i,r.__reactInternalSnapshotBeforeUpdate)}catch(_){captureCommitPhaseError(l,l.return,_)}}64&p&&commitClassCallbacks(l),512&p&&safelyAttachRef(l,l.return);break;case 3:if(recursivelyTraverseLayoutEffects(r,l),64&p&&null!==(r=l.updateQueue)){if(i=null,null!==l.child)switch(l.child.tag){case 27:case 5:case 1:i=l.child.stateNode}try{commitCallbacks(r,i)}catch(v){captureCommitPhaseError(l,l.return,v)}}break;case 27:null===i&&4&p&&commitHostSingletonAcquisition(l);case 26:case 5:recursivelyTraverseLayoutEffects(r,l),null===i&&4&p&&commitHostMount(l),512&p&&safelyAttachRef(l,l.return);break;case 12:recursivelyTraverseLayoutEffects(r,l);break;case 31:recursivelyTraverseLayoutEffects(r,l),4&p&&commitActivityHydrationCallbacks(r,l);break;case 13:recursivelyTraverseLayoutEffects(r,l),4&p&&commitSuspenseHydrationCallbacks(r,l),64&p&&(null!==(r=l.memoizedState)&&(null!==(r=r.dehydrated)&&function registerSuspenseInstanceRetry(r,i){var l=r.ownerDocument;if("$~"===r.data)r._reactRetry=i;else if("$?"!==r.data||"loading"!==l.readyState)i();else{var listener=function(){i(),l.removeEventListener("DOMContentLoaded",listener)};l.addEventListener("DOMContentLoaded",listener),r._reactRetry=listener}}(r,l=retryDehydratedSuspenseBoundary.bind(null,l))));break;case 22:if(!(p=null!==l.memoizedState||yn)){i=null!==i&&null!==i.memoizedState||vn,m=yn;var y=vn;yn=p,(vn=i)&&!y?recursivelyTraverseReappearLayoutEffects(r,l,!!(8772&l.subtreeFlags)):recursivelyTraverseLayoutEffects(r,l),yn=m,vn=y}break;case 30:break;default:recursivelyTraverseLayoutEffects(r,l)}}function detachFiberAfterEffects(r){var i=r.alternate;null!==i&&(r.alternate=null,detachFiberAfterEffects(i)),r.child=null,r.deletions=null,r.sibling=null,5===r.tag&&(null!==(i=r.stateNode)&&detachDeletedInstance(i)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Sn=null,wn=!1;function recursivelyTraverseDeletionEffects(r,i,l){for(l=l.child;null!==l;)commitDeletionEffectsOnFiber(r,i,l),l=l.sibling}function commitDeletionEffectsOnFiber(r,i,l){if(ye&&"function"==typeof ye.onCommitFiberUnmount)try{ye.onCommitFiberUnmount(ge,l)}catch(y){}switch(l.tag){case 26:vn||safelyDetachRef(l,i),recursivelyTraverseDeletionEffects(r,i,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode).parentNode.removeChild(l);break;case 27:vn||safelyDetachRef(l,i);var p=Sn,m=wn;isSingletonScope(l.type)&&(Sn=l.stateNode,wn=!1),recursivelyTraverseDeletionEffects(r,i,l),releaseSingletonInstance(l.stateNode),Sn=p,wn=m;break;case 5:vn||safelyDetachRef(l,i);case 6:if(p=Sn,m=wn,Sn=null,recursivelyTraverseDeletionEffects(r,i,l),wn=m,null!==(Sn=p))if(wn)try{(9===Sn.nodeType?Sn.body:"HTML"===Sn.nodeName?Sn.ownerDocument.body:Sn).removeChild(l.stateNode)}catch(v){captureCommitPhaseError(l,i,v)}else try{Sn.removeChild(l.stateNode)}catch(v){captureCommitPhaseError(l,i,v)}break;case 18:null!==Sn&&(wn?(clearHydrationBoundary(9===(r=Sn).nodeType?r.body:"HTML"===r.nodeName?r.ownerDocument.body:r,l.stateNode),retryIfBlockedOn(r)):clearHydrationBoundary(Sn,l.stateNode));break;case 4:p=Sn,m=wn,Sn=l.stateNode.containerInfo,wn=!0,recursivelyTraverseDeletionEffects(r,i,l),Sn=p,wn=m;break;case 0:case 11:case 14:case 15:commitHookEffectListUnmount(2,l,i),vn||commitHookEffectListUnmount(4,l,i),recursivelyTraverseDeletionEffects(r,i,l);break;case 1:vn||(safelyDetachRef(l,i),"function"==typeof(p=l.stateNode).componentWillUnmount&&safelyCallComponentWillUnmount(l,i,p)),recursivelyTraverseDeletionEffects(r,i,l);break;case 21:recursivelyTraverseDeletionEffects(r,i,l);break;case 22:vn=(p=vn)||null!==l.memoizedState,recursivelyTraverseDeletionEffects(r,i,l),vn=p;break;default:recursivelyTraverseDeletionEffects(r,i,l)}}function commitActivityHydrationCallbacks(r,i){if(null===i.memoizedState&&(null!==(r=i.alternate)&&null!==(r=r.memoizedState))){r=r.dehydrated;try{retryIfBlockedOn(r)}catch(l){captureCommitPhaseError(i,i.return,l)}}}function commitSuspenseHydrationCallbacks(r,i){if(null===i.memoizedState&&(null!==(r=i.alternate)&&(null!==(r=r.memoizedState)&&null!==(r=r.dehydrated))))try{retryIfBlockedOn(r)}catch(l){captureCommitPhaseError(i,i.return,l)}}function attachSuspenseRetryListeners(r,i){var l=function getRetryCache(r){switch(r.tag){case 31:case 13:case 19:var i=r.stateNode;return null===i&&(i=r.stateNode=new _n),i;case 22:return null===(i=(r=r.stateNode)._retryCache)&&(i=r._retryCache=new _n),i;default:throw Error(formatProdErrorMessage(435,r.tag))}}(r);i.forEach(function(i){if(!l.has(i)){l.add(i);var p=resolveRetryWakeable.bind(null,r,i);i.then(p,p)}})}function recursivelyTraverseMutationEffects(r,i){var l=i.deletions;if(null!==l)for(var p=0;p<l.length;p++){var m=l[p],y=r,v=i,_=v;e:for(;null!==_;){switch(_.tag){case 27:if(isSingletonScope(_.type)){Sn=_.stateNode,wn=!1;break e}break;case 5:Sn=_.stateNode,wn=!1;break e;case 3:case 4:Sn=_.stateNode.containerInfo,wn=!0;break e}_=_.return}if(null===Sn)throw Error(formatProdErrorMessage(160));commitDeletionEffectsOnFiber(y,v,m),Sn=null,wn=!1,null!==(y=m.alternate)&&(y.return=null),m.return=null}if(13886&i.subtreeFlags)for(i=i.child;null!==i;)commitMutationEffectsOnFiber(i,r),i=i.sibling}var kn=null;function commitMutationEffectsOnFiber(r,i){var l=r.alternate,p=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:recursivelyTraverseMutationEffects(i,r),commitReconciliationEffects(r),4&p&&(commitHookEffectListUnmount(3,r,r.return),commitHookEffectListMount(3,r),commitHookEffectListUnmount(5,r,r.return));break;case 1:recursivelyTraverseMutationEffects(i,r),commitReconciliationEffects(r),512&p&&(vn||null===l||safelyDetachRef(l,l.return)),64&p&&yn&&(null!==(r=r.updateQueue)&&(null!==(p=r.callbacks)&&(l=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=null===l?p:l.concat(p))));break;case 26:var m=kn;if(recursivelyTraverseMutationEffects(i,r),commitReconciliationEffects(r),512&p&&(vn||null===l||safelyDetachRef(l,l.return)),4&p){var y=null!==l?l.memoizedState:null;if(p=r.memoizedState,null===l)if(null===p)if(null===r.stateNode){e:{p=r.type,l=r.memoizedProps,m=m.ownerDocument||m;t:switch(p){case"title":(!(y=m.getElementsByTagName("title")[0])||y[Re]||y[Ce]||"http://www.w3.org/2000/svg"===y.namespaceURI||y.hasAttribute("itemprop"))&&(y=m.createElement(p),m.head.insertBefore(y,m.querySelector("head > title"))),setInitialProperties(y,p,l),y[Ce]=r,markNodeAsHoistable(y),p=y;break e;case"link":var v=getHydratableHoistableCache("link","href",m).get(p+(l.href||""));if(v)for(var _=0;_<v.length;_++)if((y=v[_]).getAttribute("href")===(null==l.href||""===l.href?null:l.href)&&y.getAttribute("rel")===(null==l.rel?null:l.rel)&&y.getAttribute("title")===(null==l.title?null:l.title)&&y.getAttribute("crossorigin")===(null==l.crossOrigin?null:l.crossOrigin)){v.splice(_,1);break t}setInitialProperties(y=m.createElement(p),p,l),m.head.appendChild(y);break;case"meta":if(v=getHydratableHoistableCache("meta","content",m).get(p+(l.content||"")))for(_=0;_<v.length;_++)if((y=v[_]).getAttribute("content")===(null==l.content?null:""+l.content)&&y.getAttribute("name")===(null==l.name?null:l.name)&&y.getAttribute("property")===(null==l.property?null:l.property)&&y.getAttribute("http-equiv")===(null==l.httpEquiv?null:l.httpEquiv)&&y.getAttribute("charset")===(null==l.charSet?null:l.charSet)){v.splice(_,1);break t}setInitialProperties(y=m.createElement(p),p,l),m.head.appendChild(y);break;default:throw Error(formatProdErrorMessage(468,p))}y[Ce]=r,markNodeAsHoistable(y),p=y}r.stateNode=p}else mountHoistable(m,r.type,r.stateNode);else r.stateNode=acquireResource(m,p,r.memoizedProps);else y!==p?(null===y?null!==l.stateNode&&(l=l.stateNode).parentNode.removeChild(l):y.count--,null===p?mountHoistable(m,r.type,r.stateNode):acquireResource(m,p,r.memoizedProps)):null===p&&null!==r.stateNode&&commitHostUpdate(r,r.memoizedProps,l.memoizedProps)}break;case 27:recursivelyTraverseMutationEffects(i,r),commitReconciliationEffects(r),512&p&&(vn||null===l||safelyDetachRef(l,l.return)),null!==l&&4&p&&commitHostUpdate(r,r.memoizedProps,l.memoizedProps);break;case 5:if(recursivelyTraverseMutationEffects(i,r),commitReconciliationEffects(r),512&p&&(vn||null===l||safelyDetachRef(l,l.return)),32&r.flags){m=r.stateNode;try{setTextContent(m,"")}catch(T){captureCommitPhaseError(r,r.return,T)}}4&p&&null!=r.stateNode&&commitHostUpdate(r,m=r.memoizedProps,null!==l?l.memoizedProps:m),1024&p&&(bn=!0);break;case 6:if(recursivelyTraverseMutationEffects(i,r),commitReconciliationEffects(r),4&p){if(null===r.stateNode)throw Error(formatProdErrorMessage(162));p=r.memoizedProps,l=r.stateNode;try{l.nodeValue=p}catch(T){captureCommitPhaseError(r,r.return,T)}}break;case 3:if(Ri=null,m=kn,kn=getHoistableRoot(i.containerInfo),recursivelyTraverseMutationEffects(i,r),kn=m,commitReconciliationEffects(r),4&p&&null!==l&&l.memoizedState.isDehydrated)try{retryIfBlockedOn(i.containerInfo)}catch(T){captureCommitPhaseError(r,r.return,T)}bn&&(bn=!1,recursivelyResetForms(r));break;case 4:p=kn,kn=getHoistableRoot(r.stateNode.containerInfo),recursivelyTraverseMutationEffects(i,r),commitReconciliationEffects(r),kn=p;break;case 12:default:recursivelyTraverseMutationEffects(i,r),commitReconciliationEffects(r);break;case 31:case 19:recursivelyTraverseMutationEffects(i,r),commitReconciliationEffects(r),4&p&&(null!==(p=r.updateQueue)&&(r.updateQueue=null,attachSuspenseRetryListeners(r,p)));break;case 13:recursivelyTraverseMutationEffects(i,r),commitReconciliationEffects(r),8192&r.child.flags&&null!==r.memoizedState!=(null!==l&&null!==l.memoizedState)&&(qn=oe()),4&p&&(null!==(p=r.updateQueue)&&(r.updateQueue=null,attachSuspenseRetryListeners(r,p)));break;case 22:m=null!==r.memoizedState;var x=null!==l&&null!==l.memoizedState,S=yn,k=vn;if(yn=S||m,vn=k||x,recursivelyTraverseMutationEffects(i,r),vn=k,yn=S,commitReconciliationEffects(r),8192&p)e:for(i=r.stateNode,i._visibility=m?-2&i._visibility:1|i._visibility,m&&(null===l||x||yn||vn||recursivelyTraverseDisappearLayoutEffects(r)),l=null,i=r;;){if(5===i.tag||26===i.tag){if(null===l){x=l=i;try{if(y=x.stateNode,m)"function"==typeof(v=y.style).setProperty?v.setProperty("display","none","important"):v.display="none";else{_=x.stateNode;var C=x.memoizedProps.style,P=null!=C&&C.hasOwnProperty("display")?C.display:null;_.style.display=null==P||"boolean"==typeof P?"":(""+P).trim()}}catch(T){captureCommitPhaseError(x,x.return,T)}}}else if(6===i.tag){if(null===l){x=i;try{x.stateNode.nodeValue=m?"":x.memoizedProps}catch(T){captureCommitPhaseError(x,x.return,T)}}}else if(18===i.tag){if(null===l){x=i;try{var E=x.stateNode;m?hideOrUnhideDehydratedBoundary(E,!0):hideOrUnhideDehydratedBoundary(x.stateNode,!1)}catch(T){captureCommitPhaseError(x,x.return,T)}}}else if((22!==i.tag&&23!==i.tag||null===i.memoizedState||i===r)&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;null===i.sibling;){if(null===i.return||i.return===r)break e;l===i&&(l=null),i=i.return}l===i&&(l=null),i.sibling.return=i.return,i=i.sibling}4&p&&(null!==(p=r.updateQueue)&&(null!==(l=p.retryQueue)&&(p.retryQueue=null,attachSuspenseRetryListeners(r,l))));case 30:case 21:}}function commitReconciliationEffects(r){var i=r.flags;if(2&i){try{for(var l,p=r.return;null!==p;){if(isHostParent(p)){l=p;break}p=p.return}if(null==l)throw Error(formatProdErrorMessage(160));switch(l.tag){case 27:var m=l.stateNode;insertOrAppendPlacementNode(r,getHostSibling(r),m);break;case 5:var y=l.stateNode;32&l.flags&&(setTextContent(y,""),l.flags&=-33),insertOrAppendPlacementNode(r,getHostSibling(r),y);break;case 3:case 4:var v=l.stateNode.containerInfo;insertOrAppendPlacementNodeIntoContainer(r,getHostSibling(r),v);break;default:throw Error(formatProdErrorMessage(161))}}catch(_){captureCommitPhaseError(r,r.return,_)}r.flags&=-3}4096&i&&(r.flags&=-4097)}function recursivelyResetForms(r){if(1024&r.subtreeFlags)for(r=r.child;null!==r;){var i=r;recursivelyResetForms(i),5===i.tag&&1024&i.flags&&i.stateNode.reset(),r=r.sibling}}function recursivelyTraverseLayoutEffects(r,i){if(8772&i.subtreeFlags)for(i=i.child;null!==i;)commitLayoutEffectOnFiber(r,i.alternate,i),i=i.sibling}function recursivelyTraverseDisappearLayoutEffects(r){for(r=r.child;null!==r;){var i=r;switch(i.tag){case 0:case 11:case 14:case 15:commitHookEffectListUnmount(4,i,i.return),recursivelyTraverseDisappearLayoutEffects(i);break;case 1:safelyDetachRef(i,i.return);var l=i.stateNode;"function"==typeof l.componentWillUnmount&&safelyCallComponentWillUnmount(i,i.return,l),recursivelyTraverseDisappearLayoutEffects(i);break;case 27:releaseSingletonInstance(i.stateNode);case 26:case 5:safelyDetachRef(i,i.return),recursivelyTraverseDisappearLayoutEffects(i);break;case 22:null===i.memoizedState&&recursivelyTraverseDisappearLayoutEffects(i);break;default:recursivelyTraverseDisappearLayoutEffects(i)}r=r.sibling}}function recursivelyTraverseReappearLayoutEffects(r,i,l){for(l=l&&!!(8772&i.subtreeFlags),i=i.child;null!==i;){var p=i.alternate,m=r,y=i,v=y.flags;switch(y.tag){case 0:case 11:case 15:recursivelyTraverseReappearLayoutEffects(m,y,l),commitHookEffectListMount(4,y);break;case 1:if(recursivelyTraverseReappearLayoutEffects(m,y,l),"function"==typeof(m=(p=y).stateNode).componentDidMount)try{m.componentDidMount()}catch(S){captureCommitPhaseError(p,p.return,S)}if(null!==(m=(p=y).updateQueue)){var _=p.stateNode;try{var x=m.shared.hiddenCallbacks;if(null!==x)for(m.shared.hiddenCallbacks=null,m=0;m<x.length;m++)callCallback(x[m],_)}catch(S){captureCommitPhaseError(p,p.return,S)}}l&&64&v&&commitClassCallbacks(y),safelyAttachRef(y,y.return);break;case 27:commitHostSingletonAcquisition(y);case 26:case 5:recursivelyTraverseReappearLayoutEffects(m,y,l),l&&null===p&&4&v&&commitHostMount(y),safelyAttachRef(y,y.return);break;case 12:recursivelyTraverseReappearLayoutEffects(m,y,l);break;case 31:recursivelyTraverseReappearLayoutEffects(m,y,l),l&&4&v&&commitActivityHydrationCallbacks(m,y);break;case 13:recursivelyTraverseReappearLayoutEffects(m,y,l),l&&4&v&&commitSuspenseHydrationCallbacks(m,y);break;case 22:null===y.memoizedState&&recursivelyTraverseReappearLayoutEffects(m,y,l),safelyAttachRef(y,y.return);break;case 30:break;default:recursivelyTraverseReappearLayoutEffects(m,y,l)}i=i.sibling}}function commitOffscreenPassiveMountEffects(r,i){var l=null;null!==r&&null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(l=r.memoizedState.cachePool.pool),r=null,null!==i.memoizedState&&null!==i.memoizedState.cachePool&&(r=i.memoizedState.cachePool.pool),r!==l&&(null!=r&&r.refCount++,null!=l&&releaseCache(l))}function commitCachePassiveMountEffect(r,i){r=null,null!==i.alternate&&(r=i.alternate.memoizedState.cache),(i=i.memoizedState.cache)!==r&&(i.refCount++,null!=r&&releaseCache(r))}function recursivelyTraversePassiveMountEffects(r,i,l,p){if(10256&i.subtreeFlags)for(i=i.child;null!==i;)commitPassiveMountOnFiber(r,i,l,p),i=i.sibling}function commitPassiveMountOnFiber(r,i,l,p){var m=i.flags;switch(i.tag){case 0:case 11:case 15:recursivelyTraversePassiveMountEffects(r,i,l,p),2048&m&&commitHookEffectListMount(9,i);break;case 1:case 31:case 13:default:recursivelyTraversePassiveMountEffects(r,i,l,p);break;case 3:recursivelyTraversePassiveMountEffects(r,i,l,p),2048&m&&(r=null,null!==i.alternate&&(r=i.alternate.memoizedState.cache),(i=i.memoizedState.cache)!==r&&(i.refCount++,null!=r&&releaseCache(r)));break;case 12:if(2048&m){recursivelyTraversePassiveMountEffects(r,i,l,p),r=i.stateNode;try{var y=i.memoizedProps,v=y.id,_=y.onPostCommit;"function"==typeof _&&_(v,null===i.alternate?"mount":"update",r.passiveEffectDuration,-0)}catch(x){captureCommitPhaseError(i,i.return,x)}}else recursivelyTraversePassiveMountEffects(r,i,l,p);break;case 23:break;case 22:y=i.stateNode,v=i.alternate,null!==i.memoizedState?2&y._visibility?recursivelyTraversePassiveMountEffects(r,i,l,p):recursivelyTraverseAtomicPassiveEffects(r,i):2&y._visibility?recursivelyTraversePassiveMountEffects(r,i,l,p):(y._visibility|=2,recursivelyTraverseReconnectPassiveEffects(r,i,l,p,!!(10256&i.subtreeFlags)||!1)),2048&m&&commitOffscreenPassiveMountEffects(v,i);break;case 24:recursivelyTraversePassiveMountEffects(r,i,l,p),2048&m&&commitCachePassiveMountEffect(i.alternate,i)}}function recursivelyTraverseReconnectPassiveEffects(r,i,l,p,m){for(m=m&&(!!(10256&i.subtreeFlags)||!1),i=i.child;null!==i;){var y=r,v=i,_=l,x=p,S=v.flags;switch(v.tag){case 0:case 11:case 15:recursivelyTraverseReconnectPassiveEffects(y,v,_,x,m),commitHookEffectListMount(8,v);break;case 23:break;case 22:var k=v.stateNode;null!==v.memoizedState?2&k._visibility?recursivelyTraverseReconnectPassiveEffects(y,v,_,x,m):recursivelyTraverseAtomicPassiveEffects(y,v):(k._visibility|=2,recursivelyTraverseReconnectPassiveEffects(y,v,_,x,m)),m&&2048&S&&commitOffscreenPassiveMountEffects(v.alternate,v);break;case 24:recursivelyTraverseReconnectPassiveEffects(y,v,_,x,m),m&&2048&S&&commitCachePassiveMountEffect(v.alternate,v);break;default:recursivelyTraverseReconnectPassiveEffects(y,v,_,x,m)}i=i.sibling}}function recursivelyTraverseAtomicPassiveEffects(r,i){if(10256&i.subtreeFlags)for(i=i.child;null!==i;){var l=r,p=i,m=p.flags;switch(p.tag){case 22:recursivelyTraverseAtomicPassiveEffects(l,p),2048&m&&commitOffscreenPassiveMountEffects(p.alternate,p);break;case 24:recursivelyTraverseAtomicPassiveEffects(l,p),2048&m&&commitCachePassiveMountEffect(p.alternate,p);break;default:recursivelyTraverseAtomicPassiveEffects(l,p)}i=i.sibling}}var Cn=8192;function recursivelyAccumulateSuspenseyCommit(r,i,l){if(r.subtreeFlags&Cn)for(r=r.child;null!==r;)accumulateSuspenseyCommitOnFiber(r,i,l),r=r.sibling}function accumulateSuspenseyCommitOnFiber(r,i,l){switch(r.tag){case 26:recursivelyAccumulateSuspenseyCommit(r,i,l),r.flags&Cn&&null!==r.memoizedState&&function suspendResource(r,i,l,p){if(!("stylesheet"!==l.type||"string"==typeof p.media&&!1===matchMedia(p.media).matches||4&l.state.loading)){if(null===l.instance){var m=getStyleKey(p.href),y=i.querySelector(getStylesheetSelectorFromKey(m));if(y)return null!==(i=y._p)&&"object"==typeof i&&"function"==typeof i.then&&(r.count++,r=onUnsuspend.bind(r),i.then(r,r)),l.state.loading|=4,l.instance=y,void markNodeAsHoistable(y);y=i.ownerDocument||i,p=stylesheetPropsFromRawProps(p),(m=Ti.get(m))&&adoptPreloadPropsForStylesheet(p,m),markNodeAsHoistable(y=y.createElement("link"));var v=y;v._p=new Promise(function(r,i){v.onload=r,v.onerror=i}),setInitialProperties(y,"link",p),l.instance=y}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(l,i),(i=l.state.preload)&&!(3&l.state.loading)&&(r.count++,l=onUnsuspend.bind(r),i.addEventListener("load",l),i.addEventListener("error",l))}}(l,kn,r.memoizedState,r.memoizedProps);break;case 5:default:recursivelyAccumulateSuspenseyCommit(r,i,l);break;case 3:case 4:var p=kn;kn=getHoistableRoot(r.stateNode.containerInfo),recursivelyAccumulateSuspenseyCommit(r,i,l),kn=p;break;case 22:null===r.memoizedState&&(null!==(p=r.alternate)&&null!==p.memoizedState?(p=Cn,Cn=16777216,recursivelyAccumulateSuspenseyCommit(r,i,l),Cn=p):recursivelyAccumulateSuspenseyCommit(r,i,l))}}function detachAlternateSiblings(r){var i=r.alternate;if(null!==i&&null!==(r=i.child)){i.child=null;do{i=r.sibling,r.sibling=null,r=i}while(null!==r)}}function recursivelyTraversePassiveUnmountEffects(r){var i=r.deletions;if(16&r.flags){if(null!==i)for(var l=0;l<i.length;l++){var p=i[l];xn=p,commitPassiveUnmountEffectsInsideOfDeletedTree_begin(p,r)}detachAlternateSiblings(r)}if(10256&r.subtreeFlags)for(r=r.child;null!==r;)commitPassiveUnmountOnFiber(r),r=r.sibling}function commitPassiveUnmountOnFiber(r){switch(r.tag){case 0:case 11:case 15:recursivelyTraversePassiveUnmountEffects(r),2048&r.flags&&commitHookEffectListUnmount(9,r,r.return);break;case 3:case 12:default:recursivelyTraversePassiveUnmountEffects(r);break;case 22:var i=r.stateNode;null!==r.memoizedState&&2&i._visibility&&(null===r.return||13!==r.return.tag)?(i._visibility&=-3,recursivelyTraverseDisconnectPassiveEffects(r)):recursivelyTraversePassiveUnmountEffects(r)}}function recursivelyTraverseDisconnectPassiveEffects(r){var i=r.deletions;if(16&r.flags){if(null!==i)for(var l=0;l<i.length;l++){var p=i[l];xn=p,commitPassiveUnmountEffectsInsideOfDeletedTree_begin(p,r)}detachAlternateSiblings(r)}for(r=r.child;null!==r;){switch((i=r).tag){case 0:case 11:case 15:commitHookEffectListUnmount(8,i,i.return),recursivelyTraverseDisconnectPassiveEffects(i);break;case 22:2&(l=i.stateNode)._visibility&&(l._visibility&=-3,recursivelyTraverseDisconnectPassiveEffects(i));break;default:recursivelyTraverseDisconnectPassiveEffects(i)}r=r.sibling}}function commitPassiveUnmountEffectsInsideOfDeletedTree_begin(r,i){for(;null!==xn;){var l=xn;switch(l.tag){case 0:case 11:case 15:commitHookEffectListUnmount(8,l,i);break;case 23:case 22:if(null!==l.memoizedState&&null!==l.memoizedState.cachePool){var p=l.memoizedState.cachePool.pool;null!=p&&p.refCount++}break;case 24:releaseCache(l.memoizedState.cache)}if(null!==(p=l.child))p.return=l,xn=p;else e:for(l=r;null!==xn;){var m=(p=xn).sibling,y=p.return;if(detachFiberAfterEffects(p),p===l){xn=null;break e}if(null!==m){m.return=y,xn=m;break e}xn=y}}}var Pn={getCacheForType:function(r){var i=readContext(Er),l=i.data.get(r);return void 0===l&&(l=r(),i.data.set(r,l)),l},cacheSignal:function(){return readContext(Er).controller.signal}},En="function"==typeof WeakMap?WeakMap:Map,Tn=0,An=null,Mn=null,In=0,Rn=0,Fn=null,On=!1,Ln=!1,Dn=!1,Nn=0,Hn=0,zn=0,Bn=0,Un=0,Gn=0,Vn=0,Wn=null,jn=null,$n=!1,qn=0,Yn=0,Xn=1/0,Qn=null,Kn=null,Zn=0,Jn=null,ei=null,ti=0,ri=0,ni=null,ii=null,si=0,ai=null;function requestUpdateLane(){return 2&Tn&&0!==In?In&-In:null!==V.T?requestTransitionLane():resolveUpdatePriority()}function requestDeferredLane(){if(0===Gn)if(536870912&In&&!yr)Gn=536870912;else{var r=Se;!(3932160&(Se<<=1))&&(Se=262144),Gn=r}return null!==(r=qr.current)&&(r.flags|=32),Gn}function scheduleUpdateOnFiber(r,i,l){(r!==An||2!==Rn&&9!==Rn)&&null===r.cancelPendingCommit||(prepareFreshStack(r,0),markRootSuspended(r,In,Gn,!1)),markRootUpdated$1(r,l),2&Tn&&r===An||(r===An&&(!(2&Tn)&&(Bn|=l),4===Hn&&markRootSuspended(r,In,Gn,!1)),ensureRootIsScheduled(r))}function performWorkOnRoot(r,i,l){if(6&Tn)throw Error(formatProdErrorMessage(327));for(var p=!l&&!(127&i)&&0===(i&r.expiredLanes)||checkIfRootIsPrerendering(r,i),m=p?function renderRootConcurrent(r,i){var l=Tn;Tn|=2;var p=pushDispatcher(),m=pushAsyncDispatcher();An!==r||In!==i?(Qn=null,Xn=oe()+500,prepareFreshStack(r,i)):Ln=checkIfRootIsPrerendering(r,i);e:for(;;)try{if(0!==Rn&&null!==Mn){i=Mn;var y=Fn;t:switch(Rn){case 1:Rn=0,Fn=null,throwAndUnwindWorkLoop(r,i,y,1);break;case 2:case 9:if(isThenableResolved(y)){Rn=0,Fn=null,replaySuspendedUnitOfWork(i);break}i=function(){2!==Rn&&9!==Rn||An!==r||(Rn=7),ensureRootIsScheduled(r)},y.then(i,i);break e;case 3:Rn=7;break e;case 4:Rn=5;break e;case 7:isThenableResolved(y)?(Rn=0,Fn=null,replaySuspendedUnitOfWork(i)):(Rn=0,Fn=null,throwAndUnwindWorkLoop(r,i,y,7));break;case 5:var v=null;switch(Mn.tag){case 26:v=Mn.memoizedState;case 5:case 27:var _=Mn;if(v?preloadResource(v):_.stateNode.complete){Rn=0,Fn=null;var x=_.sibling;if(null!==x)Mn=x;else{var S=_.return;null!==S?(Mn=S,completeUnitOfWork(S)):Mn=null}break t}}Rn=0,Fn=null,throwAndUnwindWorkLoop(r,i,y,5);break;case 6:Rn=0,Fn=null,throwAndUnwindWorkLoop(r,i,y,6);break;case 8:resetWorkInProgressStack(),Hn=6;break e;default:throw Error(formatProdErrorMessage(462))}}workLoopConcurrentByScheduler();break}catch(k){handleThrow(r,k)}return wr=Sr=null,V.H=p,V.A=m,Tn=l,null!==Mn?0:(An=null,In=0,finishQueueingConcurrentUpdates(),Hn)}(r,i):renderRootSync(r,i,!0),y=p;;){if(0===m){Ln&&!p&&markRootSuspended(r,i,0,!1);break}if(l=r.current.alternate,!y||isRenderConsistentWithExternalStores(l)){if(2===m){if(y=i,r.errorRecoveryDisabledLanes&y)var v=0;else v=0!==(v=-536870913&r.pendingLanes)?v:536870912&v?536870912:0;if(0!==v){i=v;e:{var _=r;m=Wn;var x=_.current.memoizedState.isDehydrated;if(x&&(prepareFreshStack(_,v).flags|=256),2!==(v=renderRootSync(_,v,!1))){if(Dn&&!x){_.errorRecoveryDisabledLanes|=y,Bn|=y,m=4;break e}y=jn,jn=m,null!==y&&(null===jn?jn=y:jn.push.apply(jn,y))}m=v}if(y=!1,2!==m)continue}}if(1===m){prepareFreshStack(r,0),markRootSuspended(r,i,0,!0);break}e:{switch(p=r,y=m){case 0:case 1:throw Error(formatProdErrorMessage(345));case 4:if((4194048&i)!==i)break;case 6:markRootSuspended(p,i,Gn,!On);break e;case 2:jn=null;break;case 3:case 5:break;default:throw Error(formatProdErrorMessage(329))}if((62914560&i)===i&&10<(m=qn+300-oe())){if(markRootSuspended(p,i,Gn,!On),0!==getNextLanes(p,0,!0))break e;ti=i,p.timeoutHandle=wi(commitRootWhenReady.bind(null,p,l,jn,Qn,$n,i,Gn,Bn,Vn,On,y,"Throttled",-0,0),m)}else commitRootWhenReady(p,l,jn,Qn,$n,i,Gn,Bn,Vn,On,y,null,-0,0)}break}m=renderRootSync(r,i,!1),y=!1}ensureRootIsScheduled(r)}function commitRootWhenReady(r,i,l,p,m,y,v,_,x,S,k,C,P,E){if(r.timeoutHandle=-1,8192&(C=i.subtreeFlags)||!(16785408&~C)){accumulateSuspenseyCommitOnFiber(i,y,C={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:noop$1});var T=(62914560&y)===y?qn-oe():(4194048&y)===y?Yn-oe():0;if(null!==(T=function waitForCommitToBeReady(r,i){return r.stylesheets&&0===r.count&&insertSuspendedStylesheets(r,r.stylesheets),0<r.count||0<r.imgCount?function(l){var p=setTimeout(function(){if(r.stylesheets&&insertSuspendedStylesheets(r,r.stylesheets),r.unsuspend){var i=r.unsuspend;r.unsuspend=null,i()}},6e4+i);0<r.imgBytes&&0===Fi&&(Fi=62500*function estimateBandwidth(){if("function"==typeof performance.getEntriesByType){for(var r=0,i=0,l=performance.getEntriesByType("resource"),p=0;p<l.length;p++){var m=l[p],y=m.transferSize,v=m.initiatorType,_=m.duration;if(y&&_&&isLikelyStaticResource(v)){for(v=0,_=m.responseEnd,p+=1;p<l.length;p++){var x=l[p],S=x.startTime;if(S>_)break;var k=x.transferSize,C=x.initiatorType;k&&isLikelyStaticResource(C)&&(v+=k*((x=x.responseEnd)<_?1:(_-S)/(x-S)))}if(--p,i+=8*(y+v)/(m.duration/1e3),10<++r)break}}if(0<r)return i/r/1e6}return navigator.connection&&"number"==typeof(r=navigator.connection.downlink)?r:5}());var m=setTimeout(function(){if(r.waitingForImages=!1,0===r.count&&(r.stylesheets&&insertSuspendedStylesheets(r,r.stylesheets),r.unsuspend)){var i=r.unsuspend;r.unsuspend=null,i()}},(r.imgBytes>Fi?50:800)+i);return r.unsuspend=l,function(){r.unsuspend=null,clearTimeout(p),clearTimeout(m)}}:null}(C,T)))return ti=y,r.cancelPendingCommit=T(commitRoot.bind(null,r,i,y,l,p,m,v,_,x,k,C,null,P,E)),void markRootSuspended(r,y,v,!S)}commitRoot(r,i,y,l,p,m,v,_,x)}function isRenderConsistentWithExternalStores(r){for(var i=r;;){var l=i.tag;if((0===l||11===l||15===l)&&16384&i.flags&&(null!==(l=i.updateQueue)&&null!==(l=l.stores)))for(var p=0;p<l.length;p++){var m=l[p],y=m.getSnapshot;m=m.value;try{if(!Dt(y(),m))return!1}catch(v){return!1}}if(l=i.child,16384&i.subtreeFlags&&null!==l)l.return=i,i=l;else{if(i===r)break;for(;null===i.sibling;){if(null===i.return||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function markRootSuspended(r,i,l,p){i&=~Un,i&=~Bn,r.suspendedLanes|=i,r.pingedLanes&=~i,p&&(r.warmLanes|=i),p=r.expirationTimes;for(var m=i;0<m;){var y=31-ve(m),v=1<<y;p[y]=-1,m&=~v}0!==l&&markSpawnedDeferredLane(r,l,i)}function flushSyncWork$1(){return!!(6&Tn)||(flushSyncWorkAcrossRoots_impl(0),!1)}function resetWorkInProgressStack(){if(null!==Mn){if(0===Rn)var r=Mn.return;else wr=Sr=null,resetHooksOnUnwind(r=Mn),zr=null,Br=0,r=Mn;for(;null!==r;)unwindInterruptedWork(r.alternate,r),r=r.return;Mn=null}}function prepareFreshStack(r,i){var l=r.timeoutHandle;-1!==l&&(r.timeoutHandle=-1,ki(l)),null!==(l=r.cancelPendingCommit)&&(r.cancelPendingCommit=null,l()),ti=0,resetWorkInProgressStack(),An=r,Mn=l=createWorkInProgress(r.current,null),In=i,Rn=0,Fn=null,On=!1,Ln=checkIfRootIsPrerendering(r,i),Dn=!1,Vn=Gn=Un=Bn=zn=Hn=0,jn=Wn=null,$n=!1,8&i&&(i|=32&i);var p=r.entangledLanes;if(0!==p)for(r=r.entanglements,p&=i;0<p;){var m=31-ve(p),y=1<<m;i|=r[m],p&=~y}return Nn=i,finishQueueingConcurrentUpdates(),l}function handleThrow(r,i){Kr=null,V.H=un,i===Or||i===Dr?(i=getSuspendedThenable(),Rn=3):i===Lr?(i=getSuspendedThenable(),Rn=4):Rn=i===pn?8:null!==i&&"object"==typeof i&&"function"==typeof i.then?6:1,Fn=i,null===Mn&&(Hn=1,logUncaughtError(r,createCapturedValueAtFiber(i,r.current)))}function shouldRemainOnPreviousScreen(){var r=qr.current;return null===r||((4194048&In)===In?null===Yr:!!((62914560&In)===In||536870912&In)&&r===Yr)}function pushDispatcher(){var r=V.H;return V.H=un,null===r?un:r}function pushAsyncDispatcher(){var r=V.A;return V.A=Pn,r}function renderDidSuspendDelayIfPossible(){Hn=4,On||(4194048&In)!==In&&null!==qr.current||(Ln=!0),!(134217727&zn)&&!(134217727&Bn)||null===An||markRootSuspended(An,In,Gn,!1)}function renderRootSync(r,i,l){var p=Tn;Tn|=2;var m=pushDispatcher(),y=pushAsyncDispatcher();An===r&&In===i||(Qn=null,prepareFreshStack(r,i)),i=!1;var v=Hn;e:for(;;)try{if(0!==Rn&&null!==Mn){var _=Mn,x=Fn;switch(Rn){case 8:resetWorkInProgressStack(),v=6;break e;case 3:case 2:case 9:case 6:null===qr.current&&(i=!0);var S=Rn;if(Rn=0,Fn=null,throwAndUnwindWorkLoop(r,_,x,S),l&&Ln){v=0;break e}break;default:S=Rn,Rn=0,Fn=null,throwAndUnwindWorkLoop(r,_,x,S)}}workLoopSync(),v=Hn;break}catch(k){handleThrow(r,k)}return i&&r.shellSuspendCounter++,wr=Sr=null,Tn=p,V.H=m,V.A=y,null===Mn&&(An=null,In=0,finishQueueingConcurrentUpdates()),v}function workLoopSync(){for(;null!==Mn;)performUnitOfWork(Mn)}function workLoopConcurrentByScheduler(){for(;null!==Mn&&!se();)performUnitOfWork(Mn)}function performUnitOfWork(r){var i=beginWork(r.alternate,r,Nn);r.memoizedProps=r.pendingProps,null===i?completeUnitOfWork(r):Mn=i}function replaySuspendedUnitOfWork(r){var i=r,l=i.alternate;switch(i.tag){case 15:case 0:i=replayFunctionComponent(l,i,i.pendingProps,i.type,void 0,In);break;case 11:i=replayFunctionComponent(l,i,i.pendingProps,i.type.render,i.ref,In);break;case 5:resetHooksOnUnwind(i);default:unwindInterruptedWork(l,i),i=beginWork(l,i=Mn=resetWorkInProgress(i,Nn),Nn)}r.memoizedProps=r.pendingProps,null===i?completeUnitOfWork(r):Mn=i}function throwAndUnwindWorkLoop(r,i,l,p){wr=Sr=null,resetHooksOnUnwind(i),zr=null,Br=0;var m=i.return;try{if(function throwException(r,i,l,p,m){if(l.flags|=32768,null!==p&&"object"==typeof p&&"function"==typeof p.then){if(null!==(i=l.alternate)&&propagateParentContextChanges(i,l,m,!0),null!==(l=qr.current)){switch(l.tag){case 31:case 13:return null===Yr?renderDidSuspendDelayIfPossible():null===l.alternate&&0===Hn&&(Hn=3),l.flags&=-257,l.flags|=65536,l.lanes=m,p===Nr?l.flags|=16384:(null===(i=l.updateQueue)?l.updateQueue=new Set([p]):i.add(p),attachPingListener(r,p,m)),!1;case 22:return l.flags|=65536,p===Nr?l.flags|=16384:(null===(i=l.updateQueue)?(i={transitions:null,markerInstances:null,retryQueue:new Set([p])},l.updateQueue=i):null===(l=i.retryQueue)?i.retryQueue=new Set([p]):l.add(p),attachPingListener(r,p,m)),!1}throw Error(formatProdErrorMessage(435,l.tag))}return attachPingListener(r,p,m),renderDidSuspendDelayIfPossible(),!1}if(yr)return null!==(i=qr.current)?(!(65536&i.flags)&&(i.flags|=256),i.flags|=65536,i.lanes=m,p!==_r&&queueHydrationError(createCapturedValueAtFiber(r=Error(formatProdErrorMessage(422),{cause:p}),l))):(p!==_r&&queueHydrationError(createCapturedValueAtFiber(i=Error(formatProdErrorMessage(423),{cause:p}),l)),(r=r.current.alternate).flags|=65536,m&=-m,r.lanes|=m,p=createCapturedValueAtFiber(p,l),enqueueCapturedUpdate(r,m=createRootErrorUpdate(r.stateNode,p,m)),4!==Hn&&(Hn=2)),!1;var y=Error(formatProdErrorMessage(520),{cause:p});if(y=createCapturedValueAtFiber(y,l),null===Wn?Wn=[y]:Wn.push(y),4!==Hn&&(Hn=2),null===i)return!0;p=createCapturedValueAtFiber(p,l),l=i;do{switch(l.tag){case 3:return l.flags|=65536,r=m&-m,l.lanes|=r,enqueueCapturedUpdate(l,r=createRootErrorUpdate(l.stateNode,p,r)),!1;case 1:if(i=l.type,y=l.stateNode,!(128&l.flags||"function"!=typeof i.getDerivedStateFromError&&(null===y||"function"!=typeof y.componentDidCatch||null!==Kn&&Kn.has(y))))return l.flags|=65536,m&=-m,l.lanes|=m,initializeClassErrorUpdate(m=createClassErrorUpdate(m),r,l,p),enqueueCapturedUpdate(l,m),!1}l=l.return}while(null!==l);return!1}(r,m,i,l,In))return Hn=1,logUncaughtError(r,createCapturedValueAtFiber(l,r.current)),void(Mn=null)}catch(y){if(null!==m)throw Mn=m,y;return Hn=1,logUncaughtError(r,createCapturedValueAtFiber(l,r.current)),void(Mn=null)}32768&i.flags?(yr||1===p?r=!0:Ln||536870912&In?r=!1:(On=r=!0,(2===p||9===p||3===p||6===p)&&(null!==(p=qr.current)&&13===p.tag&&(p.flags|=16384))),unwindUnitOfWork(i,r)):completeUnitOfWork(i)}function completeUnitOfWork(r){var i=r;do{if(32768&i.flags)return void unwindUnitOfWork(i,On);r=i.return;var l=completeWork(i.alternate,i,Nn);if(null!==l)return void(Mn=l);if(null!==(i=i.sibling))return void(Mn=i);Mn=i=r}while(null!==i);0===Hn&&(Hn=5)}function unwindUnitOfWork(r,i){do{var l=unwindWork(r.alternate,r);if(null!==l)return l.flags&=32767,void(Mn=l);if(null!==(l=r.return)&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!i&&null!==(r=r.sibling))return void(Mn=r);Mn=r=l}while(null!==r);Hn=6,Mn=null}function commitRoot(r,i,l,p,m,y,v,_,x){r.cancelPendingCommit=null;do{flushPendingEffects()}while(0!==Zn);if(6&Tn)throw Error(formatProdErrorMessage(327));if(null!==i){if(i===r.current)throw Error(formatProdErrorMessage(177));if(y=i.lanes|i.childLanes,function markRootFinished(r,i,l,p,m,y){var v=r.pendingLanes;r.pendingLanes=l,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=l,r.entangledLanes&=l,r.errorRecoveryDisabledLanes&=l,r.shellSuspendCounter=0;var _=r.entanglements,x=r.expirationTimes,S=r.hiddenUpdates;for(l=v&~l;0<l;){var k=31-ve(l),C=1<<k;_[k]=0,x[k]=-1;var P=S[k];if(null!==P)for(S[k]=null,k=0;k<P.length;k++){var E=P[k];null!==E&&(E.lane&=-536870913)}l&=~C}0!==p&&markSpawnedDeferredLane(r,p,0),0!==y&&0===m&&0!==r.tag&&(r.suspendedLanes|=y&~(v&~i))}(r,l,y|=nr,v,_,x),r===An&&(Mn=An=null,In=0),ei=i,Jn=r,ti=l,ri=y,ni=m,ii=p,10256&i.subtreeFlags||10256&i.flags?(r.callbackNode=null,r.callbackPriority=0,function scheduleCallback$1(r,i){return ne(r,i)}(de,function(){return flushPassiveEffects(),null})):(r.callbackNode=null,r.callbackPriority=0),p=!!(13878&i.flags),13878&i.subtreeFlags||p){p=V.T,V.T=null,m=W.p,W.p=2,v=Tn,Tn|=4;try{!function commitBeforeMutationEffects(r,i){if(r=r.containerInfo,_i=Di,hasSelectionCapabilities(r=getActiveElementDeep(r))){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{var p=(l=(l=r.ownerDocument)&&l.defaultView||window).getSelection&&l.getSelection();if(p&&0!==p.rangeCount){l=p.anchorNode;var m=p.anchorOffset,y=p.focusNode;p=p.focusOffset;try{l.nodeType,y.nodeType}catch(A){l=null;break e}var v=0,_=-1,x=-1,S=0,k=0,C=r,P=null;t:for(;;){for(var E;C!==l||0!==m&&3!==C.nodeType||(_=v+m),C!==y||0!==p&&3!==C.nodeType||(x=v+p),3===C.nodeType&&(v+=C.nodeValue.length),null!==(E=C.firstChild);)P=C,C=E;for(;;){if(C===r)break t;if(P===l&&++S===m&&(_=v),P===y&&++k===p&&(x=v),null!==(E=C.nextSibling))break;P=(C=P).parentNode}C=E}l=-1===_||-1===x?null:{start:_,end:x}}else l=null}l=l||{start:0,end:0}}else l=null;for(xi={focusedElem:r,selectionRange:l},Di=!1,xn=i;null!==xn;)if(r=(i=xn).child,1028&i.subtreeFlags&&null!==r)r.return=i,xn=r;else for(;null!==xn;){switch(y=(i=xn).alternate,r=i.flags,i.tag){case 0:if(4&r&&null!==(r=null!==(r=i.updateQueue)?r.events:null))for(l=0;l<r.length;l++)(m=r[l]).ref.impl=m.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(1024&r&&null!==y){r=void 0,l=i,m=y.memoizedProps,y=y.memoizedState,p=l.stateNode;try{var T=resolveClassComponentProps(l.type,m);r=p.getSnapshotBeforeUpdate(T,y),p.__reactInternalSnapshotBeforeUpdate=r}catch(I){captureCommitPhaseError(l,l.return,I)}}break;case 3:if(1024&r)if(9===(l=(r=i.stateNode.containerInfo).nodeType))clearContainerSparingly(r);else if(1===l)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":clearContainerSparingly(r);break;default:r.textContent=""}break;default:if(1024&r)throw Error(formatProdErrorMessage(163))}if(null!==(r=i.sibling)){r.return=i.return,xn=r;break}xn=i.return}}(r,i)}finally{Tn=v,W.p=m,V.T=p}}Zn=1,flushMutationEffects(),flushLayoutEffects(),flushSpawnedWork()}}function flushMutationEffects(){if(1===Zn){Zn=0;var r=Jn,i=ei,l=!!(13878&i.flags);if(13878&i.subtreeFlags||l){l=V.T,V.T=null;var p=W.p;W.p=2;var m=Tn;Tn|=4;try{commitMutationEffectsOnFiber(i,r);var y=xi,v=getActiveElementDeep(r.containerInfo),_=y.focusedElem,x=y.selectionRange;if(v!==_&&_&&_.ownerDocument&&containsNode(_.ownerDocument.documentElement,_)){if(null!==x&&hasSelectionCapabilities(_)){var S=x.start,k=x.end;if(void 0===k&&(k=S),"selectionStart"in _)_.selectionStart=S,_.selectionEnd=Math.min(k,_.value.length);else{var C=_.ownerDocument||document,P=C&&C.defaultView||window;if(P.getSelection){var E=P.getSelection(),T=_.textContent.length,A=Math.min(x.start,T),I=void 0===x.end?A:Math.min(x.end,T);!E.extend&&A>I&&(v=I,I=A,A=v);var R=getNodeForCharacterOffset(_,A),F=getNodeForCharacterOffset(_,I);if(R&&F&&(1!==E.rangeCount||E.anchorNode!==R.node||E.anchorOffset!==R.offset||E.focusNode!==F.node||E.focusOffset!==F.offset)){var O=C.createRange();O.setStart(R.node,R.offset),E.removeAllRanges(),A>I?(E.addRange(O),E.extend(F.node,F.offset)):(O.setEnd(F.node,F.offset),E.addRange(O))}}}}for(C=[],E=_;E=E.parentNode;)1===E.nodeType&&C.push({element:E,left:E.scrollLeft,top:E.scrollTop});for("function"==typeof _.focus&&_.focus(),_=0;_<C.length;_++){var L=C[_];L.element.scrollLeft=L.left,L.element.scrollTop=L.top}}Di=!!_i,xi=_i=null}finally{Tn=m,W.p=p,V.T=l}}r.current=i,Zn=2}}function flushLayoutEffects(){if(2===Zn){Zn=0;var r=Jn,i=ei,l=!!(8772&i.flags);if(8772&i.subtreeFlags||l){l=V.T,V.T=null;var p=W.p;W.p=2;var m=Tn;Tn|=4;try{commitLayoutEffectOnFiber(r,i.alternate,i)}finally{Tn=m,W.p=p,V.T=l}}Zn=3}}function flushSpawnedWork(){if(4===Zn||3===Zn){Zn=0,ae();var r=Jn,i=ei,l=ti,p=ii;10256&i.subtreeFlags||10256&i.flags?Zn=5:(Zn=0,ei=Jn=null,releaseRootPooledCache(r,r.pendingLanes));var m=r.pendingLanes;if(0===m&&(Kn=null),lanesToEventPriority(l),i=i.stateNode,ye&&"function"==typeof ye.onCommitFiberRoot)try{ye.onCommitFiberRoot(ge,i,void 0,!(128&~i.current.flags))}catch(x){}if(null!==p){i=V.T,m=W.p,W.p=2,V.T=null;try{for(var y=r.onRecoverableError,v=0;v<p.length;v++){var _=p[v];y(_.value,{componentStack:_.stack})}}finally{V.T=i,W.p=m}}3&ti&&flushPendingEffects(),ensureRootIsScheduled(r),m=r.pendingLanes,261930&l&&42&m?r===ai?si++:(si=0,ai=r):si=0,flushSyncWorkAcrossRoots_impl(0)}}function releaseRootPooledCache(r,i){0===(r.pooledCacheLanes&=i)&&(null!=(i=r.pooledCache)&&(r.pooledCache=null,releaseCache(i)))}function flushPendingEffects(){return flushMutationEffects(),flushLayoutEffects(),flushSpawnedWork(),flushPassiveEffects()}function flushPassiveEffects(){if(5!==Zn)return!1;var r=Jn,i=ri;ri=0;var l=lanesToEventPriority(ti),p=V.T,m=W.p;try{W.p=32>l?32:l,V.T=null,l=ni,ni=null;var y=Jn,v=ti;if(Zn=0,ei=Jn=null,ti=0,6&Tn)throw Error(formatProdErrorMessage(331));var _=Tn;if(Tn|=4,commitPassiveUnmountOnFiber(y.current),commitPassiveMountOnFiber(y,y.current,v,l),Tn=_,flushSyncWorkAcrossRoots_impl(0,!1),ye&&"function"==typeof ye.onPostCommitFiberRoot)try{ye.onPostCommitFiberRoot(ge,y)}catch(x){}return!0}finally{W.p=m,V.T=p,releaseRootPooledCache(r,i)}}function captureCommitPhaseErrorOnRoot(r,i,l){i=createCapturedValueAtFiber(l,i),null!==(r=enqueueUpdate(r,i=createRootErrorUpdate(r.stateNode,i,2),2))&&(markRootUpdated$1(r,2),ensureRootIsScheduled(r))}function captureCommitPhaseError(r,i,l){if(3===r.tag)captureCommitPhaseErrorOnRoot(r,r,l);else for(;null!==i;){if(3===i.tag){captureCommitPhaseErrorOnRoot(i,r,l);break}if(1===i.tag){var p=i.stateNode;if("function"==typeof i.type.getDerivedStateFromError||"function"==typeof p.componentDidCatch&&(null===Kn||!Kn.has(p))){r=createCapturedValueAtFiber(l,r),null!==(p=enqueueUpdate(i,l=createClassErrorUpdate(2),2))&&(initializeClassErrorUpdate(l,p,i,r),markRootUpdated$1(p,2),ensureRootIsScheduled(p));break}}i=i.return}}function attachPingListener(r,i,l){var p=r.pingCache;if(null===p){p=r.pingCache=new En;var m=new Set;p.set(i,m)}else void 0===(m=p.get(i))&&(m=new Set,p.set(i,m));m.has(l)||(Dn=!0,m.add(l),r=pingSuspendedRoot.bind(null,r,i,l),i.then(r,r))}function pingSuspendedRoot(r,i,l){var p=r.pingCache;null!==p&&p.delete(i),r.pingedLanes|=r.suspendedLanes&l,r.warmLanes&=~l,An===r&&(In&l)===l&&(4===Hn||3===Hn&&(62914560&In)===In&&300>oe()-qn?!(2&Tn)&&prepareFreshStack(r,0):Un|=l,Vn===In&&(Vn=0)),ensureRootIsScheduled(r)}function retryTimedOutBoundary(r,i){0===i&&(i=claimNextRetryLane()),null!==(r=enqueueConcurrentRenderForLane(r,i))&&(markRootUpdated$1(r,i),ensureRootIsScheduled(r))}function retryDehydratedSuspenseBoundary(r){var i=r.memoizedState,l=0;null!==i&&(l=i.retryLane),retryTimedOutBoundary(r,l)}function resolveRetryWakeable(r,i){var l=0;switch(r.tag){case 31:case 13:var p=r.stateNode,m=r.memoizedState;null!==m&&(l=m.retryLane);break;case 19:p=r.stateNode;break;case 22:p=r.stateNode._retryCache;break;default:throw Error(formatProdErrorMessage(314))}null!==p&&p.delete(i),retryTimedOutBoundary(r,l)}var oi=null,li=null,ui=!1,ci=!1,di=!1,hi=0;function ensureRootIsScheduled(r){r!==li&&null===r.next&&(null===li?oi=li=r:li=li.next=r),ci=!0,ui||(ui=!0,function scheduleImmediateRootScheduleTask(){Pi(function(){6&Tn?ne(ue,processRootScheduleInImmediateTask):processRootScheduleInMicrotask()})}())}function flushSyncWorkAcrossRoots_impl(r,i){if(!di&&ci){di=!0;do{for(var l=!1,p=oi;null!==p;){if(0!==r){var m=p.pendingLanes;if(0===m)var y=0;else{var v=p.suspendedLanes,_=p.pingedLanes;y=(1<<31-ve(42|r)+1)-1,y=201326741&(y&=m&~(v&~_))?201326741&y|1:y?2|y:0}0!==y&&(l=!0,performSyncWorkOnRoot(p,y))}else y=In,!(3&(y=getNextLanes(p,p===An?y:0,null!==p.cancelPendingCommit||-1!==p.timeoutHandle)))||checkIfRootIsPrerendering(p,y)||(l=!0,performSyncWorkOnRoot(p,y));p=p.next}}while(l);di=!1}}function processRootScheduleInImmediateTask(){processRootScheduleInMicrotask()}function processRootScheduleInMicrotask(){ci=ui=!1;var r=0;0!==hi&&function shouldAttemptEagerTransition(){var r=window.event;if(r&&"popstate"===r.type)return r!==Si&&(Si=r,!0);return Si=null,!1}()&&(r=hi);for(var i=oe(),l=null,p=oi;null!==p;){var m=p.next,y=scheduleTaskForRootDuringMicrotask(p,i);0===y?(p.next=null,null===l?oi=m:l.next=m,null===m&&(li=l)):(l=p,(0!==r||3&y)&&(ci=!0)),p=m}0!==Zn&&5!==Zn||flushSyncWorkAcrossRoots_impl(r),0!==hi&&(hi=0)}function scheduleTaskForRootDuringMicrotask(r,i){for(var l=r.suspendedLanes,p=r.pingedLanes,m=r.expirationTimes,y=-62914561&r.pendingLanes;0<y;){var v=31-ve(y),_=1<<v,x=m[v];-1===x?0!==(_&l)&&0===(_&p)||(m[v]=computeExpirationTime(_,i)):x<=i&&(r.expiredLanes|=_),y&=~_}if(l=In,l=getNextLanes(r,r===(i=An)?l:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle),p=r.callbackNode,0===l||r===i&&(2===Rn||9===Rn)||null!==r.cancelPendingCommit)return null!==p&&null!==p&&ie(p),r.callbackNode=null,r.callbackPriority=0;if(!(3&l)||checkIfRootIsPrerendering(r,l)){if((i=l&-l)===r.callbackPriority)return i;switch(null!==p&&ie(p),lanesToEventPriority(l)){case 2:case 8:l=ce;break;case 32:default:l=de;break;case 268435456:l=fe}return p=performWorkOnRootViaSchedulerTask.bind(null,r),l=ne(l,p),r.callbackPriority=i,r.callbackNode=l,i}return null!==p&&null!==p&&ie(p),r.callbackPriority=2,r.callbackNode=null,2}function performWorkOnRootViaSchedulerTask(r,i){if(0!==Zn&&5!==Zn)return r.callbackNode=null,r.callbackPriority=0,null;var l=r.callbackNode;if(flushPendingEffects()&&r.callbackNode!==l)return null;var p=In;return 0===(p=getNextLanes(r,r===An?p:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle))?null:(performWorkOnRoot(r,p,i),scheduleTaskForRootDuringMicrotask(r,oe()),null!=r.callbackNode&&r.callbackNode===l?performWorkOnRootViaSchedulerTask.bind(null,r):null)}function performSyncWorkOnRoot(r,i){if(flushPendingEffects())return null;performWorkOnRoot(r,i,!0)}function requestTransitionLane(){if(0===hi){var r=Mr;0===r&&(r=xe,!(261888&(xe<<=1))&&(xe=256)),hi=r}return hi}function coerceFormActionProp(r){return null==r||"symbol"==typeof r||"boolean"==typeof r?null:"function"==typeof r?r:sanitizeURL(""+r)}function createFormDataWithSubmitter(r,i){var l=i.ownerDocument.createElement("input");return l.name=i.name,l.value=i.value,r.id&&l.setAttribute("form",r.id),i.parentNode.insertBefore(l,i),r=new FormData(r),l.parentNode.removeChild(l),r}for(var fi=0;fi<Jt.length;fi++){var pi=Jt[fi];registerSimpleEvent(pi.toLowerCase(),"on"+(pi[0].toUpperCase()+pi.slice(1)))}registerSimpleEvent(jt,"onAnimationEnd"),registerSimpleEvent($t,"onAnimationIteration"),registerSimpleEvent(qt,"onAnimationStart"),registerSimpleEvent("dblclick","onDoubleClick"),registerSimpleEvent("focusin","onFocus"),registerSimpleEvent("focusout","onBlur"),registerSimpleEvent(Yt,"onTransitionRun"),registerSimpleEvent(Xt,"onTransitionStart"),registerSimpleEvent(Qt,"onTransitionCancel"),registerSimpleEvent(Kt,"onTransitionEnd"),registerDirectEvent("onMouseEnter",["mouseout","mouseover"]),registerDirectEvent("onMouseLeave",["mouseout","mouseover"]),registerDirectEvent("onPointerEnter",["pointerout","pointerover"]),registerDirectEvent("onPointerLeave",["pointerout","pointerover"]),registerTwoPhaseEvent("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),registerTwoPhaseEvent("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),registerTwoPhaseEvent("onBeforeInput",["compositionend","keypress","textInput","paste"]),registerTwoPhaseEvent("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),registerTwoPhaseEvent("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),registerTwoPhaseEvent("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gi=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(mi));function processDispatchQueue(r,i){i=!!(4&i);for(var l=0;l<r.length;l++){var p=r[l],m=p.event;p=p.listeners;e:{var y=void 0;if(i)for(var v=p.length-1;0<=v;v--){var _=p[v],x=_.instance,S=_.currentTarget;if(_=_.listener,x!==y&&m.isPropagationStopped())break e;y=_,m.currentTarget=S;try{y(m)}catch(k){er(k)}m.currentTarget=null,y=x}else for(v=0;v<p.length;v++){if(x=(_=p[v]).instance,S=_.currentTarget,_=_.listener,x!==y&&m.isPropagationStopped())break e;y=_,m.currentTarget=S;try{y(m)}catch(k){er(k)}m.currentTarget=null,y=x}}}}function listenToNonDelegatedEvent(r,i){var l=i[Te];void 0===l&&(l=i[Te]=new Set);var p=r+"__bubble";l.has(p)||(addTrappedEventListener(i,r,2,!1),l.add(p))}function listenToNativeEvent(r,i,l){var p=0;i&&(p|=4),addTrappedEventListener(l,r,p,i)}var yi="_reactListening"+Math.random().toString(36).slice(2);function listenToAllSupportedEvents(r){if(!r[yi]){r[yi]=!0,Fe.forEach(function(i){"selectionchange"!==i&&(gi.has(i)||listenToNativeEvent(i,!1,r),listenToNativeEvent(i,!0,r))});var i=9===r.nodeType?r:r.ownerDocument;null===i||i[yi]||(i[yi]=!0,listenToNativeEvent("selectionchange",!1,i))}}function addTrappedEventListener(r,i,l,p){switch(getEventPriority(i)){case 2:var m=dispatchDiscreteEvent;break;case 8:m=dispatchContinuousEvent;break;default:m=dispatchEvent}l=m.bind(null,i,l,r),m=void 0,!qe||"touchstart"!==i&&"touchmove"!==i&&"wheel"!==i||(m=!0),p?void 0!==m?r.addEventListener(i,l,{capture:!0,passive:m}):r.addEventListener(i,l,!0):void 0!==m?r.addEventListener(i,l,{passive:m}):r.addEventListener(i,l,!1)}function dispatchEventForPluginEventSystem(r,i,l,p,m){var y=p;if(!(1&i||2&i||null===p))e:for(;;){if(null===p)return;var v=p.tag;if(3===v||4===v){var _=p.stateNode.containerInfo;if(_===m)break;if(4===v)for(v=p.return;null!==v;){var x=v.tag;if((3===x||4===x)&&v.stateNode.containerInfo===m)return;v=v.return}for(;null!==_;){if(null===(v=getClosestInstanceFromNode(_)))return;if(5===(x=v.tag)||6===x||26===x||27===x){p=y=v;continue e}_=_.parentNode}}p=p.return}batchedUpdates$1(function(){var p=y,m=getEventTarget(l),v=[];e:{var _=Zt.get(r);if(void 0!==_){var x=rt,S=r;switch(r){case"keypress":if(0===getEventCharCode(l))break e;case"keydown":case"keyup":x=mt;break;case"focusin":S="focus",x=lt;break;case"focusout":S="blur",x=lt;break;case"beforeblur":case"afterblur":x=lt;break;case"click":if(2===l.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=at;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=ot;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=yt;break;case jt:case $t:case qt:x=ut;break;case Kt:x=vt;break;case"scroll":case"scrollend":x=it;break;case"wheel":x=bt;break;case"copy":case"cut":case"paste":x=ct;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=gt;break;case"toggle":case"beforetoggle":x=_t}var k=!!(4&i),C=!k&&("scroll"===r||"scrollend"===r),P=k?null!==_?_+"Capture":null:_;k=[];for(var E,T=p;null!==T;){var A=T;if(E=A.stateNode,5!==(A=A.tag)&&26!==A&&27!==A||null===E||null===P||null!=(A=getListener(T,P))&&k.push(createDispatchListener(T,A,E)),C)break;T=T.return}0<k.length&&(_=new x(_,S,null,l,m),v.push({event:_,listeners:k}))}}if(!(7&i)){if(x="mouseout"===r||"pointerout"===r,(!(_="mouseover"===r||"pointerover"===r)||l===Ge||!(S=l.relatedTarget||l.fromElement)||!getClosestInstanceFromNode(S)&&!S[Ee])&&(x||_)&&(_=m.window===m?m:(_=m.ownerDocument)?_.defaultView||_.parentWindow:window,x?(x=p,null!==(S=(S=l.relatedTarget||l.toElement)?getClosestInstanceFromNode(S):null)&&(C=getNearestMountedFiber(S),k=S.tag,S!==C||5!==k&&27!==k&&6!==k)&&(S=null)):(x=null,S=p),x!==S)){if(k=at,A="onMouseLeave",P="onMouseEnter",T="mouse","pointerout"!==r&&"pointerover"!==r||(k=gt,A="onPointerLeave",P="onPointerEnter",T="pointer"),C=null==x?_:getNodeFromInstance(x),E=null==S?_:getNodeFromInstance(S),(_=new k(A,T+"leave",x,l,m)).target=C,_.relatedTarget=E,A=null,getClosestInstanceFromNode(m)===p&&((k=new k(P,T+"enter",S,l,m)).target=E,k.relatedTarget=C,A=k),C=A,x&&S)e:{for(k=getParent,T=S,E=0,A=P=x;A;A=k(A))E++;A=0;for(var I=T;I;I=k(I))A++;for(;0<E-A;)P=k(P),E--;for(;0<A-E;)T=k(T),A--;for(;E--;){if(P===T||null!==T&&P===T.alternate){k=P;break e}P=k(P),T=k(T)}k=null}else k=null;null!==x&&accumulateEnterLeaveListenersForEvent(v,_,x,k,!1),null!==S&&null!==C&&accumulateEnterLeaveListenersForEvent(v,C,S,k,!0)}if("select"===(x=(_=p?getNodeFromInstance(p):window).nodeName&&_.nodeName.toLowerCase())||"input"===x&&"file"===_.type)var R=getTargetInstForChangeEvent;else if(isTextInputElement(_))if(Rt)R=getTargetInstForInputOrChangeEvent;else{R=getTargetInstForInputEventPolyfill;var F=handleEventsForInputEventPolyfill}else!(x=_.nodeName)||"input"!==x.toLowerCase()||"checkbox"!==_.type&&"radio"!==_.type?p&&isCustomElement(p.elementType)&&(R=getTargetInstForChangeEvent):R=getTargetInstForClickEvent;switch(R&&(R=R(r,p))?createAndAccumulateChangeEvent(v,R,l,m):(F&&F(r,_,p),"focusout"===r&&p&&"number"===_.type&&null!=p.memoizedProps.value&&setDefaultValue(_,"number",_.value)),F=p?getNodeFromInstance(p):window,r){case"focusin":(isTextInputElement(F)||"true"===F.contentEditable)&&(Ht=F,zt=p,Bt=null);break;case"focusout":Bt=zt=Ht=null;break;case"mousedown":Ut=!0;break;case"contextmenu":case"mouseup":case"dragend":Ut=!1,constructSelectEvent(v,l,m);break;case"selectionchange":if(Nt)break;case"keydown":case"keyup":constructSelectEvent(v,l,m)}var O;if(St)e:{switch(r){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else Tt?isFallbackCompositionEnd(r,l)&&(L="onCompositionEnd"):"keydown"===r&&229===l.keyCode&&(L="onCompositionStart");L&&(Ct&&"ko"!==l.locale&&(Tt||"onCompositionStart"!==L?"onCompositionEnd"===L&&Tt&&(O=getData()):(Qe="value"in(Xe=m)?Xe.value:Xe.textContent,Tt=!0)),0<(F=accumulateTwoPhaseListeners(p,L)).length&&(L=new dt(L,r,null,l,m),v.push({event:L,listeners:F}),O?L.data=O:null!==(O=getDataFromCustomEvent(l))&&(L.data=O))),(O=kt?function getNativeBeforeInputChars(r,i){switch(r){case"compositionend":return getDataFromCustomEvent(i);case"keypress":return 32!==i.which?null:(Et=!0,Pt);case"textInput":return(r=i.data)===Pt&&Et?null:r;default:return null}}(r,l):function getFallbackBeforeInputChars(r,i){if(Tt)return"compositionend"===r||!St&&isFallbackCompositionEnd(r,i)?(r=getData(),Ke=Qe=Xe=null,Tt=!1,r):null;switch(r){case"paste":default:return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ct&&"ko"!==i.locale?null:i.data}}(r,l))&&(0<(L=accumulateTwoPhaseListeners(p,"onBeforeInput")).length&&(F=new dt("onBeforeInput","beforeinput",null,l,m),v.push({event:F,listeners:L}),F.data=O)),function extractEvents$1(r,i,l,p,m){if("submit"===i&&l&&l.stateNode===m){var y=coerceFormActionProp((m[Pe]||null).action),v=p.submitter;v&&null!==(i=(i=v[Pe]||null)?coerceFormActionProp(i.formAction):v.getAttribute("formAction"))&&(y=i,v=null);var _=new rt("action","action",null,p,m);r.push({event:_,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(0!==hi){var r=v?createFormDataWithSubmitter(m,v):new FormData(m);startHostTransition(l,{pending:!0,data:r,method:m.method,action:y},null,r)}}else"function"==typeof y&&(_.preventDefault(),r=v?createFormDataWithSubmitter(m,v):new FormData(m),startHostTransition(l,{pending:!0,data:r,method:m.method,action:y},y,r))},currentTarget:m}]})}}(v,r,p,l,m)}processDispatchQueue(v,i)})}function createDispatchListener(r,i,l){return{instance:r,listener:i,currentTarget:l}}function accumulateTwoPhaseListeners(r,i){for(var l=i+"Capture",p=[];null!==r;){var m=r,y=m.stateNode;if(5!==(m=m.tag)&&26!==m&&27!==m||null===y||(null!=(m=getListener(r,l))&&p.unshift(createDispatchListener(r,m,y)),null!=(m=getListener(r,i))&&p.push(createDispatchListener(r,m,y))),3===r.tag)return p;r=r.return}return[]}function getParent(r){if(null===r)return null;do{r=r.return}while(r&&5!==r.tag&&27!==r.tag);return r||null}function accumulateEnterLeaveListenersForEvent(r,i,l,p,m){for(var y=i._reactName,v=[];null!==l&&l!==p;){var _=l,x=_.alternate,S=_.stateNode;if(_=_.tag,null!==x&&x===p)break;5!==_&&26!==_&&27!==_||null===S||(x=S,m?null!=(S=getListener(l,y))&&v.unshift(createDispatchListener(l,S,x)):m||null!=(S=getListener(l,y))&&v.push(createDispatchListener(l,S,x))),l=l.return}0!==v.length&&r.push({event:i,listeners:v})}var vi=/\r\n?/g,bi=/\u0000|\uFFFD/g;function normalizeMarkupForTextOrAttribute(r){return("string"==typeof r?r:""+r).replace(vi,"\n").replace(bi,"")}function checkForUnmatchedText(r,i){return i=normalizeMarkupForTextOrAttribute(i),normalizeMarkupForTextOrAttribute(r)===i}function setProp(r,i,l,p,m,y){switch(l){case"children":"string"==typeof p?"body"===i||"textarea"===i&&""===p||setTextContent(r,p):("number"==typeof p||"bigint"==typeof p)&&"body"!==i&&setTextContent(r,""+p);break;case"className":setValueForKnownAttribute(r,"class",p);break;case"tabIndex":setValueForKnownAttribute(r,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":setValueForKnownAttribute(r,l,p);break;case"style":setValueForStyles(r,p,y);break;case"data":if("object"!==i){setValueForKnownAttribute(r,"data",p);break}case"src":case"href":if(""===p&&("a"!==i||"href"!==l)){r.removeAttribute(l);break}if(null==p||"function"==typeof p||"symbol"==typeof p||"boolean"==typeof p){r.removeAttribute(l);break}p=sanitizeURL(""+p),r.setAttribute(l,p);break;case"action":case"formAction":if("function"==typeof p){r.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"==typeof y&&("formAction"===l?("input"!==i&&setProp(r,i,"name",m.name,m,null),setProp(r,i,"formEncType",m.formEncType,m,null),setProp(r,i,"formMethod",m.formMethod,m,null),setProp(r,i,"formTarget",m.formTarget,m,null)):(setProp(r,i,"encType",m.encType,m,null),setProp(r,i,"method",m.method,m,null),setProp(r,i,"target",m.target,m,null))),null==p||"symbol"==typeof p||"boolean"==typeof p){r.removeAttribute(l);break}p=sanitizeURL(""+p),r.setAttribute(l,p);break;case"onClick":null!=p&&(r.onclick=noop$1);break;case"onScroll":null!=p&&listenToNonDelegatedEvent("scroll",r);break;case"onScrollEnd":null!=p&&listenToNonDelegatedEvent("scrollend",r);break;case"dangerouslySetInnerHTML":if(null!=p){if("object"!=typeof p||!("__html"in p))throw Error(formatProdErrorMessage(61));if(null!=(l=p.__html)){if(null!=m.children)throw Error(formatProdErrorMessage(60));r.innerHTML=l}}break;case"multiple":r.multiple=p&&"function"!=typeof p&&"symbol"!=typeof p;break;case"muted":r.muted=p&&"function"!=typeof p&&"symbol"!=typeof p;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==p||"function"==typeof p||"boolean"==typeof p||"symbol"==typeof p){r.removeAttribute("xlink:href");break}l=sanitizeURL(""+p),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=p&&"function"!=typeof p&&"symbol"!=typeof p?r.setAttribute(l,""+p):r.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&"function"!=typeof p&&"symbol"!=typeof p?r.setAttribute(l,""):r.removeAttribute(l);break;case"capture":case"download":!0===p?r.setAttribute(l,""):!1!==p&&null!=p&&"function"!=typeof p&&"symbol"!=typeof p?r.setAttribute(l,p):r.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":null!=p&&"function"!=typeof p&&"symbol"!=typeof p&&!isNaN(p)&&1<=p?r.setAttribute(l,p):r.removeAttribute(l);break;case"rowSpan":case"start":null==p||"function"==typeof p||"symbol"==typeof p||isNaN(p)?r.removeAttribute(l):r.setAttribute(l,p);break;case"popover":listenToNonDelegatedEvent("beforetoggle",r),listenToNonDelegatedEvent("toggle",r),setValueForAttribute(r,"popover",p);break;case"xlinkActuate":setValueForNamespacedAttribute(r,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":setValueForNamespacedAttribute(r,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":setValueForNamespacedAttribute(r,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":setValueForNamespacedAttribute(r,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":setValueForNamespacedAttribute(r,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":setValueForNamespacedAttribute(r,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":setValueForNamespacedAttribute(r,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":setValueForNamespacedAttribute(r,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":setValueForNamespacedAttribute(r,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":setValueForAttribute(r,"is",p);break;case"innerText":case"textContent":break;default:(!(2<l.length)||"o"!==l[0]&&"O"!==l[0]||"n"!==l[1]&&"N"!==l[1])&&setValueForAttribute(r,l=Be.get(l)||l,p)}}function setPropOnCustomElement(r,i,l,p,m,y){switch(l){case"style":setValueForStyles(r,p,y);break;case"dangerouslySetInnerHTML":if(null!=p){if("object"!=typeof p||!("__html"in p))throw Error(formatProdErrorMessage(61));if(null!=(l=p.__html)){if(null!=m.children)throw Error(formatProdErrorMessage(60));r.innerHTML=l}}break;case"children":"string"==typeof p?setTextContent(r,p):("number"==typeof p||"bigint"==typeof p)&&setTextContent(r,""+p);break;case"onScroll":null!=p&&listenToNonDelegatedEvent("scroll",r);break;case"onScrollEnd":null!=p&&listenToNonDelegatedEvent("scrollend",r);break;case"onClick":null!=p&&(r.onclick=noop$1);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Oe.hasOwnProperty(l)||("o"!==l[0]||"n"!==l[1]||(m=l.endsWith("Capture"),i=l.slice(2,m?l.length-7:void 0),"function"==typeof(y=null!=(y=r[Pe]||null)?y[l]:null)&&r.removeEventListener(i,y,m),"function"!=typeof p)?l in r?r[l]=p:!0===p?r.setAttribute(l,""):setValueForAttribute(r,l,p):("function"!=typeof y&&null!==y&&(l in r?r[l]=null:r.hasAttribute(l)&&r.removeAttribute(l)),r.addEventListener(i,p,m)))}}function setInitialProperties(r,i,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":listenToNonDelegatedEvent("error",r),listenToNonDelegatedEvent("load",r);var p,m=!1,y=!1;for(p in l)if(l.hasOwnProperty(p)){var v=l[p];if(null!=v)switch(p){case"src":m=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(formatProdErrorMessage(137,i));default:setProp(r,i,p,v,l,null)}}return y&&setProp(r,i,"srcSet",l.srcSet,l,null),void(m&&setProp(r,i,"src",l.src,l,null));case"input":listenToNonDelegatedEvent("invalid",r);var _=p=v=y=null,x=null,S=null;for(m in l)if(l.hasOwnProperty(m)){var k=l[m];if(null!=k)switch(m){case"name":y=k;break;case"type":v=k;break;case"checked":x=k;break;case"defaultChecked":S=k;break;case"value":p=k;break;case"defaultValue":_=k;break;case"children":case"dangerouslySetInnerHTML":if(null!=k)throw Error(formatProdErrorMessage(137,i));break;default:setProp(r,i,m,k,l,null)}}return void initInput(r,p,_,x,S,v,y,!1);case"select":for(y in listenToNonDelegatedEvent("invalid",r),m=v=p=null,l)if(l.hasOwnProperty(y)&&null!=(_=l[y]))switch(y){case"value":p=_;break;case"defaultValue":v=_;break;case"multiple":m=_;default:setProp(r,i,y,_,l,null)}return i=p,l=v,r.multiple=!!m,void(null!=i?updateOptions(r,!!m,i,!1):null!=l&&updateOptions(r,!!m,l,!0));case"textarea":for(v in listenToNonDelegatedEvent("invalid",r),p=y=m=null,l)if(l.hasOwnProperty(v)&&null!=(_=l[v]))switch(v){case"value":m=_;break;case"defaultValue":y=_;break;case"children":p=_;break;case"dangerouslySetInnerHTML":if(null!=_)throw Error(formatProdErrorMessage(91));break;default:setProp(r,i,v,_,l,null)}return void initTextarea(r,m,y,p);case"option":for(x in l)if(l.hasOwnProperty(x)&&null!=(m=l[x]))if("selected"===x)r.selected=m&&"function"!=typeof m&&"symbol"!=typeof m;else setProp(r,i,x,m,l,null);return;case"dialog":listenToNonDelegatedEvent("beforetoggle",r),listenToNonDelegatedEvent("toggle",r),listenToNonDelegatedEvent("cancel",r),listenToNonDelegatedEvent("close",r);break;case"iframe":case"object":listenToNonDelegatedEvent("load",r);break;case"video":case"audio":for(m=0;m<mi.length;m++)listenToNonDelegatedEvent(mi[m],r);break;case"image":listenToNonDelegatedEvent("error",r),listenToNonDelegatedEvent("load",r);break;case"details":listenToNonDelegatedEvent("toggle",r);break;case"embed":case"source":case"link":listenToNonDelegatedEvent("error",r),listenToNonDelegatedEvent("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(S in l)if(l.hasOwnProperty(S)&&null!=(m=l[S]))switch(S){case"children":case"dangerouslySetInnerHTML":throw Error(formatProdErrorMessage(137,i));default:setProp(r,i,S,m,l,null)}return;default:if(isCustomElement(i)){for(k in l)l.hasOwnProperty(k)&&(void 0!==(m=l[k])&&setPropOnCustomElement(r,i,k,m,l,void 0));return}}for(_ in l)l.hasOwnProperty(_)&&(null!=(m=l[_])&&setProp(r,i,_,m,l,null))}function isLikelyStaticResource(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var _i=null,xi=null;function getOwnerDocumentFromRootContainer(r){return 9===r.nodeType?r:r.ownerDocument}function getOwnHostContext(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function getChildHostContextProd(r,i){if(0===r)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return 1===r&&"foreignObject"===i?0:r}function shouldSetTextContent(r,i){return"textarea"===r||"noscript"===r||"string"==typeof i.children||"number"==typeof i.children||"bigint"==typeof i.children||"object"==typeof i.dangerouslySetInnerHTML&&null!==i.dangerouslySetInnerHTML&&null!=i.dangerouslySetInnerHTML.__html}var Si=null;var wi="function"==typeof setTimeout?setTimeout:void 0,ki="function"==typeof clearTimeout?clearTimeout:void 0,Ci="function"==typeof Promise?Promise:void 0,Pi="function"==typeof queueMicrotask?queueMicrotask:void 0!==Ci?function(r){return Ci.resolve(null).then(r).catch(handleErrorInNextTick)}:wi;function handleErrorInNextTick(r){setTimeout(function(){throw r})}function isSingletonScope(r){return"head"===r}function clearHydrationBoundary(r,i){var l=i,p=0;do{var m=l.nextSibling;if(r.removeChild(l),m&&8===m.nodeType)if("/$"===(l=m.data)||"/&"===l){if(0===p)return r.removeChild(m),void retryIfBlockedOn(i);p--}else if("$"===l||"$?"===l||"$~"===l||"$!"===l||"&"===l)p++;else if("html"===l)releaseSingletonInstance(r.ownerDocument.documentElement);else if("head"===l){releaseSingletonInstance(l=r.ownerDocument.head);for(var y=l.firstChild;y;){var v=y.nextSibling,_=y.nodeName;y[Re]||"SCRIPT"===_||"STYLE"===_||"LINK"===_&&"stylesheet"===y.rel.toLowerCase()||l.removeChild(y),y=v}}else"body"===l&&releaseSingletonInstance(r.ownerDocument.body);l=m}while(l);retryIfBlockedOn(i)}function hideOrUnhideDehydratedBoundary(r,i){var l=r;r=0;do{var p=l.nextSibling;if(1===l.nodeType?i?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",""===l.getAttribute("style")&&l.removeAttribute("style")):3===l.nodeType&&(i?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),p&&8===p.nodeType)if("/$"===(l=p.data)){if(0===r)break;r--}else"$"!==l&&"$?"!==l&&"$~"!==l&&"$!"!==l||r++;l=p}while(l)}function clearContainerSparingly(r){var i=r.firstChild;for(i&&10===i.nodeType&&(i=i.nextSibling);i;){var l=i;switch(i=i.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":clearContainerSparingly(l),detachDeletedInstance(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===l.rel.toLowerCase())continue}r.removeChild(l)}}function canHydrateHydrationBoundary(r,i){for(;8!==r.nodeType;){if((1!==r.nodeType||"INPUT"!==r.nodeName||"hidden"!==r.type)&&!i)return null;if(null===(r=getNextHydratable(r.nextSibling)))return null}return r}function isSuspenseInstancePending(r){return"$?"===r.data||"$~"===r.data}function isSuspenseInstanceFallback(r){return"$!"===r.data||"$?"===r.data&&"loading"!==r.ownerDocument.readyState}function getNextHydratable(r){for(;null!=r;r=r.nextSibling){var i=r.nodeType;if(1===i||3===i)break;if(8===i){if("$"===(i=r.data)||"$!"===i||"$?"===i||"$~"===i||"&"===i||"F!"===i||"F"===i)break;if("/$"===i||"/&"===i)return null}}return r}var Ei=null;function getNextHydratableInstanceAfterHydrationBoundary(r){r=r.nextSibling;for(var i=0;r;){if(8===r.nodeType){var l=r.data;if("/$"===l||"/&"===l){if(0===i)return getNextHydratable(r.nextSibling);i--}else"$"!==l&&"$!"!==l&&"$?"!==l&&"$~"!==l&&"&"!==l||i++}r=r.nextSibling}return null}function getParentHydrationBoundary(r){r=r.previousSibling;for(var i=0;r;){if(8===r.nodeType){var l=r.data;if("$"===l||"$!"===l||"$?"===l||"$~"===l||"&"===l){if(0===i)return r;i--}else"/$"!==l&&"/&"!==l||i++}r=r.previousSibling}return null}function resolveSingletonInstance(r,i,l){switch(i=getOwnerDocumentFromRootContainer(l),r){case"html":if(!(r=i.documentElement))throw Error(formatProdErrorMessage(452));return r;case"head":if(!(r=i.head))throw Error(formatProdErrorMessage(453));return r;case"body":if(!(r=i.body))throw Error(formatProdErrorMessage(454));return r;default:throw Error(formatProdErrorMessage(451))}}function releaseSingletonInstance(r){for(var i=r.attributes;i.length;)r.removeAttributeNode(i[0]);detachDeletedInstance(r)}var Ti=new Map,Ai=new Set;function getHoistableRoot(r){return"function"==typeof r.getRootNode?r.getRootNode():9===r.nodeType?r:r.ownerDocument}var Mi=W.d;W.d={f:function flushSyncWork(){var r=Mi.f(),i=flushSyncWork$1();return r||i},r:function requestFormReset(r){var i=getInstanceFromNode(r);null!==i&&5===i.tag&&"form"===i.type?requestFormReset$1(i):Mi.r(r)},D:function prefetchDNS(r){Mi.D(r),preconnectAs("dns-prefetch",r,null)},C:function preconnect(r,i){Mi.C(r,i),preconnectAs("preconnect",r,i)},L:function preload2(r,i,l){Mi.L(r,i,l);var m=Ii;if(m&&r&&i){var y='link[rel="preload"][as="'+escapeSelectorAttributeValueInsideDoubleQuotes(i)+'"]';"image"===i&&l&&l.imageSrcSet?(y+='[imagesrcset="'+escapeSelectorAttributeValueInsideDoubleQuotes(l.imageSrcSet)+'"]',"string"==typeof l.imageSizes&&(y+='[imagesizes="'+escapeSelectorAttributeValueInsideDoubleQuotes(l.imageSizes)+'"]')):y+='[href="'+escapeSelectorAttributeValueInsideDoubleQuotes(r)+'"]';var v=y;switch(i){case"style":v=getStyleKey(r);break;case"script":v=getScriptKey(r)}Ti.has(v)||(r=p({rel:"preload",href:"image"===i&&l&&l.imageSrcSet?void 0:r,as:i},l),Ti.set(v,r),null!==m.querySelector(y)||"style"===i&&m.querySelector(getStylesheetSelectorFromKey(v))||"script"===i&&m.querySelector(getScriptSelectorFromKey(v))||(setInitialProperties(i=m.createElement("link"),"link",r),markNodeAsHoistable(i),m.head.appendChild(i)))}},m:function preloadModule(r,i){Mi.m(r,i);var l=Ii;if(l&&r){var m=i&&"string"==typeof i.as?i.as:"script",y='link[rel="modulepreload"][as="'+escapeSelectorAttributeValueInsideDoubleQuotes(m)+'"][href="'+escapeSelectorAttributeValueInsideDoubleQuotes(r)+'"]',v=y;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=getScriptKey(r)}if(!Ti.has(v)&&(r=p({rel:"modulepreload",href:r},i),Ti.set(v,r),null===l.querySelector(y))){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(getScriptSelectorFromKey(v)))return}setInitialProperties(m=l.createElement("link"),"link",r),markNodeAsHoistable(m),l.head.appendChild(m)}}},X:function preinitScript(r,i){Mi.X(r,i);var l=Ii;if(l&&r){var m=getResourcesFromRoot(l).hoistableScripts,y=getScriptKey(r),v=m.get(y);v||((v=l.querySelector(getScriptSelectorFromKey(y)))||(r=p({src:r,async:!0},i),(i=Ti.get(y))&&adoptPreloadPropsForScript(r,i),markNodeAsHoistable(v=l.createElement("script")),setInitialProperties(v,"link",r),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},m.set(y,v))}},S:function preinitStyle(r,i,l){Mi.S(r,i,l);var m=Ii;if(m&&r){var y=getResourcesFromRoot(m).hoistableStyles,v=getStyleKey(r);i=i||"default";var _=y.get(v);if(!_){var x={loading:0,preload:null};if(_=m.querySelector(getStylesheetSelectorFromKey(v)))x.loading=5;else{r=p({rel:"stylesheet",href:r,"data-precedence":i},l),(l=Ti.get(v))&&adoptPreloadPropsForStylesheet(r,l);var S=_=m.createElement("link");markNodeAsHoistable(S),setInitialProperties(S,"link",r),S._p=new Promise(function(r,i){S.onload=r,S.onerror=i}),S.addEventListener("load",function(){x.loading|=1}),S.addEventListener("error",function(){x.loading|=2}),x.loading|=4,insertStylesheet(_,i,m)}_={type:"stylesheet",instance:_,count:1,state:x},y.set(v,_)}}},M:function preinitModuleScript(r,i){Mi.M(r,i);var l=Ii;if(l&&r){var m=getResourcesFromRoot(l).hoistableScripts,y=getScriptKey(r),v=m.get(y);v||((v=l.querySelector(getScriptSelectorFromKey(y)))||(r=p({src:r,async:!0,type:"module"},i),(i=Ti.get(y))&&adoptPreloadPropsForScript(r,i),markNodeAsHoistable(v=l.createElement("script")),setInitialProperties(v,"link",r),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},m.set(y,v))}}};var Ii="undefined"==typeof document?null:document;function preconnectAs(r,i,l){var p=Ii;if(p&&"string"==typeof i&&i){var m=escapeSelectorAttributeValueInsideDoubleQuotes(i);m='link[rel="'+r+'"][href="'+m+'"]',"string"==typeof l&&(m+='[crossorigin="'+l+'"]'),Ai.has(m)||(Ai.add(m),r={rel:r,crossOrigin:l,href:i},null===p.querySelector(m)&&(setInitialProperties(i=p.createElement("link"),"link",r),markNodeAsHoistable(i),p.head.appendChild(i)))}}function getResource(r,i,l,p){var m=(m=J.current)?getHoistableRoot(m):null;if(!m)throw Error(formatProdErrorMessage(446));switch(r){case"meta":case"title":return null;case"style":return"string"==typeof l.precedence&&"string"==typeof l.href?(i=getStyleKey(l.href),(p=(l=getResourcesFromRoot(m).hoistableStyles).get(i))||(p={type:"style",instance:null,count:0,state:null},l.set(i,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===l.rel&&"string"==typeof l.href&&"string"==typeof l.precedence){r=getStyleKey(l.href);var y=getResourcesFromRoot(m).hoistableStyles,v=y.get(r);if(v||(m=m.ownerDocument||m,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(r,v),(y=m.querySelector(getStylesheetSelectorFromKey(r)))&&!y._p&&(v.instance=y,v.state.loading=5),Ti.has(r)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Ti.set(r,l),y||function preloadStylesheet(r,i,l,p){r.querySelector('link[rel="preload"][as="style"]['+i+"]")?p.loading=1:(i=r.createElement("link"),p.preload=i,i.addEventListener("load",function(){return p.loading|=1}),i.addEventListener("error",function(){return p.loading|=2}),setInitialProperties(i,"link",l),markNodeAsHoistable(i),r.head.appendChild(i))}(m,r,l,v.state))),i&&null===p)throw Error(formatProdErrorMessage(528,""));return v}if(i&&null!==p)throw Error(formatProdErrorMessage(529,""));return null;case"script":return i=l.async,"string"==typeof(l=l.src)&&i&&"function"!=typeof i&&"symbol"!=typeof i?(i=getScriptKey(l),(p=(l=getResourcesFromRoot(m).hoistableScripts).get(i))||(p={type:"script",instance:null,count:0,state:null},l.set(i,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(formatProdErrorMessage(444,r))}}function getStyleKey(r){return'href="'+escapeSelectorAttributeValueInsideDoubleQuotes(r)+'"'}function getStylesheetSelectorFromKey(r){return'link[rel="stylesheet"]['+r+"]"}function stylesheetPropsFromRawProps(r){return p({},r,{"data-precedence":r.precedence,precedence:null})}function getScriptKey(r){return'[src="'+escapeSelectorAttributeValueInsideDoubleQuotes(r)+'"]'}function getScriptSelectorFromKey(r){return"script[async]"+r}function acquireResource(r,i,l){if(i.count++,null===i.instance)switch(i.type){case"style":var m=r.querySelector('style[data-href~="'+escapeSelectorAttributeValueInsideDoubleQuotes(l.href)+'"]');if(m)return i.instance=m,markNodeAsHoistable(m),m;var y=p({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return markNodeAsHoistable(m=(r.ownerDocument||r).createElement("style")),setInitialProperties(m,"style",y),insertStylesheet(m,l.precedence,r),i.instance=m;case"stylesheet":y=getStyleKey(l.href);var v=r.querySelector(getStylesheetSelectorFromKey(y));if(v)return i.state.loading|=4,i.instance=v,markNodeAsHoistable(v),v;m=stylesheetPropsFromRawProps(l),(y=Ti.get(y))&&adoptPreloadPropsForStylesheet(m,y),markNodeAsHoistable(v=(r.ownerDocument||r).createElement("link"));var _=v;return _._p=new Promise(function(r,i){_.onload=r,_.onerror=i}),setInitialProperties(v,"link",m),i.state.loading|=4,insertStylesheet(v,l.precedence,r),i.instance=v;case"script":return v=getScriptKey(l.src),(y=r.querySelector(getScriptSelectorFromKey(v)))?(i.instance=y,markNodeAsHoistable(y),y):(m=l,(y=Ti.get(v))&&adoptPreloadPropsForScript(m=p({},l),y),markNodeAsHoistable(y=(r=r.ownerDocument||r).createElement("script")),setInitialProperties(y,"link",m),r.head.appendChild(y),i.instance=y);case"void":return null;default:throw Error(formatProdErrorMessage(443,i.type))}else"stylesheet"===i.type&&!(4&i.state.loading)&&(m=i.instance,i.state.loading|=4,insertStylesheet(m,l.precedence,r));return i.instance}function insertStylesheet(r,i,l){for(var p=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=p.length?p[p.length-1]:null,y=m,v=0;v<p.length;v++){var _=p[v];if(_.dataset.precedence===i)y=_;else if(y!==m)break}y?y.parentNode.insertBefore(r,y.nextSibling):(i=9===l.nodeType?l.head:l).insertBefore(r,i.firstChild)}function adoptPreloadPropsForStylesheet(r,i){null==r.crossOrigin&&(r.crossOrigin=i.crossOrigin),null==r.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),null==r.title&&(r.title=i.title)}function adoptPreloadPropsForScript(r,i){null==r.crossOrigin&&(r.crossOrigin=i.crossOrigin),null==r.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),null==r.integrity&&(r.integrity=i.integrity)}var Ri=null;function getHydratableHoistableCache(r,i,l){if(null===Ri){var p=new Map,m=Ri=new Map;m.set(l,p)}else(p=(m=Ri).get(l))||(p=new Map,m.set(l,p));if(p.has(r))return p;for(p.set(r,null),l=l.getElementsByTagName(r),m=0;m<l.length;m++){var y=l[m];if(!(y[Re]||y[Ce]||"link"===r&&"stylesheet"===y.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==y.namespaceURI){var v=y.getAttribute(i)||"";v=r+v;var _=p.get(v);_?_.push(y):p.set(v,[y])}}return p}function mountHoistable(r,i,l){(r=r.ownerDocument||r).head.insertBefore(l,"title"===i?r.querySelector("head > title"):null)}function preloadResource(r){return!!("stylesheet"!==r.type||3&r.state.loading)}var Fi=0;function onUnsuspend(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)insertSuspendedStylesheets(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}var Oi=null;function insertSuspendedStylesheets(r,i){r.stylesheets=null,null!==r.unsuspend&&(r.count++,Oi=new Map,i.forEach(insertStylesheetIntoRoot,r),Oi=null,onUnsuspend.call(r))}function insertStylesheetIntoRoot(r,i){if(!(4&i.state.loading)){var l=Oi.get(r);if(l)var p=l.get(null);else{l=new Map,Oi.set(r,l);for(var m=r.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var v=m[y];"LINK"!==v.nodeName&&"not all"===v.getAttribute("media")||(l.set(v.dataset.precedence,v),p=v)}p&&l.set(null,p)}v=(m=i.instance).getAttribute("data-precedence"),(y=l.get(v)||p)===p&&l.set(null,m),l.set(v,m),this.count++,p=onUnsuspend.bind(this),m.addEventListener("load",p),m.addEventListener("error",p),y?y.parentNode.insertBefore(m,y.nextSibling):(r=9===r.nodeType?r.head:r).insertBefore(m,r.firstChild),i.state.loading|=4}}var Li={$$typeof:C,Provider:null,Consumer:null,_currentValue:j,_currentValue2:j,_threadCount:0};function FiberRootNode(r,i,l,p,m,y,v,_,x){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=createLaneMap(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=createLaneMap(0),this.hiddenUpdates=createLaneMap(null),this.identifierPrefix=p,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function createFiberRoot(r,i,l,p,m,y,v,_,x,S,k,C){return r=new FiberRootNode(r,i,l,v,x,S,k,C,_),i=1,!0===y&&(i|=24),y=createFiberImplClass(3,null,null,i),r.current=y,y.stateNode=r,(i=createCache()).refCount++,r.pooledCache=i,i.refCount++,y.memoizedState={element:p,isDehydrated:l,cache:i},initializeUpdateQueue(y),r}function getContextForSubtree(r){return r?r=ir:ir}function updateContainerImpl(r,i,l,p,m,y){m=getContextForSubtree(m),null===p.context?p.context=m:p.pendingContext=m,(p=createUpdate(i)).payload={element:l},null!==(y=void 0===y?null:y)&&(p.callback=y),null!==(l=enqueueUpdate(r,p,i))&&(scheduleUpdateOnFiber(l,0,i),entangleTransitions(l,r,i))}function markRetryLaneImpl(r,i){if(null!==(r=r.memoizedState)&&null!==r.dehydrated){var l=r.retryLane;r.retryLane=0!==l&&l<i?l:i}}function markRetryLaneIfNotHydrated(r,i){markRetryLaneImpl(r,i),(r=r.alternate)&&markRetryLaneImpl(r,i)}function attemptContinuousHydration(r){if(13===r.tag||31===r.tag){var i=enqueueConcurrentRenderForLane(r,67108864);null!==i&&scheduleUpdateOnFiber(i,0,67108864),markRetryLaneIfNotHydrated(r,67108864)}}function attemptHydrationAtCurrentPriority(r){if(13===r.tag||31===r.tag){var i=requestUpdateLane(),l=enqueueConcurrentRenderForLane(r,i=getBumpedLaneForHydrationByLane(i));null!==l&&scheduleUpdateOnFiber(l,0,i),markRetryLaneIfNotHydrated(r,i)}}var Di=!0;function dispatchDiscreteEvent(r,i,l,p){var m=V.T;V.T=null;var y=W.p;try{W.p=2,dispatchEvent(r,i,l,p)}finally{W.p=y,V.T=m}}function dispatchContinuousEvent(r,i,l,p){var m=V.T;V.T=null;var y=W.p;try{W.p=8,dispatchEvent(r,i,l,p)}finally{W.p=y,V.T=m}}function dispatchEvent(r,i,l,p){if(Di){var m=findInstanceBlockingEvent(p);if(null===m)dispatchEventForPluginEventSystem(r,i,p,Ni,l),clearIfContinuousEvent(r,p);else if(function queueIfContinuousEvent(r,i,l,p,m){switch(i){case"focusin":return zi=accumulateOrCreateContinuousQueuedReplayableEvent(zi,r,i,l,p,m),!0;case"dragenter":return Bi=accumulateOrCreateContinuousQueuedReplayableEvent(Bi,r,i,l,p,m),!0;case"mouseover":return Ui=accumulateOrCreateContinuousQueuedReplayableEvent(Ui,r,i,l,p,m),!0;case"pointerover":var y=m.pointerId;return Gi.set(y,accumulateOrCreateContinuousQueuedReplayableEvent(Gi.get(y)||null,r,i,l,p,m)),!0;case"gotpointercapture":return y=m.pointerId,Vi.set(y,accumulateOrCreateContinuousQueuedReplayableEvent(Vi.get(y)||null,r,i,l,p,m)),!0}return!1}(m,r,i,l,p))p.stopPropagation();else if(clearIfContinuousEvent(r,p),4&i&&-1<ji.indexOf(r)){for(;null!==m;){var y=getInstanceFromNode(m);if(null!==y)switch(y.tag){case 3:if((y=y.stateNode).current.memoizedState.isDehydrated){var v=getHighestPriorityLanes(y.pendingLanes);if(0!==v){var _=y;for(_.pendingLanes|=2,_.entangledLanes|=2;v;){var x=1<<31-ve(v);_.entanglements[1]|=x,v&=~x}ensureRootIsScheduled(y),!(6&Tn)&&(Xn=oe()+500,flushSyncWorkAcrossRoots_impl(0))}}break;case 31:case 13:null!==(_=enqueueConcurrentRenderForLane(y,2))&&scheduleUpdateOnFiber(_,0,2),flushSyncWork$1(),markRetryLaneIfNotHydrated(y,2)}if(null===(y=findInstanceBlockingEvent(p))&&dispatchEventForPluginEventSystem(r,i,p,Ni,l),y===m)break;m=y}null!==m&&p.stopPropagation()}else dispatchEventForPluginEventSystem(r,i,p,null,l)}}function findInstanceBlockingEvent(r){return findInstanceBlockingTarget(r=getEventTarget(r))}var Ni=null;function findInstanceBlockingTarget(r){if(Ni=null,null!==(r=getClosestInstanceFromNode(r))){var i=getNearestMountedFiber(r);if(null===i)r=null;else{var l=i.tag;if(13===l){if(null!==(r=getSuspenseInstanceFromFiber(i)))return r;r=null}else if(31===l){if(null!==(r=getActivityInstanceFromFiber(i)))return r;r=null}else if(3===l){if(i.stateNode.current.memoizedState.isDehydrated)return 3===i.tag?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}return Ni=r,null}function getEventPriority(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(le()){case ue:return 2;case ce:return 8;case de:case he:return 32;case fe:return 268435456;default:return 32}default:return 32}}var Hi=!1,zi=null,Bi=null,Ui=null,Gi=new Map,Vi=new Map,Wi=[],ji="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function clearIfContinuousEvent(r,i){switch(r){case"focusin":case"focusout":zi=null;break;case"dragenter":case"dragleave":Bi=null;break;case"mouseover":case"mouseout":Ui=null;break;case"pointerover":case"pointerout":Gi.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vi.delete(i.pointerId)}}function accumulateOrCreateContinuousQueuedReplayableEvent(r,i,l,p,m,y){return null===r||r.nativeEvent!==y?(r={blockedOn:i,domEventName:l,eventSystemFlags:p,nativeEvent:y,targetContainers:[m]},null!==i&&(null!==(i=getInstanceFromNode(i))&&attemptContinuousHydration(i)),r):(r.eventSystemFlags|=p,i=r.targetContainers,null!==m&&-1===i.indexOf(m)&&i.push(m),r)}function attemptExplicitHydrationTarget(r){var i=getClosestInstanceFromNode(r.target);if(null!==i){var l=getNearestMountedFiber(i);if(null!==l)if(13===(i=l.tag)){if(null!==(i=getSuspenseInstanceFromFiber(l)))return r.blockedOn=i,void runWithPriority(r.priority,function(){attemptHydrationAtCurrentPriority(l)})}else if(31===i){if(null!==(i=getActivityInstanceFromFiber(l)))return r.blockedOn=i,void runWithPriority(r.priority,function(){attemptHydrationAtCurrentPriority(l)})}else if(3===i&&l.stateNode.current.memoizedState.isDehydrated)return void(r.blockedOn=3===l.tag?l.stateNode.containerInfo:null)}r.blockedOn=null}function attemptReplayContinuousQueuedEvent(r){if(null!==r.blockedOn)return!1;for(var i=r.targetContainers;0<i.length;){var l=findInstanceBlockingEvent(r.nativeEvent);if(null!==l)return null!==(i=getInstanceFromNode(l))&&attemptContinuousHydration(i),r.blockedOn=l,!1;var p=new(l=r.nativeEvent).constructor(l.type,l);Ge=p,l.target.dispatchEvent(p),Ge=null,i.shift()}return!0}function attemptReplayContinuousQueuedEventInMap(r,i,l){attemptReplayContinuousQueuedEvent(r)&&l.delete(i)}function replayUnblockedEvents(){Hi=!1,null!==zi&&attemptReplayContinuousQueuedEvent(zi)&&(zi=null),null!==Bi&&attemptReplayContinuousQueuedEvent(Bi)&&(Bi=null),null!==Ui&&attemptReplayContinuousQueuedEvent(Ui)&&(Ui=null),Gi.forEach(attemptReplayContinuousQueuedEventInMap),Vi.forEach(attemptReplayContinuousQueuedEventInMap)}function scheduleCallbackIfUnblocked(i,l){i.blockedOn===l&&(i.blockedOn=null,Hi||(Hi=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,replayUnblockedEvents)))}var $i=null;function scheduleReplayQueueIfNeeded(i){$i!==i&&($i=i,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){$i===i&&($i=null);for(var r=0;r<i.length;r+=3){var l=i[r],p=i[r+1],m=i[r+2];if("function"!=typeof p){if(null===findInstanceBlockingTarget(p||l))continue;break}var y=getInstanceFromNode(l);null!==y&&(i.splice(r,3),r-=3,startHostTransition(y,{pending:!0,data:m,method:l.method,action:p},p,m))}}))}function retryIfBlockedOn(r){function unblock(i){return scheduleCallbackIfUnblocked(i,r)}null!==zi&&scheduleCallbackIfUnblocked(zi,r),null!==Bi&&scheduleCallbackIfUnblocked(Bi,r),null!==Ui&&scheduleCallbackIfUnblocked(Ui,r),Gi.forEach(unblock),Vi.forEach(unblock);for(var i=0;i<Wi.length;i++){var l=Wi[i];l.blockedOn===r&&(l.blockedOn=null)}for(;0<Wi.length&&null===(i=Wi[0]).blockedOn;)attemptExplicitHydrationTarget(i),null===i.blockedOn&&Wi.shift();if(null!=(i=(r.ownerDocument||r).$$reactFormReplay))for(l=0;l<i.length;l+=3){var p=i[l],m=i[l+1],y=p[Pe]||null;if("function"==typeof m)y||scheduleReplayQueueIfNeeded(i);else if(y){var v=null;if(m&&m.hasAttribute("formAction")){if(p=m,y=m[Pe]||null)v=y.formAction;else if(null!==findInstanceBlockingTarget(p))continue}else v=y.action;"function"==typeof v?i[l+1]=v:(i.splice(l,3),l-=3),scheduleReplayQueueIfNeeded(i)}}}function defaultOnDefaultTransitionIndicator(){function handleNavigate(r){r.canIntercept&&"react-transition"===r.info&&r.intercept({handler:function(){return new Promise(function(r){return i=r})},focusReset:"manual",scroll:"manual"})}function handleNavigateComplete(){null!==i&&(i(),i=null),r||setTimeout(startFakeNavigation,20)}function startFakeNavigation(){if(!r&&!navigation.transition){var i=navigation.currentEntry;i&&null!=i.url&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if("object"==typeof navigation){var r=!1,i=null;return navigation.addEventListener("navigate",handleNavigate),navigation.addEventListener("navigatesuccess",handleNavigateComplete),navigation.addEventListener("navigateerror",handleNavigateComplete),setTimeout(startFakeNavigation,100),function(){r=!0,navigation.removeEventListener("navigate",handleNavigate),navigation.removeEventListener("navigatesuccess",handleNavigateComplete),navigation.removeEventListener("navigateerror",handleNavigateComplete),null!==i&&(i(),i=null)}}}function ReactDOMRoot(r){this._internalRoot=r}function ReactDOMHydrationRoot(r){this._internalRoot=r}ReactDOMHydrationRoot.prototype.render=ReactDOMRoot.prototype.render=function(r){var i=this._internalRoot;if(null===i)throw Error(formatProdErrorMessage(409));updateContainerImpl(i.current,requestUpdateLane(),r,i,null,null)},ReactDOMHydrationRoot.prototype.unmount=ReactDOMRoot.prototype.unmount=function(){var r=this._internalRoot;if(null!==r){this._internalRoot=null;var i=r.containerInfo;updateContainerImpl(r.current,2,null,r,null,null),flushSyncWork$1(),i[Ee]=null}},ReactDOMHydrationRoot.prototype.unstable_scheduleHydration=function(r){if(r){var i=resolveUpdatePriority();r={blockedOn:null,target:r,priority:i};for(var l=0;l<Wi.length&&0!==i&&i<Wi[l].priority;l++);Wi.splice(l,0,r),0===l&&attemptExplicitHydrationTarget(r)}};var qi=i.version;if("19.2.4"!==qi)throw Error(formatProdErrorMessage(527,qi,"19.2.4"));W.findDOMNode=function(r){var i=r._reactInternals;if(void 0===i){if("function"==typeof r.render)throw Error(formatProdErrorMessage(188));throw r=Object.keys(r).join(","),Error(formatProdErrorMessage(268,r))}return r=function findCurrentFiberUsingSlowPath(r){var i=r.alternate;if(!i){if(null===(i=getNearestMountedFiber(r)))throw Error(formatProdErrorMessage(188));return i!==r?null:r}for(var l=r,p=i;;){var m=l.return;if(null===m)break;var y=m.alternate;if(null===y){if(null!==(p=m.return)){l=p;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===l)return assertIsMounted(m),r;if(y===p)return assertIsMounted(m),i;y=y.sibling}throw Error(formatProdErrorMessage(188))}if(l.return!==p.return)l=m,p=y;else{for(var v=!1,_=m.child;_;){if(_===l){v=!0,l=m,p=y;break}if(_===p){v=!0,p=m,l=y;break}_=_.sibling}if(!v){for(_=y.child;_;){if(_===l){v=!0,l=y,p=m;break}if(_===p){v=!0,p=y,l=m;break}_=_.sibling}if(!v)throw Error(formatProdErrorMessage(189))}}if(l.alternate!==p)throw Error(formatProdErrorMessage(190))}if(3!==l.tag)throw Error(formatProdErrorMessage(188));return l.stateNode.current===l?r:i}(i),r=null===(r=null!==r?findCurrentHostFiberImpl(r):null)?null:r.stateNode};var Yi={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.2.4"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Xi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xi.isDisabled&&Xi.supportsFiber)try{ge=Xi.inject(Yi),ye=Xi}catch(Ki){}}return A.createRoot=function(r,i){if(!isValidContainer(r))throw Error(formatProdErrorMessage(299));var l=!1,p="",m=defaultOnUncaughtError,y=defaultOnCaughtError,v=defaultOnRecoverableError;return null!=i&&(!0===i.unstable_strictMode&&(l=!0),void 0!==i.identifierPrefix&&(p=i.identifierPrefix),void 0!==i.onUncaughtError&&(m=i.onUncaughtError),void 0!==i.onCaughtError&&(y=i.onCaughtError),void 0!==i.onRecoverableError&&(v=i.onRecoverableError)),i=createFiberRoot(r,1,!1,null,0,l,p,null,m,y,v,defaultOnDefaultTransitionIndicator),r[Ee]=i.current,listenToAllSupportedEvents(r),new ReactDOMRoot(i)},A.hydrateRoot=function(r,i,l){if(!isValidContainer(r))throw Error(formatProdErrorMessage(299));var p=!1,m="",y=defaultOnUncaughtError,v=defaultOnCaughtError,_=defaultOnRecoverableError,x=null;return null!=l&&(!0===l.unstable_strictMode&&(p=!0),void 0!==l.identifierPrefix&&(m=l.identifierPrefix),void 0!==l.onUncaughtError&&(y=l.onUncaughtError),void 0!==l.onCaughtError&&(v=l.onCaughtError),void 0!==l.onRecoverableError&&(_=l.onRecoverableError),void 0!==l.formState&&(x=l.formState)),(i=createFiberRoot(r,1,!0,i,0,p,m,x,y,v,_,defaultOnDefaultTransitionIndicator)).context=getContextForSubtree(null),l=i.current,(m=createUpdate(p=getBumpedLaneForHydrationByLane(p=requestUpdateLane()))).callback=null,enqueueUpdate(l,m,p),l=p,i.current.lanes=l,markRootUpdated$1(i,l),ensureRootIsScheduled(i),r[Ee]=i.current,listenToAllSupportedEvents(r),new ReactDOMHydrationRoot(i)},A.version="19.2.4",A}const U=getDefaultExportFromCjs(function requireClient(){return D||(D=1,function checkDCE(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(r){}}(),T.exports=requireReactDomClient_production()),T.exports}());class WorkerPool{poolSize;workers;queue;activeWorkers;constructor(r=(navigator.hardwareConcurrency>1?navigator.hardwareConcurrency-1:4)){this.poolSize=r,this.workers=[],this.queue=[],this.activeWorkers=0,this.initialize()}initialize(){for(let r=0;r<this.poolSize;r++)this.workers.push(new Worker(new URL("/cossacks-replay-parser/assets/fileParser.worker-DTmKu40Y.js",import.meta.url)))}processFile(r){return new Promise((i,l)=>{const p={file:r,resolve:i,reject:l};this.queue.push(p),this.processQueue()})}processQueue(){if(0===this.queue.length)return;const r=this.workers.findIndex(r=>!r.busy);if(-1===r)return;const i=this.workers[r];if(!i)return;i.busy=!0,this.activeWorkers++;const l=this.queue.shift(),messageHandler=p=>{i.removeEventListener("message",messageHandler),l.resolve(p.data),i.terminate();const m=new Worker(new URL("/cossacks-replay-parser/assets/fileParser.worker-DTmKu40Y.js",import.meta.url));m.busy=!1,this.workers[r]=m,this.activeWorkers--,this.processQueue()};i.addEventListener("message",messageHandler),i.postMessage(l.file)}terminate(){this.workers.forEach(r=>r.terminate()),this.workers=[],this.queue=[],this.activeWorkers=0}}var G,V={};var W=function requireHowler(){return G||(G=1,i=V,function(){var HowlerGlobal2=function(){this.init()};HowlerGlobal2.prototype={init:function(){var r=this||l;return r._counter=1e3,r._html5AudioPool=[],r.html5PoolSize=10,r._codecs={},r._howls=[],r._muted=!1,r._volume=1,r._canPlayEvent="canplaythrough",r._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,r.masterGain=null,r.noAudio=!1,r.usingWebAudio=!0,r.autoSuspend=!0,r.ctx=null,r.autoUnlock=!0,r._setup(),r},volume:function(r){var i=this||l;if(r=parseFloat(r),i.ctx||setupAudioContext(),void 0!==r&&r>=0&&r<=1){if(i._volume=r,i._muted)return i;i.usingWebAudio&&i.masterGain.gain.setValueAtTime(r,l.ctx.currentTime);for(var p=0;p<i._howls.length;p++)if(!i._howls[p]._webAudio)for(var m=i._howls[p]._getSoundIds(),y=0;y<m.length;y++){var v=i._howls[p]._soundById(m[y]);v&&v._node&&(v._node.volume=v._volume*r)}return i}return i._volume},mute:function(r){var i=this||l;i.ctx||setupAudioContext(),i._muted=r,i.usingWebAudio&&i.masterGain.gain.setValueAtTime(r?0:i._volume,l.ctx.currentTime);for(var p=0;p<i._howls.length;p++)if(!i._howls[p]._webAudio)for(var m=i._howls[p]._getSoundIds(),y=0;y<m.length;y++){var v=i._howls[p]._soundById(m[y]);v&&v._node&&(v._node.muted=!!r||v._muted)}return i},stop:function(){for(var r=this||l,i=0;i<r._howls.length;i++)r._howls[i].stop();return r},unload:function(){for(var r=this||l,i=r._howls.length-1;i>=0;i--)r._howls[i].unload();return r.usingWebAudio&&r.ctx&&void 0!==r.ctx.close&&(r.ctx.close(),r.ctx=null,setupAudioContext()),r},codecs:function(r){return(this||l)._codecs[r.replace(/^x-/,"")]},_setup:function(){var r=this||l;if(r.state=r.ctx&&r.ctx.state||"suspended",r._autoSuspend(),!r.usingWebAudio)if("undefined"!=typeof Audio)try{void 0===(new Audio).oncanplaythrough&&(r._canPlayEvent="canplay")}catch(i){r.noAudio=!0}else r.noAudio=!0;try{(new Audio).muted&&(r.noAudio=!0)}catch(i){}return r.noAudio||r._setupCodecs(),r},_setupCodecs:function(){var r=this||l,i=null;try{i="undefined"!=typeof Audio?new Audio:null}catch(k){return r}if(!i||"function"!=typeof i.canPlayType)return r;var p=i.canPlayType("audio/mpeg;").replace(/^no$/,""),m=r._navigator?r._navigator.userAgent:"",y=m.match(/OPR\/(\d+)/g),v=y&&parseInt(y[0].split("/")[1],10)<33,_=-1!==m.indexOf("Safari")&&-1===m.indexOf("Chrome"),x=m.match(/Version\/(.*?) /),S=_&&x&&parseInt(x[1],10)<15;return r._codecs={mp3:!(v||!p&&!i.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!p,opus:!!i.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!i.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!i.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(i.canPlayType('audio/wav; codecs="1"')||i.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!i.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!i.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(i.canPlayType("audio/x-m4a;")||i.canPlayType("audio/m4a;")||i.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(i.canPlayType("audio/x-m4b;")||i.canPlayType("audio/m4b;")||i.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(i.canPlayType("audio/x-mp4;")||i.canPlayType("audio/mp4;")||i.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!(S||!i.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!(S||!i.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!i.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(i.canPlayType("audio/x-flac;")||i.canPlayType("audio/flac;")).replace(/^no$/,"")},r},_unlockAudio:function(){var r=this||l;if(!r._audioUnlocked&&r.ctx){r._audioUnlocked=!1,r.autoUnlock=!1,r._mobileUnloaded||44100===r.ctx.sampleRate||(r._mobileUnloaded=!0,r.unload()),r._scratchBuffer=r.ctx.createBuffer(1,1,22050);var unlock=function(i){for(;r._html5AudioPool.length<r.html5PoolSize;)try{var l=new Audio;l._unlocked=!0,r._releaseHtml5Audio(l)}catch(x){r.noAudio=!0;break}for(var p=0;p<r._howls.length;p++)if(!r._howls[p]._webAudio)for(var m=r._howls[p]._getSoundIds(),y=0;y<m.length;y++){var v=r._howls[p]._soundById(m[y]);v&&v._node&&!v._node._unlocked&&(v._node._unlocked=!0,v._node.load())}r._autoResume();var _=r.ctx.createBufferSource();_.buffer=r._scratchBuffer,_.connect(r.ctx.destination),void 0===_.start?_.noteOn(0):_.start(0),"function"==typeof r.ctx.resume&&r.ctx.resume(),_.onended=function(){_.disconnect(0),r._audioUnlocked=!0,document.removeEventListener("touchstart",unlock,!0),document.removeEventListener("touchend",unlock,!0),document.removeEventListener("click",unlock,!0),document.removeEventListener("keydown",unlock,!0);for(var i=0;i<r._howls.length;i++)r._howls[i]._emit("unlock")}};return document.addEventListener("touchstart",unlock,!0),document.addEventListener("touchend",unlock,!0),document.addEventListener("click",unlock,!0),document.addEventListener("keydown",unlock,!0),r}},_obtainHtml5Audio:function(){var r=this||l;if(r._html5AudioPool.length)return r._html5AudioPool.pop();var i=(new Audio).play();return i&&"undefined"!=typeof Promise&&(i instanceof Promise||"function"==typeof i.then)&&i.catch(function(){}),new Audio},_releaseHtml5Audio:function(r){var i=this||l;return r._unlocked&&i._html5AudioPool.push(r),i},_autoSuspend:function(){var r=this;if(r.autoSuspend&&r.ctx&&void 0!==r.ctx.suspend&&l.usingWebAudio){for(var i=0;i<r._howls.length;i++)if(r._howls[i]._webAudio)for(var p=0;p<r._howls[i]._sounds.length;p++)if(!r._howls[i]._sounds[p]._paused)return r;return r._suspendTimer&&clearTimeout(r._suspendTimer),r._suspendTimer=setTimeout(function(){if(r.autoSuspend){r._suspendTimer=null,r.state="suspending";var handleSuspension=function(){r.state="suspended",r._resumeAfterSuspend&&(delete r._resumeAfterSuspend,r._autoResume())};r.ctx.suspend().then(handleSuspension,handleSuspension)}},3e4),r}},_autoResume:function(){var r=this;if(r.ctx&&void 0!==r.ctx.resume&&l.usingWebAudio)return"running"===r.state&&"interrupted"!==r.ctx.state&&r._suspendTimer?(clearTimeout(r._suspendTimer),r._suspendTimer=null):"suspended"===r.state||"running"===r.state&&"interrupted"===r.ctx.state?(r.ctx.resume().then(function(){r.state="running";for(var i=0;i<r._howls.length;i++)r._howls[i]._emit("resume")}),r._suspendTimer&&(clearTimeout(r._suspendTimer),r._suspendTimer=null)):"suspending"===r.state&&(r._resumeAfterSuspend=!0),r}};var l=new HowlerGlobal2,Howl2=function(r){r.src&&0!==r.src.length&&this.init(r)};Howl2.prototype={init:function(r){var i=this;return l.ctx||setupAudioContext(),i._autoplay=r.autoplay||!1,i._format="string"!=typeof r.format?r.format:[r.format],i._html5=r.html5||!1,i._muted=r.mute||!1,i._loop=r.loop||!1,i._pool=r.pool||5,i._preload="boolean"!=typeof r.preload&&"metadata"!==r.preload||r.preload,i._rate=r.rate||1,i._sprite=r.sprite||{},i._src="string"!=typeof r.src?r.src:[r.src],i._volume=void 0!==r.volume?r.volume:1,i._xhr={method:r.xhr&&r.xhr.method?r.xhr.method:"GET",headers:r.xhr&&r.xhr.headers?r.xhr.headers:null,withCredentials:!(!r.xhr||!r.xhr.withCredentials)&&r.xhr.withCredentials},i._duration=0,i._state="unloaded",i._sounds=[],i._endTimers={},i._queue=[],i._playLock=!1,i._onend=r.onend?[{fn:r.onend}]:[],i._onfade=r.onfade?[{fn:r.onfade}]:[],i._onload=r.onload?[{fn:r.onload}]:[],i._onloaderror=r.onloaderror?[{fn:r.onloaderror}]:[],i._onplayerror=r.onplayerror?[{fn:r.onplayerror}]:[],i._onpause=r.onpause?[{fn:r.onpause}]:[],i._onplay=r.onplay?[{fn:r.onplay}]:[],i._onstop=r.onstop?[{fn:r.onstop}]:[],i._onmute=r.onmute?[{fn:r.onmute}]:[],i._onvolume=r.onvolume?[{fn:r.onvolume}]:[],i._onrate=r.onrate?[{fn:r.onrate}]:[],i._onseek=r.onseek?[{fn:r.onseek}]:[],i._onunlock=r.onunlock?[{fn:r.onunlock}]:[],i._onresume=[],i._webAudio=l.usingWebAudio&&!i._html5,void 0!==l.ctx&&l.ctx&&l.autoUnlock&&l._unlockAudio(),l._howls.push(i),i._autoplay&&i._queue.push({event:"play",action:function(){i.play()}}),i._preload&&"none"!==i._preload&&i.load(),i},load:function(){var r=this,i=null;if(l.noAudio)r._emit("loaderror",null,"No audio support.");else{"string"==typeof r._src&&(r._src=[r._src]);for(var p=0;p<r._src.length;p++){var m,y;if(r._format&&r._format[p])m=r._format[p];else{if("string"!=typeof(y=r._src[p])){r._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(m=/^data:audio\/([^;,]+);/i.exec(y))||(m=/\.([^.]+)$/.exec(y.split("?",1)[0])),m&&(m=m[1].toLowerCase())}if(m&&l.codecs(m)){i=r._src[p];break}}if(i)return r._src=i,r._state="loading","https:"===window.location.protocol&&"http:"===i.slice(0,5)&&(r._html5=!0,r._webAudio=!1),new Sound2(r),r._webAudio&&loadBuffer(r),r;r._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(r,i){var p=this,m=null;if("number"==typeof r)m=r,r=null;else{if("string"==typeof r&&"loaded"===p._state&&!p._sprite[r])return null;if(void 0===r&&(r="__default",!p._playLock)){for(var y=0,v=0;v<p._sounds.length;v++)p._sounds[v]._paused&&!p._sounds[v]._ended&&(y++,m=p._sounds[v]._id);1===y?r=null:m=null}}var _=m?p._soundById(m):p._inactiveSound();if(!_)return null;if(m&&!r&&(r=_._sprite||"__default"),"loaded"!==p._state){_._sprite=r,_._ended=!1;var x=_._id;return p._queue.push({event:"play",action:function(){p.play(x)}}),x}if(m&&!_._paused)return i||p._loadQueue("play"),_._id;p._webAudio&&l._autoResume();var S=Math.max(0,_._seek>0?_._seek:p._sprite[r][0]/1e3),k=Math.max(0,(p._sprite[r][0]+p._sprite[r][1])/1e3-S),C=1e3*k/Math.abs(_._rate),P=p._sprite[r][0]/1e3,E=(p._sprite[r][0]+p._sprite[r][1])/1e3;_._sprite=r,_._ended=!1;var setParams=function(){_._paused=!1,_._seek=S,_._start=P,_._stop=E,_._loop=!(!_._loop&&!p._sprite[r][2])};if(!(S>=E)){var T=_._node;if(p._webAudio){var playWebAudio=function(){p._playLock=!1,setParams(),p._refreshBuffer(_);var r=_._muted||p._muted?0:_._volume;T.gain.setValueAtTime(r,l.ctx.currentTime),_._playStart=l.ctx.currentTime,void 0===T.bufferSource.start?_._loop?T.bufferSource.noteGrainOn(0,S,86400):T.bufferSource.noteGrainOn(0,S,k):_._loop?T.bufferSource.start(0,S,86400):T.bufferSource.start(0,S,k),C!==1/0&&(p._endTimers[_._id]=setTimeout(p._ended.bind(p,_),C)),i||setTimeout(function(){p._emit("play",_._id),p._loadQueue()},0)};"running"===l.state&&"interrupted"!==l.ctx.state?playWebAudio():(p._playLock=!0,p.once("resume",playWebAudio),p._clearTimer(_._id))}else{var playHtml5=function(){T.currentTime=S,T.muted=_._muted||p._muted||l._muted||T.muted,T.volume=_._volume*l.volume(),T.playbackRate=_._rate;try{var m=T.play();if(m&&"undefined"!=typeof Promise&&(m instanceof Promise||"function"==typeof m.then)?(p._playLock=!0,setParams(),m.then(function(){p._playLock=!1,T._unlocked=!0,i?p._loadQueue():p._emit("play",_._id)}).catch(function(){p._playLock=!1,p._emit("playerror",_._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),_._ended=!0,_._paused=!0})):i||(p._playLock=!1,setParams(),p._emit("play",_._id)),T.playbackRate=_._rate,T.paused)return void p._emit("playerror",_._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==r||_._loop?p._endTimers[_._id]=setTimeout(p._ended.bind(p,_),C):(p._endTimers[_._id]=function(){p._ended(_),T.removeEventListener("ended",p._endTimers[_._id],!1)},T.addEventListener("ended",p._endTimers[_._id],!1))}catch(y){p._emit("playerror",_._id,y)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===T.src&&(T.src=p._src,T.load());var A=window&&window.ejecta||!T.readyState&&l._navigator.isCocoonJS;if(T.readyState>=3||A)playHtml5();else{p._playLock=!0,p._state="loading";var listener=function(){p._state="loaded",playHtml5(),T.removeEventListener(l._canPlayEvent,listener,!1)};T.addEventListener(l._canPlayEvent,listener,!1),p._clearTimer(_._id)}}return _._id}p._ended(_)},pause:function(r){var i=this;if("loaded"!==i._state||i._playLock)return i._queue.push({event:"pause",action:function(){i.pause(r)}}),i;for(var l=i._getSoundIds(r),p=0;p<l.length;p++){i._clearTimer(l[p]);var m=i._soundById(l[p]);if(m&&!m._paused&&(m._seek=i.seek(l[p]),m._rateSeek=0,m._paused=!0,i._stopFade(l[p]),m._node))if(i._webAudio){if(!m._node.bufferSource)continue;void 0===m._node.bufferSource.stop?m._node.bufferSource.noteOff(0):m._node.bufferSource.stop(0),i._cleanBuffer(m._node)}else isNaN(m._node.duration)&&m._node.duration!==1/0||m._node.pause();arguments[1]||i._emit("pause",m?m._id:null)}return i},stop:function(r,i){var l=this;if("loaded"!==l._state||l._playLock)return l._queue.push({event:"stop",action:function(){l.stop(r)}}),l;for(var p=l._getSoundIds(r),m=0;m<p.length;m++){l._clearTimer(p[m]);var y=l._soundById(p[m]);y&&(y._seek=y._start||0,y._rateSeek=0,y._paused=!0,y._ended=!0,l._stopFade(p[m]),y._node&&(l._webAudio?y._node.bufferSource&&(void 0===y._node.bufferSource.stop?y._node.bufferSource.noteOff(0):y._node.bufferSource.stop(0),l._cleanBuffer(y._node)):isNaN(y._node.duration)&&y._node.duration!==1/0||(y._node.currentTime=y._start||0,y._node.pause(),y._node.duration===1/0&&l._clearSound(y._node))),i||l._emit("stop",y._id))}return l},mute:function(r,i){var p=this;if("loaded"!==p._state||p._playLock)return p._queue.push({event:"mute",action:function(){p.mute(r,i)}}),p;if(void 0===i){if("boolean"!=typeof r)return p._muted;p._muted=r}for(var m=p._getSoundIds(i),y=0;y<m.length;y++){var v=p._soundById(m[y]);v&&(v._muted=r,v._interval&&p._stopFade(v._id),p._webAudio&&v._node?v._node.gain.setValueAtTime(r?0:v._volume,l.ctx.currentTime):v._node&&(v._node.muted=!!l._muted||r),p._emit("mute",v._id))}return p},volume:function(){var r,i,p,m=this,y=arguments;if(0===y.length)return m._volume;if(1===y.length||2===y.length&&void 0===y[1]?m._getSoundIds().indexOf(y[0])>=0?i=parseInt(y[0],10):r=parseFloat(y[0]):y.length>=2&&(r=parseFloat(y[0]),i=parseInt(y[1],10)),!(void 0!==r&&r>=0&&r<=1))return(p=i?m._soundById(i):m._sounds[0])?p._volume:0;if("loaded"!==m._state||m._playLock)return m._queue.push({event:"volume",action:function(){m.volume.apply(m,y)}}),m;void 0===i&&(m._volume=r),i=m._getSoundIds(i);for(var v=0;v<i.length;v++)(p=m._soundById(i[v]))&&(p._volume=r,y[2]||m._stopFade(i[v]),m._webAudio&&p._node&&!p._muted?p._node.gain.setValueAtTime(r,l.ctx.currentTime):p._node&&!p._muted&&(p._node.volume=r*l.volume()),m._emit("volume",p._id));return m},fade:function(r,i,p,m){var y=this;if("loaded"!==y._state||y._playLock)return y._queue.push({event:"fade",action:function(){y.fade(r,i,p,m)}}),y;r=Math.min(Math.max(0,parseFloat(r)),1),i=Math.min(Math.max(0,parseFloat(i)),1),p=parseFloat(p),y.volume(r,m);for(var v=y._getSoundIds(m),_=0;_<v.length;_++){var x=y._soundById(v[_]);if(x){if(m||y._stopFade(v[_]),y._webAudio&&!x._muted){var S=l.ctx.currentTime,k=S+p/1e3;x._volume=r,x._node.gain.setValueAtTime(r,S),x._node.gain.linearRampToValueAtTime(i,k)}y._startFadeInterval(x,r,i,p,v[_],void 0===m)}}return y},_startFadeInterval:function(r,i,l,p,m,y){var v=this,_=i,x=l-i,S=Math.abs(x/.01),k=Math.max(4,S>0?p/S:p),C=Date.now();r._fadeTo=l,r._interval=setInterval(function(){var m=(Date.now()-C)/p;C=Date.now(),_+=x*m,_=Math.round(100*_)/100,_=x<0?Math.max(l,_):Math.min(l,_),v._webAudio?r._volume=_:v.volume(_,r._id,!0),y&&(v._volume=_),(l<i&&_<=l||l>i&&_>=l)&&(clearInterval(r._interval),r._interval=null,r._fadeTo=null,v.volume(l,r._id),v._emit("fade",r._id))},k)},_stopFade:function(r){var i=this,p=i._soundById(r);return p&&p._interval&&(i._webAudio&&p._node.gain.cancelScheduledValues(l.ctx.currentTime),clearInterval(p._interval),p._interval=null,i.volume(p._fadeTo,r),p._fadeTo=null,i._emit("fade",r)),i},loop:function(){var r,i,l,p=this,m=arguments;if(0===m.length)return p._loop;if(1===m.length){if("boolean"!=typeof m[0])return!!(l=p._soundById(parseInt(m[0],10)))&&l._loop;r=m[0],p._loop=r}else 2===m.length&&(r=m[0],i=parseInt(m[1],10));for(var y=p._getSoundIds(i),v=0;v<y.length;v++)(l=p._soundById(y[v]))&&(l._loop=r,p._webAudio&&l._node&&l._node.bufferSource&&(l._node.bufferSource.loop=r,r&&(l._node.bufferSource.loopStart=l._start||0,l._node.bufferSource.loopEnd=l._stop,p.playing(y[v])&&(p.pause(y[v],!0),p.play(y[v],!0)))));return p},rate:function(){var r,i,p,m=this,y=arguments;if(0===y.length?i=m._sounds[0]._id:1===y.length?m._getSoundIds().indexOf(y[0])>=0?i=parseInt(y[0],10):r=parseFloat(y[0]):2===y.length&&(r=parseFloat(y[0]),i=parseInt(y[1],10)),"number"!=typeof r)return(p=m._soundById(i))?p._rate:m._rate;if("loaded"!==m._state||m._playLock)return m._queue.push({event:"rate",action:function(){m.rate.apply(m,y)}}),m;void 0===i&&(m._rate=r),i=m._getSoundIds(i);for(var v=0;v<i.length;v++)if(p=m._soundById(i[v])){m.playing(i[v])&&(p._rateSeek=m.seek(i[v]),p._playStart=m._webAudio?l.ctx.currentTime:p._playStart),p._rate=r,m._webAudio&&p._node&&p._node.bufferSource?p._node.bufferSource.playbackRate.setValueAtTime(r,l.ctx.currentTime):p._node&&(p._node.playbackRate=r);var _=m.seek(i[v]),x=1e3*((m._sprite[p._sprite][0]+m._sprite[p._sprite][1])/1e3-_)/Math.abs(p._rate);!m._endTimers[i[v]]&&p._paused||(m._clearTimer(i[v]),m._endTimers[i[v]]=setTimeout(m._ended.bind(m,p),x)),m._emit("rate",p._id)}return m},seek:function(){var r,i,p=this,m=arguments;if(0===m.length?p._sounds.length&&(i=p._sounds[0]._id):1===m.length?p._getSoundIds().indexOf(m[0])>=0?i=parseInt(m[0],10):p._sounds.length&&(i=p._sounds[0]._id,r=parseFloat(m[0])):2===m.length&&(r=parseFloat(m[0]),i=parseInt(m[1],10)),void 0===i)return 0;if("number"==typeof r&&("loaded"!==p._state||p._playLock))return p._queue.push({event:"seek",action:function(){p.seek.apply(p,m)}}),p;var y=p._soundById(i);if(y){if(!("number"==typeof r&&r>=0)){if(p._webAudio){var v=p.playing(i)?l.ctx.currentTime-y._playStart:0,_=y._rateSeek?y._rateSeek-y._seek:0;return y._seek+(_+v*Math.abs(y._rate))}return y._node.currentTime}var x=p.playing(i);x&&p.pause(i,!0),y._seek=r,y._ended=!1,p._clearTimer(i),p._webAudio||!y._node||isNaN(y._node.duration)||(y._node.currentTime=r);var seekAndEmit=function(){x&&p.play(i,!0),p._emit("seek",i)};if(x&&!p._webAudio){var emitSeek=function(){p._playLock?setTimeout(emitSeek,0):seekAndEmit()};setTimeout(emitSeek,0)}else seekAndEmit()}return p},playing:function(r){var i=this;if("number"==typeof r){var l=i._soundById(r);return!!l&&!l._paused}for(var p=0;p<i._sounds.length;p++)if(!i._sounds[p]._paused)return!0;return!1},duration:function(r){var i=this,l=i._duration,p=i._soundById(r);return p&&(l=i._sprite[p._sprite][1]/1e3),l},state:function(){return this._state},unload:function(){for(var r=this,i=r._sounds,m=0;m<i.length;m++)i[m]._paused||r.stop(i[m]._id),r._webAudio||(r._clearSound(i[m]._node),i[m]._node.removeEventListener("error",i[m]._errorFn,!1),i[m]._node.removeEventListener(l._canPlayEvent,i[m]._loadFn,!1),i[m]._node.removeEventListener("ended",i[m]._endFn,!1),l._releaseHtml5Audio(i[m]._node)),delete i[m]._node,r._clearTimer(i[m]._id);var y=l._howls.indexOf(r);y>=0&&l._howls.splice(y,1);var v=!0;for(m=0;m<l._howls.length;m++)if(l._howls[m]._src===r._src||r._src.indexOf(l._howls[m]._src)>=0){v=!1;break}return p&&v&&delete p[r._src],l.noAudio=!1,r._state="unloaded",r._sounds=[],r=null,null},on:function(r,i,l,p){var m=this["_on"+r];return"function"==typeof i&&m.push(p?{id:l,fn:i,once:p}:{id:l,fn:i}),this},off:function(r,i,l){var p=this,m=p["_on"+r],y=0;if("number"==typeof i&&(l=i,i=null),i||l)for(y=0;y<m.length;y++){var v=l===m[y].id;if(i===m[y].fn&&v||!i&&v){m.splice(y,1);break}}else if(r)p["_on"+r]=[];else{var _=Object.keys(p);for(y=0;y<_.length;y++)0===_[y].indexOf("_on")&&Array.isArray(p[_[y]])&&(p[_[y]]=[])}return p},once:function(r,i,l){return this.on(r,i,l,1),this},_emit:function(r,i,l){for(var p=this,m=p["_on"+r],y=m.length-1;y>=0;y--)m[y].id&&m[y].id!==i&&"load"!==r||(setTimeout(function(r){r.call(this,i,l)}.bind(p,m[y].fn),0),m[y].once&&p.off(r,m[y].fn,m[y].id));return p._loadQueue(r),p},_loadQueue:function(r){var i=this;if(i._queue.length>0){var l=i._queue[0];l.event===r&&(i._queue.shift(),i._loadQueue()),r||l.action()}return i},_ended:function(r){var i=this,p=r._sprite;if(!i._webAudio&&r._node&&!r._node.paused&&!r._node.ended&&r._node.currentTime<r._stop)return setTimeout(i._ended.bind(i,r),100),i;var m=!(!r._loop&&!i._sprite[p][2]);if(i._emit("end",r._id),!i._webAudio&&m&&i.stop(r._id,!0).play(r._id),i._webAudio&&m){i._emit("play",r._id),r._seek=r._start||0,r._rateSeek=0,r._playStart=l.ctx.currentTime;var y=1e3*(r._stop-r._start)/Math.abs(r._rate);i._endTimers[r._id]=setTimeout(i._ended.bind(i,r),y)}return i._webAudio&&!m&&(r._paused=!0,r._ended=!0,r._seek=r._start||0,r._rateSeek=0,i._clearTimer(r._id),i._cleanBuffer(r._node),l._autoSuspend()),i._webAudio||m||i.stop(r._id,!0),i},_clearTimer:function(r){var i=this;if(i._endTimers[r]){if("function"!=typeof i._endTimers[r])clearTimeout(i._endTimers[r]);else{var l=i._soundById(r);l&&l._node&&l._node.removeEventListener("ended",i._endTimers[r],!1)}delete i._endTimers[r]}return i},_soundById:function(r){for(var i=this,l=0;l<i._sounds.length;l++)if(r===i._sounds[l]._id)return i._sounds[l];return null},_inactiveSound:function(){var r=this;r._drain();for(var i=0;i<r._sounds.length;i++)if(r._sounds[i]._ended)return r._sounds[i].reset();return new Sound2(r)},_drain:function(){var r=this,i=r._pool,l=0,p=0;if(!(r._sounds.length<i)){for(p=0;p<r._sounds.length;p++)r._sounds[p]._ended&&l++;for(p=r._sounds.length-1;p>=0;p--){if(l<=i)return;r._sounds[p]._ended&&(r._webAudio&&r._sounds[p]._node&&r._sounds[p]._node.disconnect(0),r._sounds.splice(p,1),l--)}}},_getSoundIds:function(r){if(void 0===r){for(var i=[],l=0;l<this._sounds.length;l++)i.push(this._sounds[l]._id);return i}return[r]},_refreshBuffer:function(r){return r._node.bufferSource=l.ctx.createBufferSource(),r._node.bufferSource.buffer=p[this._src],r._panner?r._node.bufferSource.connect(r._panner):r._node.bufferSource.connect(r._node),r._node.bufferSource.loop=r._loop,r._loop&&(r._node.bufferSource.loopStart=r._start||0,r._node.bufferSource.loopEnd=r._stop||0),r._node.bufferSource.playbackRate.setValueAtTime(r._rate,l.ctx.currentTime),this},_cleanBuffer:function(r){var i=l._navigator&&l._navigator.vendor.indexOf("Apple")>=0;if(!r.bufferSource)return this;if(l._scratchBuffer&&r.bufferSource&&(r.bufferSource.onended=null,r.bufferSource.disconnect(0),i))try{r.bufferSource.buffer=l._scratchBuffer}catch(p){}return r.bufferSource=null,this},_clearSound:function(r){/MSIE |Trident\//.test(l._navigator&&l._navigator.userAgent)||(r.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var Sound2=function(r){this._parent=r,this.init()};Sound2.prototype={init:function(){var r=this,i=r._parent;return r._muted=i._muted,r._loop=i._loop,r._volume=i._volume,r._rate=i._rate,r._seek=0,r._paused=!0,r._ended=!0,r._sprite="__default",r._id=++l._counter,i._sounds.push(r),r.create(),r},create:function(){var r=this,i=r._parent,p=l._muted||r._muted||r._parent._muted?0:r._volume;return i._webAudio?(r._node=void 0===l.ctx.createGain?l.ctx.createGainNode():l.ctx.createGain(),r._node.gain.setValueAtTime(p,l.ctx.currentTime),r._node.paused=!0,r._node.connect(l.masterGain)):l.noAudio||(r._node=l._obtainHtml5Audio(),r._errorFn=r._errorListener.bind(r),r._node.addEventListener("error",r._errorFn,!1),r._loadFn=r._loadListener.bind(r),r._node.addEventListener(l._canPlayEvent,r._loadFn,!1),r._endFn=r._endListener.bind(r),r._node.addEventListener("ended",r._endFn,!1),r._node.src=i._src,r._node.preload=!0===i._preload?"auto":i._preload,r._node.volume=p*l.volume(),r._node.load()),r},reset:function(){var r=this,i=r._parent;return r._muted=i._muted,r._loop=i._loop,r._volume=i._volume,r._rate=i._rate,r._seek=0,r._rateSeek=0,r._paused=!0,r._ended=!0,r._sprite="__default",r._id=++l._counter,r},_errorListener:function(){var r=this;r._parent._emit("loaderror",r._id,r._node.error?r._node.error.code:0),r._node.removeEventListener("error",r._errorFn,!1)},_loadListener:function(){var r=this,i=r._parent;i._duration=Math.ceil(10*r._node.duration)/10,0===Object.keys(i._sprite).length&&(i._sprite={__default:[0,1e3*i._duration]}),"loaded"!==i._state&&(i._state="loaded",i._emit("load"),i._loadQueue()),r._node.removeEventListener(l._canPlayEvent,r._loadFn,!1)},_endListener:function(){var r=this,i=r._parent;i._duration===1/0&&(i._duration=Math.ceil(10*r._node.duration)/10,i._sprite.__default[1]===1/0&&(i._sprite.__default[1]=1e3*i._duration),i._ended(r)),r._node.removeEventListener("ended",r._endFn,!1)}};var p={},loadBuffer=function(r){var i=r._src;if(p[i])return r._duration=p[i].duration,void loadSound(r);if(/^data:[^;]+;base64,/.test(i)){for(var l=atob(i.split(",")[1]),m=new Uint8Array(l.length),y=0;y<l.length;++y)m[y]=l.charCodeAt(y);decodeAudioData(m.buffer,r)}else{var v=new XMLHttpRequest;v.open(r._xhr.method,i,!0),v.withCredentials=r._xhr.withCredentials,v.responseType="arraybuffer",r._xhr.headers&&Object.keys(r._xhr.headers).forEach(function(i){v.setRequestHeader(i,r._xhr.headers[i])}),v.onload=function(){var i=(v.status+"")[0];"0"===i||"2"===i||"3"===i?decodeAudioData(v.response,r):r._emit("loaderror",null,"Failed loading audio file with status: "+v.status+".")},v.onerror=function(){r._webAudio&&(r._html5=!0,r._webAudio=!1,r._sounds=[],delete p[i],r.load())},safeXhrSend(v)}},safeXhrSend=function(r){try{r.send()}catch(i){r.onerror()}},decodeAudioData=function(r,i){var error=function(){i._emit("loaderror",null,"Decoding audio data failed.")},success=function(r){r&&i._sounds.length>0?(p[i._src]=r,loadSound(i,r)):error()};"undefined"!=typeof Promise&&1===l.ctx.decodeAudioData.length?l.ctx.decodeAudioData(r).then(success).catch(error):l.ctx.decodeAudioData(r,success,error)},loadSound=function(r,i){i&&!r._duration&&(r._duration=i.duration),0===Object.keys(r._sprite).length&&(r._sprite={__default:[0,1e3*r._duration]}),"loaded"!==r._state&&(r._state="loaded",r._emit("load"),r._loadQueue())},setupAudioContext=function(){if(l.usingWebAudio){try{"undefined"!=typeof AudioContext?l.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?l.ctx=new webkitAudioContext:l.usingWebAudio=!1}catch(y){l.usingWebAudio=!1}l.ctx||(l.usingWebAudio=!1);var r=/iP(hone|od|ad)/.test(l._navigator&&l._navigator.platform),i=l._navigator&&l._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),p=i?parseInt(i[1],10):null;if(r&&p&&p<9){var m=/safari/.test(l._navigator&&l._navigator.userAgent.toLowerCase());l._navigator&&!m&&(l.usingWebAudio=!1)}l.usingWebAudio&&(l.masterGain=void 0===l.ctx.createGain?l.ctx.createGainNode():l.ctx.createGain(),l.masterGain.gain.setValueAtTime(l._muted?0:l._volume,l.ctx.currentTime),l.masterGain.connect(l.ctx.destination)),l._setup()}};i.Howler=l,i.Howl=Howl2,void 0!==r?(r.HowlerGlobal=HowlerGlobal2,r.Howler=l,r.Howl=Howl2,r.Sound=Sound2):"undefined"!=typeof window&&(window.HowlerGlobal=HowlerGlobal2,window.Howler=l,window.Howl=Howl2,window.Sound=Sound2)}(),function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(r){var i=this;if(!i.ctx||!i.ctx.listener)return i;for(var l=i._howls.length-1;l>=0;l--)i._howls[l].stereo(r);return i},HowlerGlobal.prototype.pos=function(r,i,l){var p=this;return p.ctx&&p.ctx.listener?(i="number"!=typeof i?p._pos[1]:i,l="number"!=typeof l?p._pos[2]:l,"number"!=typeof r?p._pos:(p._pos=[r,i,l],void 0!==p.ctx.listener.positionX?(p.ctx.listener.positionX.setTargetAtTime(p._pos[0],Howler.ctx.currentTime,.1),p.ctx.listener.positionY.setTargetAtTime(p._pos[1],Howler.ctx.currentTime,.1),p.ctx.listener.positionZ.setTargetAtTime(p._pos[2],Howler.ctx.currentTime,.1)):p.ctx.listener.setPosition(p._pos[0],p._pos[1],p._pos[2]),p)):p},HowlerGlobal.prototype.orientation=function(r,i,l,p,m,y){var v=this;if(!v.ctx||!v.ctx.listener)return v;var _=v._orientation;return i="number"!=typeof i?_[1]:i,l="number"!=typeof l?_[2]:l,p="number"!=typeof p?_[3]:p,m="number"!=typeof m?_[4]:m,y="number"!=typeof y?_[5]:y,"number"!=typeof r?_:(v._orientation=[r,i,l,p,m,y],void 0!==v.ctx.listener.forwardX?(v.ctx.listener.forwardX.setTargetAtTime(r,Howler.ctx.currentTime,.1),v.ctx.listener.forwardY.setTargetAtTime(i,Howler.ctx.currentTime,.1),v.ctx.listener.forwardZ.setTargetAtTime(l,Howler.ctx.currentTime,.1),v.ctx.listener.upX.setTargetAtTime(p,Howler.ctx.currentTime,.1),v.ctx.listener.upY.setTargetAtTime(m,Howler.ctx.currentTime,.1),v.ctx.listener.upZ.setTargetAtTime(y,Howler.ctx.currentTime,.1)):v.ctx.listener.setOrientation(r,i,l,p,m,y),v)},Howl.prototype.init=function(r){return function(i){var l=this;return l._orientation=i.orientation||[1,0,0],l._stereo=i.stereo||null,l._pos=i.pos||null,l._pannerAttr={coneInnerAngle:void 0!==i.coneInnerAngle?i.coneInnerAngle:360,coneOuterAngle:void 0!==i.coneOuterAngle?i.coneOuterAngle:360,coneOuterGain:void 0!==i.coneOuterGain?i.coneOuterGain:0,distanceModel:void 0!==i.distanceModel?i.distanceModel:"inverse",maxDistance:void 0!==i.maxDistance?i.maxDistance:1e4,panningModel:void 0!==i.panningModel?i.panningModel:"HRTF",refDistance:void 0!==i.refDistance?i.refDistance:1,rolloffFactor:void 0!==i.rolloffFactor?i.rolloffFactor:1},l._onstereo=i.onstereo?[{fn:i.onstereo}]:[],l._onpos=i.onpos?[{fn:i.onpos}]:[],l._onorientation=i.onorientation?[{fn:i.onorientation}]:[],r.call(this,i)}}(Howl.prototype.init),Howl.prototype.stereo=function(r,i){var l=this;if(!l._webAudio)return l;if("loaded"!==l._state)return l._queue.push({event:"stereo",action:function(){l.stereo(r,i)}}),l;var p=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===i){if("number"!=typeof r)return l._stereo;l._stereo=r,l._pos=[r,0,0]}for(var m=l._getSoundIds(i),y=0;y<m.length;y++){var v=l._soundById(m[y]);if(v){if("number"!=typeof r)return v._stereo;v._stereo=r,v._pos=[r,0,0],v._node&&(v._pannerAttr.panningModel="equalpower",v._panner&&v._panner.pan||setupPanner(v,p),"spatial"===p?void 0!==v._panner.positionX?(v._panner.positionX.setValueAtTime(r,Howler.ctx.currentTime),v._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),v._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):v._panner.setPosition(r,0,0):v._panner.pan.setValueAtTime(r,Howler.ctx.currentTime)),l._emit("stereo",v._id)}}return l},Howl.prototype.pos=function(r,i,l,p){var m=this;if(!m._webAudio)return m;if("loaded"!==m._state)return m._queue.push({event:"pos",action:function(){m.pos(r,i,l,p)}}),m;if(i="number"!=typeof i?0:i,l="number"!=typeof l?-.5:l,void 0===p){if("number"!=typeof r)return m._pos;m._pos=[r,i,l]}for(var y=m._getSoundIds(p),v=0;v<y.length;v++){var _=m._soundById(y[v]);if(_){if("number"!=typeof r)return _._pos;_._pos=[r,i,l],_._node&&(_._panner&&!_._panner.pan||setupPanner(_,"spatial"),void 0!==_._panner.positionX?(_._panner.positionX.setValueAtTime(r,Howler.ctx.currentTime),_._panner.positionY.setValueAtTime(i,Howler.ctx.currentTime),_._panner.positionZ.setValueAtTime(l,Howler.ctx.currentTime)):_._panner.setPosition(r,i,l)),m._emit("pos",_._id)}}return m},Howl.prototype.orientation=function(r,i,l,p){var m=this;if(!m._webAudio)return m;if("loaded"!==m._state)return m._queue.push({event:"orientation",action:function(){m.orientation(r,i,l,p)}}),m;if(i="number"!=typeof i?m._orientation[1]:i,l="number"!=typeof l?m._orientation[2]:l,void 0===p){if("number"!=typeof r)return m._orientation;m._orientation=[r,i,l]}for(var y=m._getSoundIds(p),v=0;v<y.length;v++){var _=m._soundById(y[v]);if(_){if("number"!=typeof r)return _._orientation;_._orientation=[r,i,l],_._node&&(_._panner||(_._pos||(_._pos=m._pos||[0,0,-.5]),setupPanner(_,"spatial")),void 0!==_._panner.orientationX?(_._panner.orientationX.setValueAtTime(r,Howler.ctx.currentTime),_._panner.orientationY.setValueAtTime(i,Howler.ctx.currentTime),_._panner.orientationZ.setValueAtTime(l,Howler.ctx.currentTime)):_._panner.setOrientation(r,i,l)),m._emit("orientation",_._id)}}return m},Howl.prototype.pannerAttr=function(){var r,i,l,p=this,m=arguments;if(!p._webAudio)return p;if(0===m.length)return p._pannerAttr;if(1===m.length){if("object"!=typeof m[0])return(l=p._soundById(parseInt(m[0],10)))?l._pannerAttr:p._pannerAttr;r=m[0],void 0===i&&(r.pannerAttr||(r.pannerAttr={coneInnerAngle:r.coneInnerAngle,coneOuterAngle:r.coneOuterAngle,coneOuterGain:r.coneOuterGain,distanceModel:r.distanceModel,maxDistance:r.maxDistance,refDistance:r.refDistance,rolloffFactor:r.rolloffFactor,panningModel:r.panningModel}),p._pannerAttr={coneInnerAngle:void 0!==r.pannerAttr.coneInnerAngle?r.pannerAttr.coneInnerAngle:p._coneInnerAngle,coneOuterAngle:void 0!==r.pannerAttr.coneOuterAngle?r.pannerAttr.coneOuterAngle:p._coneOuterAngle,coneOuterGain:void 0!==r.pannerAttr.coneOuterGain?r.pannerAttr.coneOuterGain:p._coneOuterGain,distanceModel:void 0!==r.pannerAttr.distanceModel?r.pannerAttr.distanceModel:p._distanceModel,maxDistance:void 0!==r.pannerAttr.maxDistance?r.pannerAttr.maxDistance:p._maxDistance,refDistance:void 0!==r.pannerAttr.refDistance?r.pannerAttr.refDistance:p._refDistance,rolloffFactor:void 0!==r.pannerAttr.rolloffFactor?r.pannerAttr.rolloffFactor:p._rolloffFactor,panningModel:void 0!==r.pannerAttr.panningModel?r.pannerAttr.panningModel:p._panningModel})}else 2===m.length&&(r=m[0],i=parseInt(m[1],10));for(var y=p._getSoundIds(i),v=0;v<y.length;v++)if(l=p._soundById(y[v])){var _=l._pannerAttr;_={coneInnerAngle:void 0!==r.coneInnerAngle?r.coneInnerAngle:_.coneInnerAngle,coneOuterAngle:void 0!==r.coneOuterAngle?r.coneOuterAngle:_.coneOuterAngle,coneOuterGain:void 0!==r.coneOuterGain?r.coneOuterGain:_.coneOuterGain,distanceModel:void 0!==r.distanceModel?r.distanceModel:_.distanceModel,maxDistance:void 0!==r.maxDistance?r.maxDistance:_.maxDistance,refDistance:void 0!==r.refDistance?r.refDistance:_.refDistance,rolloffFactor:void 0!==r.rolloffFactor?r.rolloffFactor:_.rolloffFactor,panningModel:void 0!==r.panningModel?r.panningModel:_.panningModel};var x=l._panner;x||(l._pos||(l._pos=p._pos||[0,0,-.5]),setupPanner(l,"spatial"),x=l._panner),x.coneInnerAngle=_.coneInnerAngle,x.coneOuterAngle=_.coneOuterAngle,x.coneOuterGain=_.coneOuterGain,x.distanceModel=_.distanceModel,x.maxDistance=_.maxDistance,x.refDistance=_.refDistance,x.rolloffFactor=_.rolloffFactor,x.panningModel=_.panningModel}return p},Sound.prototype.init=function(r){return function(){var i=this,l=i._parent;i._orientation=l._orientation,i._stereo=l._stereo,i._pos=l._pos,i._pannerAttr=l._pannerAttr,r.call(this),i._stereo?l.stereo(i._stereo):i._pos&&l.pos(i._pos[0],i._pos[1],i._pos[2],i._id)}}(Sound.prototype.init),Sound.prototype.reset=function(r){return function(){var i=this,l=i._parent;return i._orientation=l._orientation,i._stereo=l._stereo,i._pos=l._pos,i._pannerAttr=l._pannerAttr,i._stereo?l.stereo(i._stereo):i._pos?l.pos(i._pos[0],i._pos[1],i._pos[2],i._id):i._panner&&(i._panner.disconnect(0),i._panner=void 0,l._refreshBuffer(i)),r.call(this)}}(Sound.prototype.reset);var setupPanner=function(r,i){"spatial"===(i=i||"spatial")?(r._panner=Howler.ctx.createPanner(),r._panner.coneInnerAngle=r._pannerAttr.coneInnerAngle,r._panner.coneOuterAngle=r._pannerAttr.coneOuterAngle,r._panner.coneOuterGain=r._pannerAttr.coneOuterGain,r._panner.distanceModel=r._pannerAttr.distanceModel,r._panner.maxDistance=r._pannerAttr.maxDistance,r._panner.refDistance=r._pannerAttr.refDistance,r._panner.rolloffFactor=r._pannerAttr.rolloffFactor,r._panner.panningModel=r._pannerAttr.panningModel,void 0!==r._panner.positionX?(r._panner.positionX.setValueAtTime(r._pos[0],Howler.ctx.currentTime),r._panner.positionY.setValueAtTime(r._pos[1],Howler.ctx.currentTime),r._panner.positionZ.setValueAtTime(r._pos[2],Howler.ctx.currentTime)):r._panner.setPosition(r._pos[0],r._pos[1],r._pos[2]),void 0!==r._panner.orientationX?(r._panner.orientationX.setValueAtTime(r._orientation[0],Howler.ctx.currentTime),r._panner.orientationY.setValueAtTime(r._orientation[1],Howler.ctx.currentTime),r._panner.orientationZ.setValueAtTime(r._orientation[2],Howler.ctx.currentTime)):r._panner.setOrientation(r._orientation[0],r._orientation[1],r._orientation[2])):(r._panner=Howler.ctx.createStereoPanner(),r._panner.pan.setValueAtTime(r._stereo,Howler.ctx.currentTime)),r._panner.connect(r._node),r._paused||r._parent.pause(r._id,!0).play(r._id,!0)}}()),V;var i}();const j=new W.Howl({src:["/cossacks-replay-parser/assets/pop1-qxWgsBFJ.ogg"],autoplay:!1,loop:!1}),q=new W.Howl({src:["/cossacks-replay-parser/assets/success1-Cbk7ILH5.wav"],autoplay:!1,loop:!1}),Y="fileResults";function initDB(){return new Promise((r,i)=>{const l=indexedDB.open("CossacksReplayDB",1);l.onupgradeneeded=()=>{const r=l.result;r.objectStoreNames.contains(Y)||r.createObjectStore(Y,{keyPath:"key"})},l.onsuccess=()=>{r(l.result)},l.onerror=()=>{i(l.error??new Error("Failed to open IndexedDB"))}})}const X=[199259,287176,364459,351554,318040,336746,303090,359812],useFilteredPlayers=r=>r?.players?r.players.filter(r=>{const i=!0===r?.bexists,l=0===r.lanid,p="name"===(r?.name?String(r.name):"").trim().toLowerCase();return i&&!(l&&p)}):[],Q=C.memo(({color:r})=>_.jsx("span",{className:`color-chip color-${r}`})),K=C.memo(({steamId:r,name:i,className:l=""})=>{if(!r||"0"===String(r))return null;const p=(r=>{try{return`https://steamcommunity.com/profiles/${(76561197960265728n+BigInt(String(r))).toString()}`}catch{return""}})(r);return p.length>0?_.jsxs("span",{className:"steam-link-wrapper",children:[_.jsxs("a",{href:p,target:"_blank",rel:"noopener noreferrer",title:i?`Open Steam profile: ${i}`:"Open Steam profile",className:`steam-link ${l}`,children:[_.jsx("img",{src:"/cossacks-replay-parser/assets/cropped_steam_image-uLoAzA_9.png",alt:"Steam",className:"steam-icon"}),i?_.jsx("span",{children:i}):null]}),_.jsxs("div",{className:"steam-tooltip",role:"tooltip",children:[_.jsx("div",{className:"steam-tooltip-arrow"}),_.jsx("div",{className:"steam-tooltip-content",children:p})]})]}):null}),Z=C.memo(({lanid:r,playerName:i,lanidNames:l})=>{const p=l[r]??[],m=p.length>1,y=p.filter(r=>r!==i);return _.jsxs("span",{className:"lanid-badge-wrapper",children:[_.jsx("span",{className:"lanid-badge"+(m?" lanid-badge--multi":""),children:r}),X.includes(r)&&_.jsx("span",{className:"cheater-badge",title:"Reported cheater",children:" cheater"}),m&&_.jsxs("span",{className:"lanid-tooltip",role:"tooltip",children:[_.jsx("div",{className:"lanid-tooltip-title",children:"Other names"}),_.jsx("ul",{className:"lanid-tooltip-list",children:y.map(r=>_.jsx("li",{children:r},r))})]})]})},(r,i)=>{if(r.lanid!==i.lanid||r.playerName!==i.playerName)return!1;const l=r.lanidNames[r.lanid],p=i.lanidNames[i.lanid];return l===p||(l&&p?l.length===p.length&&l.every((r,i)=>r===p[i]):l===p)}),J=C.memo(({player:r})=>{const i=[{id:r?.si1,name:r?.sn1},{id:r?.si2,name:r?.sn2},{id:r?.si3,name:r?.sn3}],l=r?.sic,p=null!=l?String(l):"0",m=i.filter(r=>null!=r.id&&"0"!==String(r.id)&&String(r.id)!==p).map((r,i)=>_.jsx(K,{steamId:r.id,name:r.name,className:"steam-link--extra"},`ex-${i}`)).filter(Boolean);return m.length?_.jsxs("span",{className:"steam-extras",title:"Extra Steam links",children:[_.jsx("span",{className:"steam-extras__pill",children:"extra"}),m]}):null}),ee=C.memo(({player:r,lanidNames:i})=>_.jsxs("li",{children:[r.name," (id: ",r.id,")",_.jsx(K,{steamId:r?.sic,name:r?.snc})," ","lanid"," ",_.jsx(Z,{lanid:r.lanid,playerName:r.name,lanidNames:i}),_.jsx(J,{player:r})," team ",r.team," color"," ",r.color,_.jsx(Q,{color:r.color})]},`${r.id}-${r.lanid}-${r.color}`)),PlayersList=({data:r,lanidNames:i})=>{const l=useFilteredPlayers(r);return l.length?_.jsx("ul",{className:"players-list",children:l.map(r=>_.jsx(ee,{player:r,lanidNames:i},`${r.id}-${r.lanid}-${r.color}`))}):_.jsx(_.Fragment,{children:""})},useFileResults=()=>{const[r,i]=k.useState([]),[l,p]=k.useState({});k.useEffect(()=>{(async function loadResults(){const r=await initDB();return new Promise((i,l)=>{const p=r.transaction([Y],"readonly").objectStore(Y).getAll();p.onsuccess=()=>{i(p.result??[])},p.onerror=()=>{l(p.error??new Error("Failed to read from object store"))}})})().then(r=>{const l=Array.isArray(r)?r:[];i(l.sort((r,i)=>(i.uploadedAt??0)-(r.uploadedAt??0))),p((r=>r.flatMap(r=>r.data?.players??[]).reduce((r,{lanid:i,name:l})=>{if(!l)return r;const p=String(i);return r[p]?.includes(l)||(r[p]??=[]).push(l),r},{}))(l))}).catch(r=>{})},[]);const m=k.useCallback(r=>{(async function saveResults(r){const i=await initDB();return new Promise((l,p)=>{const m=i.transaction([Y],"readwrite"),y=m.objectStore(Y),v=y.clear();v.onsuccess=()=>{for(const i of r)y.add(i)},v.onerror=()=>{p(v.error??new Error("Failed to clear object store"))},m.oncomplete=()=>l(),m.onerror=()=>p(m.error??new Error("Transaction failed")),m.onabort=()=>p(m.error??new Error("Transaction aborted"))})})(r).then(()=>{}).catch(r=>{})},[]);return{fileResults:r,lanidNames:l,addResult:k.useCallback((r,l)=>{const y=r.data?.players;y?.length&&p(r=>{const i={...r};return y.forEach(({lanid:r,name:l})=>{if(!l)return;const p=String(r);i[p]?.includes(l)||(i[p]??=[]).push(l)}),i}),i(i=>{const p=r.data?.gameId,y=p?i.findIndex(r=>r.data?.gameId===p):-1,v={key:p||`${l}-${Date.now()}-${Math.random()}`,uploadedAt:Date.now(),fileName:l,data:r.data??null,status:r.status},_=(-1!==y?i.map((r,i)=>i===y?v:r):[v,...i]).sort((r,i)=>(i.uploadedAt??0)-(r.uploadedAt??0));return m(_),_})},[m]),addResultsBatch:k.useCallback(r=>{const l=r.flatMap(r=>r.result.data?.players??[]);l.length&&p(r=>{const i={...r};return l.forEach(({lanid:r,name:l})=>{if(!l)return;const p=String(r);i[p]?.includes(l)||(i[p]??=[]).push(l)}),i}),i(i=>{let l=[...i];const p=[];r.forEach(({result:r,fileName:i})=>{const m=r.data?.gameId,y=m?l.findIndex(r=>r.data?.gameId===m):-1,v={key:m||`${i}-${Date.now()}-${Math.random()}`,uploadedAt:Date.now(),fileName:i,data:r.data??null,status:r.status};-1!==y?l[y]=v:p.push(v)}),l=[...p,...l];const y=l.sort((r,i)=>(i.uploadedAt??0)-(r.uploadedAt??0));return m(y),y})},[m]),addErrorResult:k.useCallback((r,l)=>{i(i=>{const p=[{key:`${r}-${Date.now()}-${Math.random()}`,uploadedAt:l,fileName:r,data:null,status:"error"},...i].sort((r,i)=>(i.uploadedAt??0)-(r.uploadedAt??0));return m(p),p})},[m]),clearAllResults:k.useCallback(async()=>{await async function clearResults(){const r=await initDB();return new Promise((i,l)=>{const p=r.transaction([Y],"readwrite").objectStore(Y).clear();p.onsuccess=()=>i(),p.onerror=()=>l(p.error??new Error("Failed to clear object store"))})}().catch(r=>{}),i([]),p({})},[])}},processFilesBatch=async(r,i,l,p,m,y)=>{let v=[],_=null;const flushResults=()=>{v.length>0&&(p([...v]),v=[],_&&clearTimeout(_),_=null)},processOne=async i=>{try{const l=await r.processFile(i);v.push({result:l,fileName:l.fileName}),j.play(),v.length>=20?flushResults():_||(_=setTimeout(flushResults,200))}catch(p){m(i.name,l)}};if(y)await Promise.allSettled(i.map(processOne));else for(const x of i)await processOne(x);flushResults()},FileInput=({fileInputRef:r,loading:i,onFileSelect:l})=>_.jsxs(_.Fragment,{children:[_.jsx("input",{type:"file",ref:r,accept:".rep",multiple:!0,onChange:r=>{const i=r.target.files;i?.length&&(l(i),r.target.value="")},className:"hidden-input"}),_.jsx("button",{className:"btn",disabled:i,onClick:()=>r.current?.click(),children:"Select Files to Parse"})]}),ClearHistoryButton=({loading:r,hasResults:i,onClearHistory:l})=>_.jsx("button",{className:"btn btn-danger",disabled:r||!i,onClick:l,title:i?"Clear saved results":"No history to clear",children:"Clear History"}),ResultsTable=({fileResults:r,lanidNames:i})=>_.jsxs("table",{className:"results-table",children:[_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsx("th",{children:"#"}),_.jsx("th",{children:"File Name"}),_.jsx("th",{children:"Players"}),_.jsx("th",{children:"Status"})]})}),_.jsx("tbody",{children:r.map((r,l)=>_.jsxs("tr",{children:[_.jsx("td",{children:l+1}),_.jsx("td",{children:r.fileName}),_.jsx("td",{children:_.jsx(PlayersList,{data:r.data,lanidNames:i})}),_.jsx("td",{children:r.status})]},r.key))})]});function App(){const r=(()=>{const[r,i]=k.useState(null);return k.useEffect(()=>{const r=new WorkerPool;return i(r),()=>{r.terminate()}},[]),r})(),{fileResults:i,lanidNames:l,addResultsBatch:p,addErrorResult:m,clearAllResults:y}=useFileResults(),[v,x]=k.useState(!1),S=k.useRef(null),C=k.useCallback(async i=>{if(r){x(!0);try{const l=31457280,y=Date.now(),[v,_]=Array.from(i).reduce(([r,i],p)=>p.size<=l?[[...r,p],i]:[r,[...i,p]],[[],[]]);await Promise.all([processFilesBatch(r,v,y,p,m,!0),processFilesBatch(r,_,y,p,m,!1)]),q.play()}finally{x(!1),S.current&&(S.current.value="")}}},[r,p,m]);return _.jsx("div",{className:"app-container",children:_.jsxs("div",{className:"main-card card",children:[_.jsx("h2",{children:"Cossacks 3 Replays Parser"}),_.jsx("p",{children:"Upload `.rep` files to parse and display player info."}),_.jsxs("div",{className:"stack stack--full",children:[_.jsx(FileInput,{fileInputRef:S,loading:v,onFileSelect:C}),_.jsx(ClearHistoryButton,{loading:v,hasResults:i.length>0,onClearHistory:y}),v&&_.jsx("div",{className:"spinner","aria-live":"polite",children:"Processing files..."}),i.length>0&&_.jsx(ResultsTable,{fileResults:i,lanidNames:l})]})]})})}var te,re={exports:{}};var ne=function requireStats_min(){return te?re.exports:(te=1,re.exports=((r=function(){function e2(r){return l.appendChild(r.dom),r}function u2(r){for(var p=0;p<l.children.length;p++)l.children[p].style.display=p===r?"block":"none";i=r}var i=0,l=document.createElement("div");l.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",l.addEventListener("click",function(r){r.preventDefault(),u2(++i%l.children.length)},!1);var p=(performance||Date).now(),m=p,y=0,v=e2(new r.Panel("FPS","#0ff","#002")),_=e2(new r.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var x=e2(new r.Panel("MB","#f08","#201"));return u2(0),{REVISION:16,dom:l,addPanel:e2,showPanel:u2,begin:function(){p=(performance||Date).now()},end:function(){y++;var r=(performance||Date).now();if(_.update(r-p,200),r>m+1e3&&(v.update(1e3*y/(r-m),100),m=r,y=0,x)){var i=performance.memory;x.update(i.usedJSHeapSize/1048576,i.jsHeapSizeLimit/1048576)}return r},update:function(){p=this.end()},domElement:l,setMode:u2}}).Panel=function(r,i,l){var p=1/0,m=0,y=Math.round,v=y(window.devicePixelRatio||1),_=80*v,x=48*v,S=3*v,k=2*v,C=3*v,P=15*v,E=74*v,T=30*v,A=document.createElement("canvas");A.width=_,A.height=x,A.style.cssText="width:80px;height:48px";var I=A.getContext("2d");return I.font="bold "+9*v+"px Helvetica,Arial,sans-serif",I.textBaseline="top",I.fillStyle=l,I.fillRect(0,0,_,x),I.fillStyle=i,I.fillText(r,S,k),I.fillRect(C,P,E,T),I.fillStyle=l,I.globalAlpha=.9,I.fillRect(C,P,E,T),{dom:A,update:function(x,R){p=Math.min(p,x),m=Math.max(m,x),I.fillStyle=l,I.globalAlpha=1,I.fillRect(0,0,_,P),I.fillStyle=i,I.fillText(y(x)+" "+r+" ("+y(p)+"-"+y(m)+")",S,k),I.drawImage(A,C+v,P,E-v,T,C,P,E-v,T),I.fillRect(C+E-v,P,v,T),I.fillStyle=l,I.globalAlpha=.9,I.fillRect(C+E-v,P,v,y((1-x/R)*T))}}},r));var r}();const ie=getDefaultExportFromCjs(ne);function FPSCounter(){return k.useEffect(()=>{const r=new ie;r.showPanel(0),document.body.appendChild(r.dom);const animate=()=>{r.begin(),r.end(),requestAnimationFrame(animate)};return requestAnimationFrame(animate),()=>{document.body.removeChild(r.dom)}},[]),null}const se={},ae=function preload(r,i,l){let p=Promise.resolve();if(i&&i.length>0){let allSettled=function(r){return Promise.all(r.map(r=>Promise.resolve(r).then(r=>({status:"fulfilled",value:r}),r=>({status:"rejected",reason:r}))))};document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),l=r?.nonce||r?.getAttribute("nonce");p=allSettled(i.map(r=>{if((r=function(r){return"/cossacks-replay-parser/"+r}(r))in se)return;se[r]=!0;const i=r.endsWith(".css"),p=i?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${p}`))return;const m=document.createElement("link");return m.rel=i?"stylesheet":"modulepreload",i||(m.as="script"),m.crossOrigin="",m.href=r,l&&m.setAttribute("nonce",l),document.head.appendChild(m),i?new Promise((i,l)=>{m.addEventListener("load",i),m.addEventListener("error",()=>l(new Error(`Unable to preload CSS for ${r}`)))}):void 0}))}function handlePreloadError(r){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=r,window.dispatchEvent(i),!i.defaultPrevented)throw r}return p.then(i=>{for(const r of i||[])"rejected"===r.status&&handlePreloadError(r.reason);return r().catch(handlePreloadError)})};var oe=(r=>(r.Application="application",r.WebGLPipes="webgl-pipes",r.WebGLPipesAdaptor="webgl-pipes-adaptor",r.WebGLSystem="webgl-system",r.WebGPUPipes="webgpu-pipes",r.WebGPUPipesAdaptor="webgpu-pipes-adaptor",r.WebGPUSystem="webgpu-system",r.CanvasSystem="canvas-system",r.CanvasPipesAdaptor="canvas-pipes-adaptor",r.CanvasPipes="canvas-pipes",r.Asset="asset",r.LoadParser="load-parser",r.ResolveParser="resolve-parser",r.CacheParser="cache-parser",r.DetectionParser="detection-parser",r.MaskEffect="mask-effect",r.BlendMode="blend-mode",r.TextureSource="texture-source",r.Environment="environment",r.ShapeBuilder="shape-builder",r.Batcher="batcher",r))(oe||{});const normalizeExtension=r=>{if("function"==typeof r||"object"==typeof r&&r.extension){if(!r.extension)throw new Error("Extension class must have an extension object");r={..."object"!=typeof r.extension?{type:r.extension}:r.extension,ref:r}}if("object"!=typeof r)throw new Error("Invalid extension type");return"string"==typeof(r={...r}).type&&(r.type=[r.type]),r},normalizeExtensionPriority=(r,i)=>normalizeExtension(r).priority??i,le={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...r){return r.map(normalizeExtension).forEach(r=>{r.type.forEach(i=>this._removeHandlers[i]?.(r))}),this},add(...r){return r.map(normalizeExtension).forEach(r=>{r.type.forEach(i=>{const l=this._addHandlers,p=this._queue;l[i]?l[i]?.(r):(p[i]=p[i]||[],p[i]?.push(r))})}),this},handle(r,i,l){const p=this._addHandlers,m=this._removeHandlers;if(p[r]||m[r])throw new Error(`Extension type ${r} already has a handler`);p[r]=i,m[r]=l;const y=this._queue;return y[r]&&(y[r]?.forEach(r=>i(r)),delete y[r]),this},handleByMap(r,i){return this.handle(r,r=>{r.name&&(i[r.name]=r.ref)},r=>{r.name&&delete i[r.name]})},handleByNamedList(r,i,l=-1){return this.handle(r,r=>{i.findIndex(i=>i.name===r.name)>=0||(i.push({name:r.name,value:r.ref}),i.sort((r,i)=>normalizeExtensionPriority(i.value,l)-normalizeExtensionPriority(r.value,l)))},r=>{const l=i.findIndex(i=>i.name===r.name);-1!==l&&i.splice(l,1)})},handleByList(r,i,l=-1){return this.handle(r,r=>{i.includes(r.ref)||(i.push(r.ref),i.sort((r,i)=>normalizeExtensionPriority(i,l)-normalizeExtensionPriority(r,l)))},r=>{const l=i.indexOf(r.ref);-1!==l&&i.splice(l,1)})},mixin(r,...i){for(const l of i)Object.defineProperties(r.prototype,Object.getOwnPropertyDescriptors(l))}},ue={extension:{type:oe.Environment,name:"browser",priority:-1},test:()=>!0,load:async()=>{await ae(()=>import("./browserAll-CCFl0fV5.js"),__vite__mapDeps([0,1]))}},ce={extension:{type:oe.Environment,name:"webworker",priority:0},test:()=>"undefined"!=typeof self&&void 0!==self.WorkerGlobalScope,load:async()=>{await ae(()=>import("./webworkerAll-U-F3aCor.js"),[])}};class ObservablePoint{constructor(r,i,l){this._x=i||0,this._y=l||0,this._observer=r}clone(r){return new ObservablePoint(r??this._observer,this._x,this._y)}set(r=0,i=r){return this._x===r&&this._y===i||(this._x=r,this._y=i,this._observer._onUpdate(this)),this}copyFrom(r){return this._x===r.x&&this._y===r.y||(this._x=r.x,this._y=r.y,this._observer._onUpdate(this)),this}copyTo(r){return r.set(this._x,this._y),r}equals(r){return r.x===this._x&&r.y===this._y}toString(){return`[pixi.js/math:ObservablePoint x=${this._x} y=${this._y} scope=${this._observer}]`}get x(){return this._x}set x(r){this._x!==r&&(this._x=r,this._observer._onUpdate(this))}get y(){return this._y}set y(r){this._y!==r&&(this._y=r,this._observer._onUpdate(this))}}var de,he={exports:{}};const fe=getDefaultExportFromCjs(function requireEventemitter3(){return de||(de=1,function(r){var i=Object.prototype.hasOwnProperty,l="~";function Events(){}function EE(r,i,l){this.fn=r,this.context=i,this.once=l||!1}function addListener(r,i,p,m,y){if("function"!=typeof p)throw new TypeError("The listener must be a function");var v=new EE(p,m||r,y),_=l?l+i:i;return r._events[_]?r._events[_].fn?r._events[_]=[r._events[_],v]:r._events[_].push(v):(r._events[_]=v,r._eventsCount++),r}function clearEvent(r,i){0===--r._eventsCount?r._events=new Events:delete r._events[i]}function EventEmitter2(){this._events=new Events,this._eventsCount=0}Object.create&&(Events.prototype=Object.create(null),(new Events).__proto__||(l=!1)),EventEmitter2.prototype.eventNames=function eventNames(){var r,p,m=[];if(0===this._eventsCount)return m;for(p in r=this._events)i.call(r,p)&&m.push(l?p.slice(1):p);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(r)):m},EventEmitter2.prototype.listeners=function listeners(r){var i=l?l+r:r,p=this._events[i];if(!p)return[];if(p.fn)return[p.fn];for(var m=0,y=p.length,v=new Array(y);m<y;m++)v[m]=p[m].fn;return v},EventEmitter2.prototype.listenerCount=function listenerCount(r){var i=l?l+r:r,p=this._events[i];return p?p.fn?1:p.length:0},EventEmitter2.prototype.emit=function emit(r,i,p,m,y,v){var _=l?l+r:r;if(!this._events[_])return!1;var x,S,k=this._events[_],C=arguments.length;if(k.fn){switch(k.once&&this.removeListener(r,k.fn,void 0,!0),C){case 1:return k.fn.call(k.context),!0;case 2:return k.fn.call(k.context,i),!0;case 3:return k.fn.call(k.context,i,p),!0;case 4:return k.fn.call(k.context,i,p,m),!0;case 5:return k.fn.call(k.context,i,p,m,y),!0;case 6:return k.fn.call(k.context,i,p,m,y,v),!0}for(S=1,x=new Array(C-1);S<C;S++)x[S-1]=arguments[S];k.fn.apply(k.context,x)}else{var P,E=k.length;for(S=0;S<E;S++)switch(k[S].once&&this.removeListener(r,k[S].fn,void 0,!0),C){case 1:k[S].fn.call(k[S].context);break;case 2:k[S].fn.call(k[S].context,i);break;case 3:k[S].fn.call(k[S].context,i,p);break;case 4:k[S].fn.call(k[S].context,i,p,m);break;default:if(!x)for(P=1,x=new Array(C-1);P<C;P++)x[P-1]=arguments[P];k[S].fn.apply(k[S].context,x)}}return!0},EventEmitter2.prototype.on=function on(r,i,l){return addListener(this,r,i,l,!1)},EventEmitter2.prototype.once=function once(r,i,l){return addListener(this,r,i,l,!0)},EventEmitter2.prototype.removeListener=function removeListener(r,i,p,m){var y=l?l+r:r;if(!this._events[y])return this;if(!i)return clearEvent(this,y),this;var v=this._events[y];if(v.fn)v.fn!==i||m&&!v.once||p&&v.context!==p||clearEvent(this,y);else{for(var _=0,x=[],S=v.length;_<S;_++)(v[_].fn!==i||m&&!v[_].once||p&&v[_].context!==p)&&x.push(v[_]);x.length?this._events[y]=1===x.length?x[0]:x:clearEvent(this,y)}return this},EventEmitter2.prototype.removeAllListeners=function removeAllListeners(r){var i;return r?(i=l?l+r:r,this._events[i]&&clearEvent(this,i)):(this._events=new Events,this._eventsCount=0),this},EventEmitter2.prototype.off=EventEmitter2.prototype.removeListener,EventEmitter2.prototype.addListener=EventEmitter2.prototype.on,EventEmitter2.prefixed=l,EventEmitter2.EventEmitter=EventEmitter2,r.exports=EventEmitter2}(he)),he.exports}()),pe=2*Math.PI,me=180/Math.PI,ge=Math.PI/180;class Point{constructor(r=0,i=0){this.x=0,this.y=0,this.x=r,this.y=i}clone(){return new Point(this.x,this.y)}copyFrom(r){return this.set(r.x,r.y),this}copyTo(r){return r.set(this.x,this.y),r}equals(r){return r.x===this.x&&r.y===this.y}set(r=0,i=r){return this.x=r,this.y=i,this}toString(){return`[pixi.js/math:Point x=${this.x} y=${this.y}]`}static get shared(){return ye.x=0,ye.y=0,ye}}const ye=new Point;class Matrix{constructor(r=1,i=0,l=0,p=1,m=0,y=0){this.array=null,this.a=r,this.b=i,this.c=l,this.d=p,this.tx=m,this.ty=y}fromArray(r){this.a=r[0],this.b=r[1],this.c=r[3],this.d=r[4],this.tx=r[2],this.ty=r[5]}set(r,i,l,p,m,y){return this.a=r,this.b=i,this.c=l,this.d=p,this.tx=m,this.ty=y,this}toArray(r,i){this.array||(this.array=new Float32Array(9));const l=i||this.array;return r?(l[0]=this.a,l[1]=this.b,l[2]=0,l[3]=this.c,l[4]=this.d,l[5]=0,l[6]=this.tx,l[7]=this.ty,l[8]=1):(l[0]=this.a,l[1]=this.c,l[2]=this.tx,l[3]=this.b,l[4]=this.d,l[5]=this.ty,l[6]=0,l[7]=0,l[8]=1),l}apply(r,i){i=i||new Point;const l=r.x,p=r.y;return i.x=this.a*l+this.c*p+this.tx,i.y=this.b*l+this.d*p+this.ty,i}applyInverse(r,i){i=i||new Point;const l=this.a,p=this.b,m=this.c,y=this.d,v=this.tx,_=this.ty,x=1/(l*y+m*-p),S=r.x,k=r.y;return i.x=y*x*S+-m*x*k+(_*m-v*y)*x,i.y=l*x*k+-p*x*S+(-_*l+v*p)*x,i}translate(r,i){return this.tx+=r,this.ty+=i,this}scale(r,i){return this.a*=r,this.d*=i,this.c*=r,this.b*=i,this.tx*=r,this.ty*=i,this}rotate(r){const i=Math.cos(r),l=Math.sin(r),p=this.a,m=this.c,y=this.tx;return this.a=p*i-this.b*l,this.b=p*l+this.b*i,this.c=m*i-this.d*l,this.d=m*l+this.d*i,this.tx=y*i-this.ty*l,this.ty=y*l+this.ty*i,this}append(r){const i=this.a,l=this.b,p=this.c,m=this.d;return this.a=r.a*i+r.b*p,this.b=r.a*l+r.b*m,this.c=r.c*i+r.d*p,this.d=r.c*l+r.d*m,this.tx=r.tx*i+r.ty*p+this.tx,this.ty=r.tx*l+r.ty*m+this.ty,this}appendFrom(r,i){const l=r.a,p=r.b,m=r.c,y=r.d,v=r.tx,_=r.ty,x=i.a,S=i.b,k=i.c,C=i.d;return this.a=l*x+p*k,this.b=l*S+p*C,this.c=m*x+y*k,this.d=m*S+y*C,this.tx=v*x+_*k+i.tx,this.ty=v*S+_*C+i.ty,this}setTransform(r,i,l,p,m,y,v,_,x){return this.a=Math.cos(v+x)*m,this.b=Math.sin(v+x)*m,this.c=-Math.sin(v-_)*y,this.d=Math.cos(v-_)*y,this.tx=r-(l*this.a+p*this.c),this.ty=i-(l*this.b+p*this.d),this}prepend(r){const i=this.tx;if(1!==r.a||0!==r.b||0!==r.c||1!==r.d){const i=this.a,l=this.c;this.a=i*r.a+this.b*r.c,this.b=i*r.b+this.b*r.d,this.c=l*r.a+this.d*r.c,this.d=l*r.b+this.d*r.d}return this.tx=i*r.a+this.ty*r.c+r.tx,this.ty=i*r.b+this.ty*r.d+r.ty,this}decompose(r){const i=this.a,l=this.b,p=this.c,m=this.d,y=r.pivot,v=-Math.atan2(-p,m),_=Math.atan2(l,i),x=Math.abs(v+_);return x<1e-5||Math.abs(pe-x)<1e-5?(r.rotation=_,r.skew.x=r.skew.y=0):(r.rotation=0,r.skew.x=v,r.skew.y=_),r.scale.x=Math.sqrt(i*i+l*l),r.scale.y=Math.sqrt(p*p+m*m),r.position.x=this.tx+(y.x*i+y.y*p),r.position.y=this.ty+(y.x*l+y.y*m),r}invert(){const r=this.a,i=this.b,l=this.c,p=this.d,m=this.tx,y=r*p-i*l;return this.a=p/y,this.b=-i/y,this.c=-l/y,this.d=r/y,this.tx=(l*this.ty-p*m)/y,this.ty=-(r*this.ty-i*m)/y,this}isIdentity(){return 1===this.a&&0===this.b&&0===this.c&&1===this.d&&0===this.tx&&0===this.ty}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const r=new Matrix;return r.a=this.a,r.b=this.b,r.c=this.c,r.d=this.d,r.tx=this.tx,r.ty=this.ty,r}copyTo(r){return r.a=this.a,r.b=this.b,r.c=this.c,r.d=this.d,r.tx=this.tx,r.ty=this.ty,r}copyFrom(r){return this.a=r.a,this.b=r.b,this.c=r.c,this.d=r.d,this.tx=r.tx,this.ty=r.ty,this}equals(r){return r.a===this.a&&r.b===this.b&&r.c===this.c&&r.d===this.d&&r.tx===this.tx&&r.ty===this.ty}toString(){return`[pixi.js:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return be.identity()}static get shared(){return ve.identity()}}const ve=new Matrix,be=new Matrix,_e=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],xe=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Se=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],we=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],ke=[],Ce=[],Pe=Math.sign;!function init(){for(let r=0;r<16;r++){const i=[];ke.push(i);for(let l=0;l<16;l++){const p=Pe(_e[r]*_e[l]+Se[r]*xe[l]),m=Pe(xe[r]*_e[l]+we[r]*xe[l]),y=Pe(_e[r]*Se[l]+Se[r]*we[l]),v=Pe(xe[r]*Se[l]+we[r]*we[l]);for(let r=0;r<16;r++)if(_e[r]===p&&xe[r]===m&&Se[r]===y&&we[r]===v){i.push(r);break}}}for(let r=0;r<16;r++){const i=new Matrix;i.set(_e[r],xe[r],Se[r],we[r],0,0),Ce.push(i)}}();const Ee={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:r=>_e[r],uY:r=>xe[r],vX:r=>Se[r],vY:r=>we[r],inv:r=>8&r?15&r:7&-r,add:(r,i)=>ke[r][i],sub:(r,i)=>ke[r][Ee.inv(i)],rotate180:r=>4^r,isVertical:r=>2==(3&r),byDirection:(r,i)=>2*Math.abs(r)<=Math.abs(i)?i>=0?Ee.S:Ee.N:2*Math.abs(i)<=Math.abs(r)?r>0?Ee.E:Ee.W:i>0?r>0?Ee.SE:Ee.SW:r>0?Ee.NE:Ee.NW,matrixAppendRotationInv:(r,i,l=0,p=0,m=0,y=0)=>{const v=Ce[Ee.inv(i)],_=v.a,x=v.b,S=v.c,k=v.d,C=l-Math.min(0,_*m,S*y,_*m+S*y),P=p-Math.min(0,x*m,k*y,x*m+k*y),E=r.a,T=r.b,A=r.c,I=r.d;r.a=_*E+x*A,r.b=_*T+x*I,r.c=S*E+k*A,r.d=S*T+k*I,r.tx=C*E+P*A+r.tx,r.ty=C*T+P*I+r.ty},transformRectCoords:(r,i,l,p)=>{const{x:m,y:y,width:v,height:_}=r,{x:x,y:S,width:k,height:C}=i;return l===Ee.E?(p.set(m+x,y+S,v,_),p):l===Ee.S?p.set(k-y-_+x,m+S,_,v):l===Ee.W?p.set(k-m-v+x,C-y-_+S,v,_):l===Ee.N?p.set(y+x,C-m-v+S,_,v):p.set(m+x,y+S,v,_)}},Te=[new Point,new Point,new Point,new Point];class Rectangle{constructor(r=0,i=0,l=0,p=0){this.type="rectangle",this.x=Number(r),this.y=Number(i),this.width=Number(l),this.height=Number(p)}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}isEmpty(){return this.left===this.right||this.top===this.bottom}static get EMPTY(){return new Rectangle(0,0,0,0)}clone(){return new Rectangle(this.x,this.y,this.width,this.height)}copyFromBounds(r){return this.x=r.minX,this.y=r.minY,this.width=r.maxX-r.minX,this.height=r.maxY-r.minY,this}copyFrom(r){return this.x=r.x,this.y=r.y,this.width=r.width,this.height=r.height,this}copyTo(r){return r.copyFrom(this),r}contains(r,i){return!(this.width<=0||this.height<=0)&&(r>=this.x&&r<this.x+this.width&&i>=this.y&&i<this.y+this.height)}strokeContains(r,i,l,p=.5){const{width:m,height:y}=this;if(m<=0||y<=0)return!1;const v=this.x,_=this.y,x=l*(1-p),S=l-x;return r>=v-x&&r<=v+m+x&&i>=_-x&&i<=_+y+x&&!(r>v+S&&r<v+m-S&&i>_+S&&i<_+y-S)}intersects(r,i){if(!i){const i=this.x<r.x?r.x:this.x;if((this.right>r.right?r.right:this.right)<=i)return!1;const l=this.y<r.y?r.y:this.y;return(this.bottom>r.bottom?r.bottom:this.bottom)>l}const l=this.left,p=this.right,m=this.top,y=this.bottom;if(p<=l||y<=m)return!1;const v=Te[0].set(r.left,r.top),_=Te[1].set(r.left,r.bottom),x=Te[2].set(r.right,r.top),S=Te[3].set(r.right,r.bottom);if(x.x<=v.x||_.y<=v.y)return!1;const k=Math.sign(i.a*i.d-i.b*i.c);if(0===k)return!1;if(i.apply(v,v),i.apply(_,_),i.apply(x,x),i.apply(S,S),Math.max(v.x,_.x,x.x,S.x)<=l||Math.min(v.x,_.x,x.x,S.x)>=p||Math.max(v.y,_.y,x.y,S.y)<=m||Math.min(v.y,_.y,x.y,S.y)>=y)return!1;const C=k*(_.y-v.y),P=k*(v.x-_.x),E=C*l+P*m,T=C*p+P*m,A=C*l+P*y,I=C*p+P*y;if(Math.max(E,T,A,I)<=C*v.x+P*v.y||Math.min(E,T,A,I)>=C*S.x+P*S.y)return!1;const R=k*(v.y-x.y),F=k*(x.x-v.x),O=R*l+F*m,L=R*p+F*m,D=R*l+F*y,z=R*p+F*y;return!(Math.max(O,L,D,z)<=R*v.x+F*v.y||Math.min(O,L,D,z)>=R*S.x+F*S.y)}pad(r=0,i=r){return this.x-=r,this.y-=i,this.width+=2*r,this.height+=2*i,this}fit(r){const i=Math.max(this.x,r.x),l=Math.min(this.x+this.width,r.x+r.width),p=Math.max(this.y,r.y),m=Math.min(this.y+this.height,r.y+r.height);return this.x=i,this.width=Math.max(l-i,0),this.y=p,this.height=Math.max(m-p,0),this}ceil(r=1,i=.001){const l=Math.ceil((this.x+this.width-i)*r)/r,p=Math.ceil((this.y+this.height-i)*r)/r;return this.x=Math.floor((this.x+i)*r)/r,this.y=Math.floor((this.y+i)*r)/r,this.width=l-this.x,this.height=p-this.y,this}scale(r,i=r){return this.x*=r,this.y*=i,this.width*=r,this.height*=i,this}enlarge(r){const i=Math.min(this.x,r.x),l=Math.max(this.x+this.width,r.x+r.width),p=Math.min(this.y,r.y),m=Math.max(this.y+this.height,r.y+r.height);return this.x=i,this.width=l-i,this.y=p,this.height=m-p,this}getBounds(r){return r||(r=new Rectangle),r.copyFrom(this),r}containsRect(r){if(this.width<=0||this.height<=0)return!1;const i=r.x,l=r.y,p=r.x+r.width,m=r.y+r.height;return i>=this.x&&i<this.x+this.width&&l>=this.y&&l<this.y+this.height&&p>=this.x&&p<this.x+this.width&&m>=this.y&&m<this.y+this.height}set(r,i,l,p){return this.x=r,this.y=i,this.width=l,this.height=p,this}toString(){return`[pixi.js/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}const Ae={default:-1};function uid(r="default"){return void 0===Ae[r]&&(Ae[r]=-1),++Ae[r]}const Me=new Set,Ie="8.0.0",Re={quiet:!1,noColor:!1},deprecation=(r,i,l=3)=>{if(Re.quiet||Me.has(i))return;let p=(new Error).stack;"function"==typeof console.groupCollapsed&&Re.noColor;void 0===p||(p=p.split("\n").splice(l).join("\n")),Me.add(i)};Object.defineProperties(deprecation,{quiet:{get:()=>Re.quiet,set:r=>{Re.quiet=r},enumerable:!0,configurable:!1},noColor:{get:()=>Re.noColor,set:r=>{Re.noColor=r},enumerable:!0,configurable:!1}});const NOOP=()=>{};function nextPow2(r){return r+=0===r?1:0,--r,r|=r>>>1,r|=r>>>2,r|=r>>>4,r|=r>>>8,(r|=r>>>16)+1}function isPow2(r){return!(r&r-1||!r)}function definedProps(r){const i={};for(const l in r)void 0!==r[l]&&(i[l]=r[l]);return i}const Fe=Object.create(null);const Oe=class _TextureStyle2 extends fe{constructor(r={}){super(),this._resourceType="textureSampler",this._touched=0,this._maxAnisotropy=1,this.destroyed=!1,r={..._TextureStyle2.defaultOptions,...r},this.addressMode=r.addressMode,this.addressModeU=r.addressModeU??this.addressModeU,this.addressModeV=r.addressModeV??this.addressModeV,this.addressModeW=r.addressModeW??this.addressModeW,this.scaleMode=r.scaleMode,this.magFilter=r.magFilter??this.magFilter,this.minFilter=r.minFilter??this.minFilter,this.mipmapFilter=r.mipmapFilter??this.mipmapFilter,this.lodMinClamp=r.lodMinClamp,this.lodMaxClamp=r.lodMaxClamp,this.compare=r.compare,this.maxAnisotropy=r.maxAnisotropy??1}set addressMode(r){this.addressModeU=r,this.addressModeV=r,this.addressModeW=r}get addressMode(){return this.addressModeU}set wrapMode(r){deprecation(0,"TextureStyle.wrapMode is now TextureStyle.addressMode"),this.addressMode=r}get wrapMode(){return this.addressMode}set scaleMode(r){this.magFilter=r,this.minFilter=r,this.mipmapFilter=r}get scaleMode(){return this.magFilter}set maxAnisotropy(r){this._maxAnisotropy=Math.min(r,16),this._maxAnisotropy>1&&(this.scaleMode="linear")}get maxAnisotropy(){return this._maxAnisotropy}get _resourceId(){return this._sharedResourceId||this._generateResourceId()}update(){this._sharedResourceId=null,this.emit("change",this)}_generateResourceId(){const r=`${this.addressModeU}-${this.addressModeV}-${this.addressModeW}-${this.magFilter}-${this.minFilter}-${this.mipmapFilter}-${this.lodMinClamp}-${this.lodMaxClamp}-${this.compare}-${this._maxAnisotropy}`;return this._sharedResourceId=function createResourceIdFromString(r){const i=Fe[r];return void 0===i&&(Fe[r]=uid("resource")),i}(r),this._resourceId}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this.removeAllListeners()}};Oe.defaultOptions={addressMode:"clamp-to-edge",scaleMode:"linear"};let Le=Oe;const De=class _TextureSource2 extends fe{constructor(r={}){super(),this.options=r,this._gpuData=Object.create(null),this._gcLastUsed=-1,this.uid=uid("textureSource"),this._resourceType="textureSource",this._resourceId=uid("resource"),this.uploadMethodId="unknown",this._resolution=1,this.pixelWidth=1,this.pixelHeight=1,this.width=1,this.height=1,this.sampleCount=1,this.mipLevelCount=1,this.autoGenerateMipmaps=!1,this.format="rgba8unorm",this.dimension="2d",this.viewDimension="2d",this.arrayLayerCount=1,this.antialias=!1,this._touched=0,this._batchTick=-1,this._textureBindLocation=-1,r={..._TextureSource2.defaultOptions,...r},this.label=r.label??"",this.resource=r.resource,this.autoGarbageCollect=r.autoGarbageCollect,this._resolution=r.resolution,r.width?this.pixelWidth=r.width*this._resolution:this.pixelWidth=this.resource?this.resourceWidth??1:1,r.height?this.pixelHeight=r.height*this._resolution:this.pixelHeight=this.resource?this.resourceHeight??1:1,this.width=this.pixelWidth/this._resolution,this.height=this.pixelHeight/this._resolution,this.format=r.format,this.dimension=r.dimensions,this.viewDimension=r.viewDimension??r.dimensions,this.arrayLayerCount=r.arrayLayerCount,this.mipLevelCount=r.mipLevelCount,this.autoGenerateMipmaps=r.autoGenerateMipmaps,this.sampleCount=r.sampleCount,this.antialias=r.antialias,this.alphaMode=r.alphaMode,this.style=new Le(definedProps(r)),this.destroyed=!1,this._refreshPOT()}get source(){return this}get style(){return this._style}set style(r){this.style!==r&&(this._style?.off("change",this._onStyleChange,this),this._style=r,this._style?.on("change",this._onStyleChange,this),this._onStyleChange())}set maxAnisotropy(r){this._style.maxAnisotropy=r}get maxAnisotropy(){return this._style.maxAnisotropy}get addressMode(){return this._style.addressMode}set addressMode(r){this._style.addressMode=r}get repeatMode(){return this._style.addressMode}set repeatMode(r){this._style.addressMode=r}get magFilter(){return this._style.magFilter}set magFilter(r){this._style.magFilter=r}get minFilter(){return this._style.minFilter}set minFilter(r){this._style.minFilter=r}get mipmapFilter(){return this._style.mipmapFilter}set mipmapFilter(r){this._style.mipmapFilter=r}get lodMinClamp(){return this._style.lodMinClamp}set lodMinClamp(r){this._style.lodMinClamp=r}get lodMaxClamp(){return this._style.lodMaxClamp}set lodMaxClamp(r){this._style.lodMaxClamp=r}_onStyleChange(){this.emit("styleChange",this)}update(){if(this.resource){const r=this._resolution;if(this.resize(this.resourceWidth/r,this.resourceHeight/r))return}this.emit("update",this)}destroy(){this.destroyed=!0,this.unload(),this.emit("destroy",this),this._style&&(this._style.destroy(),this._style=null),this.uploadMethodId=null,this.resource=null,this.removeAllListeners()}unload(){this._resourceId=uid("resource"),this.emit("change",this),this.emit("unload",this);for(const r in this._gpuData)this._gpuData[r]?.destroy?.();this._gpuData=Object.create(null)}get resourceWidth(){const{resource:r}=this;return r.naturalWidth||r.videoWidth||r.displayWidth||r.width}get resourceHeight(){const{resource:r}=this;return r.naturalHeight||r.videoHeight||r.displayHeight||r.height}get resolution(){return this._resolution}set resolution(r){this._resolution!==r&&(this._resolution=r,this.width=this.pixelWidth/r,this.height=this.pixelHeight/r)}resize(r,i,l){l||(l=this._resolution),r||(r=this.width),i||(i=this.height);const p=Math.round(r*l),m=Math.round(i*l);return this.width=p/l,this.height=m/l,this._resolution=l,(this.pixelWidth!==p||this.pixelHeight!==m)&&(this._refreshPOT(),this.pixelWidth=p,this.pixelHeight=m,this.emit("resize",this),this._resourceId=uid("resource"),this.emit("change",this),!0)}updateMipmaps(){this.autoGenerateMipmaps&&this.mipLevelCount>1&&this.emit("updateMipmaps",this)}set wrapMode(r){this._style.wrapMode=r}get wrapMode(){return this._style.wrapMode}set scaleMode(r){this._style.scaleMode=r}get scaleMode(){return this._style.scaleMode}_refreshPOT(){this.isPowerOfTwo=isPow2(this.pixelWidth)&&isPow2(this.pixelHeight)}static test(r){throw new Error("Unimplemented")}};De.defaultOptions={resolution:1,format:"bgra8unorm",alphaMode:"premultiply-alpha-on-upload",dimensions:"2d",viewDimension:"2d",arrayLayerCount:1,mipLevelCount:1,autoGenerateMipmaps:!1,sampleCount:1,antialias:!1,autoGarbageCollect:!1};let Ne=De;class BufferImageSource extends Ne{constructor(r){const i=r.resource||new Float32Array(r.width*r.height*4);let l=r.format;l||(l=i instanceof Float32Array?"rgba32float":i instanceof Int32Array||i instanceof Uint32Array?"rgba32uint":i instanceof Int16Array||i instanceof Uint16Array?"rgba16uint":(Int8Array,"bgra8unorm")),super({...r,resource:i,format:l}),this.uploadMethodId="buffer"}static test(r){return r instanceof Int8Array||r instanceof Uint8Array||r instanceof Uint8ClampedArray||r instanceof Int16Array||r instanceof Uint16Array||r instanceof Int32Array||r instanceof Uint32Array||r instanceof Float32Array}}BufferImageSource.extension=oe.TextureSource;const He=new Matrix;class TextureMatrix{constructor(r,i){this.mapCoord=new Matrix,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=void 0===i?r.width<10?0:.5:i,this.isSimple=!1,this.texture=r}get texture(){return this._texture}set texture(r){this.texture!==r&&(this._texture?.removeListener("update",this.update,this),this._texture=r,this._texture.addListener("update",this.update,this),this.update())}multiplyUvs(r,i){void 0===i&&(i=r);const l=this.mapCoord;for(let p=0;p<r.length;p+=2){const m=r[p],y=r[p+1];i[p]=m*l.a+y*l.c+l.tx,i[p+1]=m*l.b+y*l.d+l.ty}return i}update(){const r=this._texture;this._updateID++;const i=r.uvs;this.mapCoord.set(i.x1-i.x0,i.y1-i.y0,i.x3-i.x0,i.y3-i.y0,i.x0,i.y0);const l=r.orig,p=r.trim;p&&(He.set(l.width/p.width,0,0,l.height/p.height,-p.x/p.width,-p.y/p.height),this.mapCoord.append(He));const m=r.source,y=this.uClampFrame,v=this.clampMargin/m._resolution,_=this.clampOffset/m._resolution;return y[0]=(r.frame.x+v+_)/m.width,y[1]=(r.frame.y+v+_)/m.height,y[2]=(r.frame.x+r.frame.width-v+_)/m.width,y[3]=(r.frame.y+r.frame.height-v+_)/m.height,this.uClampOffset[0]=this.clampOffset/m.pixelWidth,this.uClampOffset[1]=this.clampOffset/m.pixelHeight,this.isSimple=r.frame.width===m.width&&r.frame.height===m.height&&0===r.rotate,!0}}class Texture extends fe{constructor({source:r,label:i,frame:l,orig:p,trim:m,defaultAnchor:y,defaultBorders:v,rotate:_,dynamic:x}={}){if(super(),this.uid=uid("texture"),this.uvs={x0:0,y0:0,x1:0,y1:0,x2:0,y2:0,x3:0,y3:0},this.frame=new Rectangle,this.noFrame=!1,this.dynamic=!1,this.isTexture=!0,this.label=i,this.source=r?.source??new Ne,this.noFrame=!l,l)this.frame.copyFrom(l);else{const{width:r,height:i}=this._source;this.frame.width=r,this.frame.height=i}this.orig=p||this.frame,this.trim=m,this.rotate=_??0,this.defaultAnchor=y,this.defaultBorders=v,this.destroyed=!1,this.dynamic=x||!1,this.updateUvs()}set source(r){this._source&&this._source.off("resize",this.update,this),this._source=r,r.on("resize",this.update,this),this.emit("update",this)}get source(){return this._source}get textureMatrix(){return this._textureMatrix||(this._textureMatrix=new TextureMatrix(this)),this._textureMatrix}get width(){return this.orig.width}get height(){return this.orig.height}updateUvs(){const{uvs:r,frame:i}=this,{width:l,height:p}=this._source,m=i.x/l,y=i.y/p,v=i.width/l,_=i.height/p;let x=this.rotate;if(x){const i=v/2,l=_/2,p=m+i,S=y+l;x=Ee.add(x,Ee.NW),r.x0=p+i*Ee.uX(x),r.y0=S+l*Ee.uY(x),x=Ee.add(x,2),r.x1=p+i*Ee.uX(x),r.y1=S+l*Ee.uY(x),x=Ee.add(x,2),r.x2=p+i*Ee.uX(x),r.y2=S+l*Ee.uY(x),x=Ee.add(x,2),r.x3=p+i*Ee.uX(x),r.y3=S+l*Ee.uY(x)}else r.x0=m,r.y0=y,r.x1=m+v,r.y1=y,r.x2=m+v,r.y2=y+_,r.x3=m,r.y3=y+_}destroy(r=!1){this._source&&(this._source.off("resize",this.update,this),r&&(this._source.destroy(),this._source=null)),this._textureMatrix=null,this.destroyed=!0,this.emit("destroy",this),this.removeAllListeners()}update(){this.noFrame&&(this.frame.width=this._source.width,this.frame.height=this._source.height),this.updateUvs(),this.emit("update",this)}get baseTexture(){return deprecation(0,"Texture.baseTexture is now Texture.source"),this._source}}Texture.EMPTY=new Texture({label:"EMPTY",source:new Ne({label:"EMPTY"})}),Texture.EMPTY.destroy=NOOP,Texture.WHITE=new Texture({source:new BufferImageSource({resource:new Uint8Array([255,255,255,255]),width:1,height:1,alphaMode:"premultiply-alpha-on-upload",label:"WHITE"}),label:"WHITE"}),Texture.WHITE.destroy=NOOP;const ze=new Matrix;class Bounds{constructor(r=1/0,i=1/0,l=-1/0,p=-1/0){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=ze,this.minX=r,this.minY=i,this.maxX=l,this.maxY=p}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}get rectangle(){this._rectangle||(this._rectangle=new Rectangle);const r=this._rectangle;return this.minX>this.maxX||this.minY>this.maxY?(r.x=0,r.y=0,r.width=0,r.height=0):r.copyFromBounds(this),r}clear(){return this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=ze,this}set(r,i,l,p){this.minX=r,this.minY=i,this.maxX=l,this.maxY=p}addFrame(r,i,l,p,m){m||(m=this.matrix);const y=m.a,v=m.b,_=m.c,x=m.d,S=m.tx,k=m.ty;let C=this.minX,P=this.minY,E=this.maxX,T=this.maxY,A=y*r+_*i+S,I=v*r+x*i+k;A<C&&(C=A),I<P&&(P=I),A>E&&(E=A),I>T&&(T=I),A=y*l+_*i+S,I=v*l+x*i+k,A<C&&(C=A),I<P&&(P=I),A>E&&(E=A),I>T&&(T=I),A=y*r+_*p+S,I=v*r+x*p+k,A<C&&(C=A),I<P&&(P=I),A>E&&(E=A),I>T&&(T=I),A=y*l+_*p+S,I=v*l+x*p+k,A<C&&(C=A),I<P&&(P=I),A>E&&(E=A),I>T&&(T=I),this.minX=C,this.minY=P,this.maxX=E,this.maxY=T}addRect(r,i){this.addFrame(r.x,r.y,r.x+r.width,r.y+r.height,i)}addBounds(r,i){this.addFrame(r.minX,r.minY,r.maxX,r.maxY,i)}addBoundsMask(r){this.minX=this.minX>r.minX?this.minX:r.minX,this.minY=this.minY>r.minY?this.minY:r.minY,this.maxX=this.maxX<r.maxX?this.maxX:r.maxX,this.maxY=this.maxY<r.maxY?this.maxY:r.maxY}applyMatrix(r){const i=this.minX,l=this.minY,p=this.maxX,m=this.maxY,{a:y,b:v,c:_,d:x,tx:S,ty:k}=r;let C=y*i+_*l+S,P=v*i+x*l+k;this.minX=C,this.minY=P,this.maxX=C,this.maxY=P,C=y*p+_*l+S,P=v*p+x*l+k,this.minX=C<this.minX?C:this.minX,this.minY=P<this.minY?P:this.minY,this.maxX=C>this.maxX?C:this.maxX,this.maxY=P>this.maxY?P:this.maxY,C=y*i+_*m+S,P=v*i+x*m+k,this.minX=C<this.minX?C:this.minX,this.minY=P<this.minY?P:this.minY,this.maxX=C>this.maxX?C:this.maxX,this.maxY=P>this.maxY?P:this.maxY,C=y*p+_*m+S,P=v*p+x*m+k,this.minX=C<this.minX?C:this.minX,this.minY=P<this.minY?P:this.minY,this.maxX=C>this.maxX?C:this.maxX,this.maxY=P>this.maxY?P:this.maxY}fit(r){return this.minX<r.left&&(this.minX=r.left),this.maxX>r.right&&(this.maxX=r.right),this.minY<r.top&&(this.minY=r.top),this.maxY>r.bottom&&(this.maxY=r.bottom),this}fitBounds(r,i,l,p){return this.minX<r&&(this.minX=r),this.maxX>i&&(this.maxX=i),this.minY<l&&(this.minY=l),this.maxY>p&&(this.maxY=p),this}pad(r,i=r){return this.minX-=r,this.maxX+=r,this.minY-=i,this.maxY+=i,this}ceil(){return this.minX=Math.floor(this.minX),this.minY=Math.floor(this.minY),this.maxX=Math.ceil(this.maxX),this.maxY=Math.ceil(this.maxY),this}clone(){return new Bounds(this.minX,this.minY,this.maxX,this.maxY)}scale(r,i=r){return this.minX*=r,this.minY*=i,this.maxX*=r,this.maxY*=i,this}get x(){return this.minX}set x(r){const i=this.maxX-this.minX;this.minX=r,this.maxX=r+i}get y(){return this.minY}set y(r){const i=this.maxY-this.minY;this.minY=r,this.maxY=r+i}get width(){return this.maxX-this.minX}set width(r){this.maxX=this.minX+r}get height(){return this.maxY-this.minY}set height(r){this.maxY=this.minY+r}get left(){return this.minX}get right(){return this.maxX}get top(){return this.minY}get bottom(){return this.maxY}get isPositive(){return this.maxX-this.minX>0&&this.maxY-this.minY>0}get isValid(){return this.minX+this.minY!==1/0}addVertexData(r,i,l,p){let m=this.minX,y=this.minY,v=this.maxX,_=this.maxY;p||(p=this.matrix);const x=p.a,S=p.b,k=p.c,C=p.d,P=p.tx,E=p.ty;for(let T=i;T<l;T+=2){const i=r[T],l=r[T+1],p=x*i+k*l+P,A=S*i+C*l+E;m=p<m?p:m,y=A<y?A:y,v=p>v?p:v,_=A>_?A:_}this.minX=m,this.minY=y,this.maxX=v,this.maxY=_}containsPoint(r,i){return this.minX<=r&&this.minY<=i&&this.maxX>=r&&this.maxY>=i}toString(){return`[pixi.js:Bounds minX=${this.minX} minY=${this.minY} maxX=${this.maxX} maxY=${this.maxY} width=${this.width} height=${this.height}]`}copyFrom(r){return this.minX=r.minX,this.minY=r.minY,this.maxX=r.maxX,this.maxY=r.maxY,this}}var Be={grad:.9,turn:360,rad:360/(2*Math.PI)},t=function(r){return"string"==typeof r?r.length>0:"number"==typeof r},n=function(r,i,l){return void 0===i&&(i=0),void 0===l&&(l=Math.pow(10,i)),Math.round(l*r)/l+0},e=function(r,i,l){return void 0===i&&(i=0),void 0===l&&(l=1),r>l?l:r>i?r:i},u=function(r){return(r=isFinite(r)?r%360:0)>0?r:r+360},a=function(r){return{r:e(r.r,0,255),g:e(r.g,0,255),b:e(r.b,0,255),a:e(r.a)}},o=function(r){return{r:n(r.r),g:n(r.g),b:n(r.b),a:n(r.a,3)}},Ue=/^#([0-9a-f]{3,8})$/i,s=function(r){var i=r.toString(16);return i.length<2?"0"+i:i},h=function(r){var i=r.r,l=r.g,p=r.b,m=r.a,y=Math.max(i,l,p),v=y-Math.min(i,l,p),_=v?y===i?(l-p)/v:y===l?2+(p-i)/v:4+(i-l)/v:0;return{h:60*(_<0?_+6:_),s:y?v/y*100:0,v:y/255*100,a:m}},b=function(r){var i=r.h,l=r.s,p=r.v,m=r.a;i=i/360*6,l/=100,p/=100;var y=Math.floor(i),v=p*(1-l),_=p*(1-(i-y)*l),x=p*(1-(1-i+y)*l),S=y%6;return{r:255*[p,_,v,v,x,p][S],g:255*[x,p,p,_,v,v][S],b:255*[v,v,x,p,p,_][S],a:m}},g=function(r){return{h:u(r.h),s:e(r.s,0,100),l:e(r.l,0,100),a:e(r.a)}},d=function(r){return{h:n(r.h),s:n(r.s),l:n(r.l),a:n(r.a,3)}},f=function(r){return b((l=(i=r).s,{h:i.h,s:(l*=((p=i.l)<50?p:100-p)/100)>0?2*l/(p+l)*100:0,v:p+l,a:i.a}));var i,l,p},c=function(r){return{h:(i=h(r)).h,s:(m=(200-(l=i.s))*(p=i.v)/100)>0&&m<200?l*p/100/(m<=100?m:200-m)*100:0,l:m/2,a:i.a};var i,l,p,m},Ge=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Ve=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,We=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,je=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,$e={string:[[function(r){var i=Ue.exec(r);return i?(r=i[1]).length<=4?{r:parseInt(r[0]+r[0],16),g:parseInt(r[1]+r[1],16),b:parseInt(r[2]+r[2],16),a:4===r.length?n(parseInt(r[3]+r[3],16)/255,2):1}:6===r.length||8===r.length?{r:parseInt(r.substr(0,2),16),g:parseInt(r.substr(2,2),16),b:parseInt(r.substr(4,2),16),a:8===r.length?n(parseInt(r.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(r){var i=We.exec(r)||je.exec(r);return i?i[2]!==i[4]||i[4]!==i[6]?null:a({r:Number(i[1])/(i[2]?100/255:1),g:Number(i[3])/(i[4]?100/255:1),b:Number(i[5])/(i[6]?100/255:1),a:void 0===i[7]?1:Number(i[7])/(i[8]?100:1)}):null},"rgb"],[function(r){var i=Ge.exec(r)||Ve.exec(r);if(!i)return null;var l,p,m=g({h:(l=i[1],p=i[2],void 0===p&&(p="deg"),Number(l)*(Be[p]||1)),s:Number(i[3]),l:Number(i[4]),a:void 0===i[5]?1:Number(i[5])/(i[6]?100:1)});return f(m)},"hsl"]],object:[[function(r){var i=r.r,l=r.g,p=r.b,m=r.a,y=void 0===m?1:m;return t(i)&&t(l)&&t(p)?a({r:Number(i),g:Number(l),b:Number(p),a:Number(y)}):null},"rgb"],[function(r){var i=r.h,l=r.s,p=r.l,m=r.a,y=void 0===m?1:m;if(!t(i)||!t(l)||!t(p))return null;var v=g({h:Number(i),s:Number(l),l:Number(p),a:Number(y)});return f(v)},"hsl"],[function(r){var i=r.h,l=r.s,p=r.v,m=r.a,y=void 0===m?1:m;if(!t(i)||!t(l)||!t(p))return null;var v,_=(v={h:Number(i),s:Number(l),v:Number(p),a:Number(y)},{h:u(v.h),s:e(v.s,0,100),v:e(v.v,0,100),a:e(v.a)});return b(_)},"hsv"]]},N=function(r,i){for(var l=0;l<i.length;l++){var p=i[l][0](r);if(p)return[p,i[l][1]]}return[null,void 0]},M=function(r,i){var l=c(r);return{h:l.h,s:e(l.s+100*i,0,100),l:l.l,a:l.a}},H=function(r){return(299*r.r+587*r.g+114*r.b)/1e3/255},$=function(r,i){var l=c(r);return{h:l.h,s:l.s,l:e(l.l+100*i,0,100),a:l.a}},qe=function(){function r2(r){this.parsed=function(r){return"string"==typeof r?N(r.trim(),$e.string):"object"==typeof r&&null!==r?N(r,$e.object):[null,void 0]}(r)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return r2.prototype.isValid=function(){return null!==this.parsed},r2.prototype.brightness=function(){return n(H(this.rgba),2)},r2.prototype.isDark=function(){return H(this.rgba)<.5},r2.prototype.isLight=function(){return H(this.rgba)>=.5},r2.prototype.toHex=function(){return i=(r=o(this.rgba)).r,l=r.g,p=r.b,y=(m=r.a)<1?s(n(255*m)):"","#"+s(i)+s(l)+s(p)+y;var r,i,l,p,m,y},r2.prototype.toRgb=function(){return o(this.rgba)},r2.prototype.toRgbString=function(){return i=(r=o(this.rgba)).r,l=r.g,p=r.b,(m=r.a)<1?"rgba("+i+", "+l+", "+p+", "+m+")":"rgb("+i+", "+l+", "+p+")";var r,i,l,p,m},r2.prototype.toHsl=function(){return d(c(this.rgba))},r2.prototype.toHslString=function(){return i=(r=d(c(this.rgba))).h,l=r.s,p=r.l,(m=r.a)<1?"hsla("+i+", "+l+"%, "+p+"%, "+m+")":"hsl("+i+", "+l+"%, "+p+"%)";var r,i,l,p,m},r2.prototype.toHsv=function(){return r=h(this.rgba),{h:n(r.h),s:n(r.s),v:n(r.v),a:n(r.a,3)};var r},r2.prototype.invert=function(){return w({r:255-(r=this.rgba).r,g:255-r.g,b:255-r.b,a:r.a});var r},r2.prototype.saturate=function(r){return void 0===r&&(r=.1),w(M(this.rgba,r))},r2.prototype.desaturate=function(r){return void 0===r&&(r=.1),w(M(this.rgba,-r))},r2.prototype.grayscale=function(){return w(M(this.rgba,-1))},r2.prototype.lighten=function(r){return void 0===r&&(r=.1),w($(this.rgba,r))},r2.prototype.darken=function(r){return void 0===r&&(r=.1),w($(this.rgba,-r))},r2.prototype.rotate=function(r){return void 0===r&&(r=15),this.hue(this.hue()+r)},r2.prototype.alpha=function(r){return"number"==typeof r?w({r:(i=this.rgba).r,g:i.g,b:i.b,a:r}):n(this.rgba.a,3);var i},r2.prototype.hue=function(r){var i=c(this.rgba);return"number"==typeof r?w({h:r,s:i.s,l:i.l,a:i.a}):n(i.h)},r2.prototype.isEqual=function(r){return this.toHex()===w(r).toHex()},r2}(),w=function(r){return r instanceof qe?r:new qe(r)},Ye=[];[function namesPlugin(r,i){var l={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},p={};for(var m in l)p[l[m]]=m;var y={};r.prototype.toName=function(i){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var m,v,_=p[this.toHex()];if(_)return _;if(null==i?void 0:i.closest){var x=this.toRgb(),S=1/0,k="black";if(!y.length)for(var C in l)y[C]=new r(l[C]).toRgb();for(var P in l){var E=(m=x,v=y[P],Math.pow(m.r-v.r,2)+Math.pow(m.g-v.g,2)+Math.pow(m.b-v.b,2));E<S&&(S=E,k=P)}return k}},i.string.push([function(i){var p=i.toLowerCase(),m="transparent"===p?"#0000":l[p];return m?new r(m).toRgb():null},"name"])}].forEach(function(r){Ye.indexOf(r)<0&&(r(qe,$e),Ye.push(r))});const Xe=class _Color2{constructor(r=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=r}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(r){return this.value=r,this}set value(r){if(r instanceof _Color2)this._value=this._cloneSource(r._value),this._int=r._int,this._components.set(r._components);else{if(null===r)throw new Error("Cannot set Color#value to null");null!==this._value&&this._isSourceEqual(this._value,r)||(this._value=this._cloneSource(r),this._normalize(this._value))}}get value(){return this._value}_cloneSource(r){return"string"==typeof r||"number"==typeof r||r instanceof Number||null===r?r:Array.isArray(r)||ArrayBuffer.isView(r)?r.slice(0):"object"==typeof r&&null!==r?{...r}:r}_isSourceEqual(r,i){const l=typeof r;if(l!==typeof i)return!1;if("number"===l||"string"===l||r instanceof Number)return r===i;if(Array.isArray(r)&&Array.isArray(i)||ArrayBuffer.isView(r)&&ArrayBuffer.isView(i))return r.length===i.length&&r.every((r,l)=>r===i[l]);if(null!==r&&null!==i){const l=Object.keys(r),p=Object.keys(i);return l.length===p.length&&l.every(l=>r[l]===i[l])}return r===i}toRgba(){const[r,i,l,p]=this._components;return{r:r,g:i,b:l,a:p}}toRgb(){const[r,i,l]=this._components;return{r:r,g:i,b:l}}toRgbaString(){const[r,i,l]=this.toUint8RgbArray();return`rgba(${r},${i},${l},${this.alpha})`}toUint8RgbArray(r){const[i,l,p]=this._components;return this._arrayRgb||(this._arrayRgb=[]),r||(r=this._arrayRgb),r[0]=Math.round(255*i),r[1]=Math.round(255*l),r[2]=Math.round(255*p),r}toArray(r){this._arrayRgba||(this._arrayRgba=[]),r||(r=this._arrayRgba);const[i,l,p,m]=this._components;return r[0]=i,r[1]=l,r[2]=p,r[3]=m,r}toRgbArray(r){this._arrayRgb||(this._arrayRgb=[]),r||(r=this._arrayRgb);const[i,l,p]=this._components;return r[0]=i,r[1]=l,r[2]=p,r}toNumber(){return this._int}toBgrNumber(){const[r,i,l]=this.toUint8RgbArray();return(l<<16)+(i<<8)+r}toLittleEndianNumber(){const r=this._int;return(r>>16)+(65280&r)+((255&r)<<16)}multiply(r){const[i,l,p,m]=_Color2._temp.setValue(r)._components;return this._components[0]*=i,this._components[1]*=l,this._components[2]*=p,this._components[3]*=m,this._refreshInt(),this._value=null,this}premultiply(r,i=!0){return i&&(this._components[0]*=r,this._components[1]*=r,this._components[2]*=r),this._components[3]=r,this._refreshInt(),this._value=null,this}toPremultiplied(r,i=!0){if(1===r)return(255<<24)+this._int;if(0===r)return i?0:this._int;let l=this._int>>16&255,p=this._int>>8&255,m=255&this._int;return i&&(l=l*r+.5|0,p=p*r+.5|0,m=m*r+.5|0),(255*r<<24)+(l<<16)+(p<<8)+m}toHex(){const r=this._int.toString(16);return`#${"000000".substring(0,6-r.length)+r}`}toHexa(){const r=Math.round(255*this._components[3]).toString(16);return this.toHex()+"00".substring(0,2-r.length)+r}setAlpha(r){return this._components[3]=this._clamp(r),this}_normalize(r){let i,l,p,m;if(("number"==typeof r||r instanceof Number)&&r>=0&&r<=16777215){i=(r>>16&255)/255,l=(r>>8&255)/255,p=(255&r)/255,m=1}else if((Array.isArray(r)||r instanceof Float32Array)&&r.length>=3&&r.length<=4)r=this._clamp(r),[i,l,p,m=1]=r;else if((r instanceof Uint8Array||r instanceof Uint8ClampedArray)&&r.length>=3&&r.length<=4)r=this._clamp(r,0,255),[i,l,p,m=255]=r,i/=255,l/=255,p/=255,m/=255;else if("string"==typeof r||"object"==typeof r){if("string"==typeof r){const i=_Color2.HEX_PATTERN.exec(r);i&&(r=`#${i[2]}`)}const y=w(r);y.isValid()&&(({r:i,g:l,b:p,a:m}=y.rgba),i/=255,l/=255,p/=255)}if(void 0===i)throw new Error(`Unable to convert color ${r}`);this._components[0]=i,this._components[1]=l,this._components[2]=p,this._components[3]=m,this._refreshInt()}_refreshInt(){this._clamp(this._components);const[r,i,l]=this._components;this._int=(255*r<<16)+(255*i<<8)+(255*l|0)}_clamp(r,i=0,l=1){return"number"==typeof r?Math.min(Math.max(r,i),l):(r.forEach((p,m)=>{r[m]=Math.min(Math.max(p,i),l)}),r)}static isColorLike(r){return"number"==typeof r||"string"==typeof r||r instanceof Number||r instanceof _Color2||Array.isArray(r)||r instanceof Uint8Array||r instanceof Uint8ClampedArray||r instanceof Float32Array||void 0!==r.r&&void 0!==r.g&&void 0!==r.b||void 0!==r.r&&void 0!==r.g&&void 0!==r.b&&void 0!==r.a||void 0!==r.h&&void 0!==r.s&&void 0!==r.l||void 0!==r.h&&void 0!==r.s&&void 0!==r.l&&void 0!==r.a||void 0!==r.h&&void 0!==r.s&&void 0!==r.v||void 0!==r.h&&void 0!==r.s&&void 0!==r.v&&void 0!==r.a}};Xe.shared=new Xe,Xe._temp=new Xe,Xe.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let Qe=Xe;let Ke=0;function warn(...r){500!==Ke&&Ke++}const Ze={_registeredResources:new Set,register(r){this._registeredResources.add(r)},unregister(r){this._registeredResources.delete(r)},release(){this._registeredResources.forEach(r=>r.clear())},get registeredCount(){return this._registeredResources.size},isRegistered(r){return this._registeredResources.has(r)},reset(){this._registeredResources.clear()}};class Pool{constructor(r,i){this._pool=[],this._count=0,this._index=0,this._classType=r,i&&this.prepopulate(i)}prepopulate(r){for(let i=0;i<r;i++)this._pool[this._index++]=new this._classType;this._count+=r}get(r){let i;return this._index>0?i=this._pool[--this._index]:(i=new this._classType,this._count++),i.init?.(r),i}return(r){r.reset?.(),this._pool[this._index++]=r}get totalSize(){return this._count}get totalFree(){return this._index}get totalUsed(){return this._count-this._index}clear(){if(this._pool.length>0&&this._pool[0].destroy)for(let r=0;r<this._index;r++)this._pool[r].destroy();this._pool.length=0,this._count=0,this._index=0}}const Je=new class PoolGroupClass{constructor(){this._poolsByClass=new Map}prepopulate(r,i){this.getPool(r).prepopulate(i)}get(r,i){return this.getPool(r).get(i)}return(r){this.getPool(r.constructor).return(r)}getPool(r){return this._poolsByClass.has(r)||this._poolsByClass.set(r,new Pool(r)),this._poolsByClass.get(r)}stats(){const r={};return this._poolsByClass.forEach(i=>{const l=r[i._classType.name]?i._classType.name+i._classType.ID:i._classType.name;r[l]={free:i.totalFree,used:i.totalUsed,size:i.totalSize}}),r}clear(){this._poolsByClass.forEach(r=>r.clear()),this._poolsByClass.clear()}};Ze.register(Je);const et={get isCachedAsTexture(){return!!this.renderGroup?.isCachedAsTexture},cacheAsTexture(r){"boolean"==typeof r&&!1===r?this.disableRenderGroup():(this.enableRenderGroup(),this.renderGroup.enableCacheAsTexture(!0===r?{}:r))},updateCacheTexture(){this.renderGroup?.updateCacheTexture()},get cacheAsBitmap(){return this.isCachedAsTexture},set cacheAsBitmap(r){deprecation(0,"cacheAsBitmap is deprecated, use cacheAsTexture instead."),this.cacheAsTexture(r)}};function removeItems(r,i,l){const p=r.length;let m;if(i>=p||0===l)return;const y=p-(l=i+l>p?p-i:l);for(m=i;m<y;++m)r[m]=r[m+l];r.length=y}const tt={allowChildren:!0,removeChildren(r=0,i){const l=i??this.children.length,p=l-r,m=[];if(p>0&&p<=l){for(let p=l-1;p>=r;p--){const r=this.children[p];r&&(m.push(r),r.parent=null)}removeItems(this.children,r,l);const i=this.renderGroup||this.parentRenderGroup;i&&i.removeChildren(m);for(let r=0;r<m.length;++r){const i=m[r];i.parentRenderLayer?.detach(i),this.emit("childRemoved",i,this,r),m[r].emit("removed",this)}return m.length>0&&this._didViewChangeTick++,m}if(0===p&&0===this.children.length)return m;throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},removeChildAt(r){const i=this.getChildAt(r);return this.removeChild(i)},getChildAt(r){if(r<0||r>=this.children.length)throw new Error(`getChildAt: Index (${r}) does not exist.`);return this.children[r]},setChildIndex(r,i){if(i<0||i>=this.children.length)throw new Error(`The index ${i} supplied is out of bounds ${this.children.length}`);this.getChildIndex(r),this.addChildAt(r,i)},getChildIndex(r){const i=this.children.indexOf(r);if(-1===i)throw new Error("The supplied Container must be a child of the caller");return i},addChildAt(r,i){this.allowChildren||deprecation(0,"addChildAt: Only Containers will be allowed to add children in v8.0.0");const{children:l}=this;if(i<0||i>l.length)throw new Error(`${r}addChildAt: The index ${i} supplied is out of bounds ${l.length}`);if(r.parent){const l=r.parent.children.indexOf(r);if(r.parent===this&&l===i)return r;-1!==l&&r.parent.children.splice(l,1)}i===l.length?l.push(r):l.splice(i,0,r),r.parent=this,r.didChange=!0,r._updateFlags=15;const p=this.renderGroup||this.parentRenderGroup;return p&&p.addChild(r),this.sortableChildren&&(this.sortDirty=!0),this.emit("childAdded",r,this,i),r.emit("added",this),r},swapChildren(r,i){if(r===i)return;const l=this.getChildIndex(r),p=this.getChildIndex(i);this.children[l]=i,this.children[p]=r;const m=this.renderGroup||this.parentRenderGroup;m&&(m.structureDidChange=!0),this._didContainerChangeTick++},removeFromParent(){this.parent?.removeChild(this)},reparentChild(...r){return 1===r.length?this.reparentChildAt(r[0],this.children.length):(r.forEach(r=>this.reparentChildAt(r,this.children.length)),r[0])},reparentChildAt(r,i){if(r.parent===this)return this.setChildIndex(r,i),r;const l=r.worldTransform.clone();r.removeFromParent(),this.addChildAt(r,i);const p=this.worldTransform.clone();return p.invert(),l.prepend(p),r.setFromMatrix(l),r},replaceChild(r,i){r.updateLocalTransform(),this.addChildAt(i,this.getChildIndex(r)),i.setFromMatrix(r.localTransform),i.updateLocalTransform(),this.removeChild(r)}},rt={collectRenderables(r,i,l){this.parentRenderLayer&&this.parentRenderLayer!==l||this.globalDisplayStatus<7||!this.includeInBuild||(this.sortableChildren&&this.sortChildren(),this.isSimple?this.collectRenderablesSimple(r,i,l):this.renderGroup?i.renderPipes.renderGroup.addRenderGroup(this.renderGroup,r):this.collectRenderablesWithEffects(r,i,l))},collectRenderablesSimple(r,i,l){const p=this.children,m=p.length;for(let y=0;y<m;y++)p[y].collectRenderables(r,i,l)},collectRenderablesWithEffects(r,i,l){const{renderPipes:p}=i;for(let m=0;m<this.effects.length;m++){const i=this.effects[m];p[i.pipe].push(i,this,r)}this.collectRenderablesSimple(r,i,l);for(let m=this.effects.length-1;m>=0;m--){const i=this.effects[m];p[i.pipe].pop(i,this,r)}}};class FilterEffect{constructor(){this.pipe="filter",this.priority=1}destroy(){for(let r=0;r<this.filters.length;r++)this.filters[r].destroy();this.filters=null,this.filterArea=null}}const nt=new class MaskEffectManagerClass{constructor(){this._effectClasses=[],this._tests=[],this._initialized=!1}init(){this._initialized||(this._initialized=!0,this._effectClasses.forEach(r=>{this.add({test:r.test,maskClass:r})}))}add(r){this._tests.push(r)}getMaskEffect(r){this._initialized||this.init();for(let i=0;i<this._tests.length;i++){const l=this._tests[i];if(l.test(r))return Je.get(l.maskClass,r)}return r}returnMaskEffect(r){Je.return(r)}};le.handleByList(oe.MaskEffect,nt._effectClasses);const it={_maskEffect:null,_maskOptions:{inverse:!1},_filterEffect:null,effects:[],_markStructureAsChanged(){const r=this.renderGroup||this.parentRenderGroup;r&&(r.structureDidChange=!0)},addEffect(r){-1===this.effects.indexOf(r)&&(this.effects.push(r),this.effects.sort((r,i)=>r.priority-i.priority),this._markStructureAsChanged(),this._updateIsSimple())},removeEffect(r){const i=this.effects.indexOf(r);-1!==i&&(this.effects.splice(i,1),this._markStructureAsChanged(),this._updateIsSimple())},set mask(r){const i=this._maskEffect;i?.mask!==r&&(i&&(this.removeEffect(i),nt.returnMaskEffect(i),this._maskEffect=null),null!=r&&(this._maskEffect=nt.getMaskEffect(r),this.addEffect(this._maskEffect)))},get mask(){return this._maskEffect?.mask},setMask(r){this._maskOptions={...this._maskOptions,...r},r.mask&&(this.mask=r.mask),this._markStructureAsChanged()},set filters(r){!Array.isArray(r)&&r&&(r=[r]);const i=this._filterEffect||(this._filterEffect=new FilterEffect),l=r?.length>0,p=l!==i.filters?.length>0;r=Array.isArray(r)?r.slice(0):r,i.filters=Object.freeze(r),p&&(l?this.addEffect(i):(this.removeEffect(i),i.filters=r??null))},get filters(){return this._filterEffect?.filters},set filterArea(r){this._filterEffect||(this._filterEffect=new FilterEffect),this._filterEffect.filterArea=r},get filterArea(){return this._filterEffect?.filterArea}},st={label:null,get name(){return deprecation(0,"Container.name property has been removed, use Container.label instead"),this.label},set name(r){deprecation(0,"Container.name property has been removed, use Container.label instead"),this.label=r},getChildByName(r,i=!1){return this.getChildByLabel(r,i)},getChildByLabel(r,i=!1){const l=this.children;for(let p=0;p<l.length;p++){const i=l[p];if(i.label===r||r instanceof RegExp&&r.test(i.label))return i}if(i)for(let p=0;p<l.length;p++){const i=l[p].getChildByLabel(r,!0);if(i)return i}return null},getChildrenByLabel(r,i=!1,l=[]){const p=this.children;for(let m=0;m<p.length;m++){const i=p[m];(i.label===r||r instanceof RegExp&&r.test(i.label))&&l.push(i)}if(i)for(let m=0;m<p.length;m++)p[m].getChildrenByLabel(r,!0,l);return l}},at=Je.getPool(Matrix),ot=Je.getPool(Bounds),lt=new Matrix,ut={getFastGlobalBounds(r,i){i||(i=new Bounds),i.clear(),this._getGlobalBoundsRecursive(!!r,i,this.parentRenderLayer),i.isValid||i.set(0,0,0,0);const l=this.renderGroup||this.parentRenderGroup;return i.applyMatrix(l.worldTransform),i},_getGlobalBoundsRecursive(r,i,l){let p=i;if(r&&this.parentRenderLayer&&this.parentRenderLayer!==l)return;if(7!==this.localDisplayStatus||!this.measurable)return;const m=!!this.effects.length;if((this.renderGroup||m)&&(p=ot.get().clear()),this.boundsArea)i.addRect(this.boundsArea,this.worldTransform);else{if(this.renderPipeId){const r=this.bounds;p.addFrame(r.minX,r.minY,r.maxX,r.maxY,this.groupTransform)}const i=this.children;for(let m=0;m<i.length;m++)i[m]._getGlobalBoundsRecursive(r,p,l)}if(m){let r=!1;const l=this.renderGroup||this.parentRenderGroup;for(let i=0;i<this.effects.length;i++)this.effects[i].addBounds&&(r||(r=!0,p.applyMatrix(l.worldTransform)),this.effects[i].addBounds(p,!0));r&&p.applyMatrix(l.worldTransform.copyTo(lt).invert()),i.addBounds(p),ot.return(p)}else this.renderGroup&&(i.addBounds(p,this.relativeGroupTransform),ot.return(p))}};function getGlobalBounds(r,i,l){let p,m;return l.clear(),r.parent?i?p=r.parent.worldTransform:(m=at.get().identity(),p=updateTransformBackwards(r,m)):p=Matrix.IDENTITY,_getGlobalBounds(r,l,p,i),m&&at.return(m),l.isValid||l.set(0,0,0,0),l}function _getGlobalBounds(r,i,l,p){if(!r.visible||!r.measurable)return;let m;p?m=r.worldTransform:(r.updateLocalTransform(),m=at.get(),m.appendFrom(r.localTransform,l));const y=i,v=!!r.effects.length;if(v&&(i=ot.get().clear()),r.boundsArea)i.addRect(r.boundsArea,m);else{const l=r.bounds;l&&!l.isEmpty()&&(i.matrix=m,i.addBounds(l));for(let y=0;y<r.children.length;y++)_getGlobalBounds(r.children[y],i,m,p)}if(v){for(let l=0;l<r.effects.length;l++)r.effects[l].addBounds?.(i);y.addBounds(i,Matrix.IDENTITY),ot.return(i)}p||at.return(m)}function updateTransformBackwards(r,i){const l=r.parent;return l&&(updateTransformBackwards(l,i),l.updateLocalTransform(),i.append(l.localTransform)),i}function multiplyHexColors(r,i){if(16777215===r||!i)return i;if(16777215===i||!r)return r;return(((r>>16&255)*(i>>16&255)/255|0)<<16)+(((r>>8&255)*(i>>8&255)/255|0)<<8)+((255&r)*(255&i)/255|0)}const ct=16777215;function multiplyColors(r,i){return r===ct?i:i===ct?r:multiplyHexColors(r,i)}function bgr2rgb(r){return((255&r)<<16)+(65280&r)+(r>>16&255)}const dt={getGlobalAlpha(r){if(r)return this.renderGroup?this.renderGroup.worldAlpha:this.parentRenderGroup?this.parentRenderGroup.worldAlpha*this.alpha:this.alpha;let i=this.alpha,l=this.parent;for(;l;)i*=l.alpha,l=l.parent;return i},getGlobalTransform(r=new Matrix,i){if(i)return r.copyFrom(this.worldTransform);this.updateLocalTransform();const l=updateTransformBackwards(this,at.get().identity());return r.appendFrom(this.localTransform,l),at.return(l),r},getGlobalTint(r){if(r)return this.renderGroup?bgr2rgb(this.renderGroup.worldColor):this.parentRenderGroup?bgr2rgb(multiplyColors(this.localColor,this.parentRenderGroup.worldColor)):this.tint;let i=this.localColor,l=this.parent;for(;l;)i=multiplyColors(i,l.localColor),l=l.parent;return bgr2rgb(i)}};function getLocalBounds(r,i,l){return i.clear(),l||(l=Matrix.IDENTITY),_getLocalBounds(r,i,l,r,!0),i.isValid||i.set(0,0,0,0),i}function _getLocalBounds(r,i,l,p,m){let y;if(m)y=at.get(),y=l.copyTo(y);else{if(!r.visible||!r.measurable)return;r.updateLocalTransform();const i=r.localTransform;y=at.get(),y.appendFrom(i,l)}const v=i,_=!!r.effects.length;if(_&&(i=ot.get().clear()),r.boundsArea)i.addRect(r.boundsArea,y);else{r.renderPipeId&&(i.matrix=y,i.addBounds(r.bounds));const l=r.children;for(let r=0;r<l.length;r++)_getLocalBounds(l[r],i,y,p,!1)}if(_){for(let l=0;l<r.effects.length;l++)r.effects[l].addLocalBounds?.(i,p);v.addBounds(i,Matrix.IDENTITY),ot.return(i)}at.return(y)}function checkChildrenDidChange(r,i){const l=r.children;for(let p=0;p<l.length;p++){const r=l[p],m=r.uid,y=(65535&r._didViewChangeTick)<<16|65535&r._didContainerChangeTick,v=i.index;i.data[v]===m&&i.data[v+1]===y||(i.data[i.index]=m,i.data[i.index+1]=y,i.didChange=!0),i.index=v+2,r.children.length&&checkChildrenDidChange(r,i)}return i.didChange}const ht=new Matrix,ft={_localBoundsCacheId:-1,_localBoundsCacheData:null,_setWidth(r,i){const l=Math.sign(this.scale.x)||1;this.scale.x=0!==i?r/i*l:l},_setHeight(r,i){const l=Math.sign(this.scale.y)||1;this.scale.y=0!==i?r/i*l:l},getLocalBounds(){this._localBoundsCacheData||(this._localBoundsCacheData={data:[],index:1,didChange:!1,localBounds:new Bounds});const r=this._localBoundsCacheData;return r.index=1,r.didChange=!1,r.data[0]!==this._didViewChangeTick&&(r.didChange=!0,r.data[0]=this._didViewChangeTick),checkChildrenDidChange(this,r),r.didChange&&getLocalBounds(this,r.localBounds,ht),r.localBounds},getBounds(r,i){return getGlobalBounds(this,r,i||new Bounds)}},pt={_onRender:null,set onRender(r){const i=this.renderGroup||this.parentRenderGroup;if(!r)return this._onRender&&i?.removeOnRender(this),void(this._onRender=null);this._onRender||i?.addOnRender(this),this._onRender=r},get onRender(){return this._onRender}},mt={_zIndex:0,sortDirty:!1,sortableChildren:!1,get zIndex(){return this._zIndex},set zIndex(r){this._zIndex!==r&&(this._zIndex=r,this.depthOfChildModified())},depthOfChildModified(){this.parent&&(this.parent.sortableChildren=!0,this.parent.sortDirty=!0),this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0)},sortChildren(){this.sortDirty&&(this.sortDirty=!1,this.children.sort(sortChildren))}};function sortChildren(r,i){return r._zIndex-i._zIndex}const gt={getGlobalPosition(r=new Point,i=!1){return this.parent?this.parent.toGlobal(this._position,r,i):(r.x=this._position.x,r.y=this._position.y),r},toGlobal(r,i,l=!1){const p=this.getGlobalTransform(at.get(),l);return i=p.apply(r,i),at.return(p),i},toLocal(r,i,l,p){i&&(r=i.toGlobal(r,l,p));const m=this.getGlobalTransform(at.get(),p);return l=m.applyInverse(r,l),at.return(m),l}};class InstructionSet{constructor(){this.uid=uid("instructionSet"),this.instructions=[],this.instructionSize=0,this.renderables=[],this.gcTick=0}reset(){this.instructionSize=0}destroy(){this.instructions.length=0,this.renderables.length=0,this.renderPipes=null,this.gcTick=0}add(r){this.instructions[this.instructionSize++]=r}log(){this.instructions.length=this.instructionSize}}let yt=0;const vt=new class TexturePoolClass{constructor(r){this._poolKeyHash=Object.create(null),this._texturePool={},this.textureOptions=r||{},this.enableFullScreen=!1,this.textureStyle=new Le(this.textureOptions)}createTexture(r,i,l){const p=new Ne({...this.textureOptions,width:r,height:i,resolution:1,antialias:l,autoGarbageCollect:!1});return new Texture({source:p,label:"texturePool_"+yt++})}getOptimalTexture(r,i,l=1,p){let m=Math.ceil(r*l-1e-6),y=Math.ceil(i*l-1e-6);m=nextPow2(m),y=nextPow2(y);const v=(m<<17)+(y<<1)+(p?1:0);this._texturePool[v]||(this._texturePool[v]=[]);let _=this._texturePool[v].pop();return _||(_=this.createTexture(m,y,p)),_.source._resolution=l,_.source.width=m/l,_.source.height=y/l,_.source.pixelWidth=m,_.source.pixelHeight=y,_.frame.x=0,_.frame.y=0,_.frame.width=r,_.frame.height=i,_.updateUvs(),this._poolKeyHash[_.uid]=v,_}getSameSizeTexture(r,i=!1){const l=r.source;return this.getOptimalTexture(r.width,r.height,l._resolution,i)}returnTexture(r,i=!1){const l=this._poolKeyHash[r.uid];i&&(r.source.style=this.textureStyle),this._texturePool[l].push(r)}clear(r){if(r=!1!==r)for(const i in this._texturePool){const r=this._texturePool[i];if(r)for(let i=0;i<r.length;i++)r[i].destroy(!0)}this._texturePool={}}};Ze.register(vt);class RenderGroup{constructor(){this.renderPipeId="renderGroup",this.root=null,this.canBundle=!1,this.renderGroupParent=null,this.renderGroupChildren=[],this.worldTransform=new Matrix,this.worldColorAlpha=4294967295,this.worldColor=16777215,this.worldAlpha=1,this.childrenToUpdate=Object.create(null),this.updateTick=0,this.gcTick=0,this.childrenRenderablesToUpdate={list:[],index:0},this.structureDidChange=!0,this.instructionSet=new InstructionSet,this._onRenderContainers=[],this.textureNeedsUpdate=!0,this.isCachedAsTexture=!1,this._matrixDirty=7}init(r){this.root=r,r._onRender&&this.addOnRender(r),r.didChange=!0;const i=r.children;for(let l=0;l<i.length;l++){const r=i[l];r._updateFlags=15,this.addChild(r)}}enableCacheAsTexture(r={}){this.textureOptions=r,this.isCachedAsTexture=!0,this.textureNeedsUpdate=!0}disableCacheAsTexture(){this.isCachedAsTexture=!1,this.texture&&(vt.returnTexture(this.texture,!0),this.texture=null)}updateCacheTexture(){this.textureNeedsUpdate=!0;const r=this._parentCacheAsTextureRenderGroup;r&&!r.textureNeedsUpdate&&r.updateCacheTexture()}reset(){this.renderGroupChildren.length=0;for(const r in this.childrenToUpdate){const i=this.childrenToUpdate[r];i.list.fill(null),i.index=0}this.childrenRenderablesToUpdate.index=0,this.childrenRenderablesToUpdate.list.fill(null),this.root=null,this.updateTick=0,this.structureDidChange=!0,this._onRenderContainers.length=0,this.renderGroupParent=null,this.disableCacheAsTexture()}get localTransform(){return this.root.localTransform}addRenderGroupChild(r){r.renderGroupParent&&r.renderGroupParent._removeRenderGroupChild(r),r.renderGroupParent=this,this.renderGroupChildren.push(r)}_removeRenderGroupChild(r){const i=this.renderGroupChildren.indexOf(r);i>-1&&this.renderGroupChildren.splice(i,1),r.renderGroupParent=null}addChild(r){if(this.structureDidChange=!0,r.parentRenderGroup=this,r.updateTick=-1,r.parent===this.root?r.relativeRenderGroupDepth=1:r.relativeRenderGroupDepth=r.parent.relativeRenderGroupDepth+1,r.didChange=!0,this.onChildUpdate(r),r.renderGroup)return void this.addRenderGroupChild(r.renderGroup);r._onRender&&this.addOnRender(r);const i=r.children;for(let l=0;l<i.length;l++)this.addChild(i[l])}removeChild(r){if(this.structureDidChange=!0,r._onRender&&(r.renderGroup||this.removeOnRender(r)),r.parentRenderGroup=null,r.renderGroup)return void this._removeRenderGroupChild(r.renderGroup);const i=r.children;for(let l=0;l<i.length;l++)this.removeChild(i[l])}removeChildren(r){for(let i=0;i<r.length;i++)this.removeChild(r[i])}onChildUpdate(r){let i=this.childrenToUpdate[r.relativeRenderGroupDepth];i||(i=this.childrenToUpdate[r.relativeRenderGroupDepth]={index:0,list:[]}),i.list[i.index++]=r}updateRenderable(r){r.globalDisplayStatus<7||(this.instructionSet.renderPipes[r.renderPipeId].updateRenderable(r),r.didViewUpdate=!1)}onChildViewUpdate(r){this.childrenRenderablesToUpdate.list[this.childrenRenderablesToUpdate.index++]=r}get isRenderable(){return 7===this.root.localDisplayStatus&&this.worldAlpha>0}addOnRender(r){this._onRenderContainers.push(r)}removeOnRender(r){this._onRenderContainers.splice(this._onRenderContainers.indexOf(r),1)}runOnRender(r){for(let i=0;i<this._onRenderContainers.length;i++)this._onRenderContainers[i]._onRender(r)}destroy(){this.disableCacheAsTexture(),this.renderGroupParent=null,this.root=null,this.childrenRenderablesToUpdate=null,this.childrenToUpdate=null,this.renderGroupChildren=null,this._onRenderContainers=null,this.instructionSet=null}getChildren(r=[]){const i=this.root.children;for(let l=0;l<i.length;l++)this._getChildren(i[l],r);return r}_getChildren(r,i=[]){if(i.push(r),r.renderGroup)return i;const l=r.children;for(let p=0;p<l.length;p++)this._getChildren(l[p],i);return i}invalidateMatrices(){this._matrixDirty=7}get inverseWorldTransform(){return 1&this._matrixDirty?(this._matrixDirty&=-2,this._inverseWorldTransform||(this._inverseWorldTransform=new Matrix),this._inverseWorldTransform.copyFrom(this.worldTransform).invert()):this._inverseWorldTransform}get textureOffsetInverseTransform(){return 2&this._matrixDirty?(this._matrixDirty&=-3,this._textureOffsetInverseTransform||(this._textureOffsetInverseTransform=new Matrix),this._textureOffsetInverseTransform.copyFrom(this.inverseWorldTransform).translate(-this._textureBounds.x,-this._textureBounds.y)):this._textureOffsetInverseTransform}get inverseParentTextureTransform(){if(!(4&this._matrixDirty))return this._inverseParentTextureTransform;this._matrixDirty&=-5;const r=this._parentCacheAsTextureRenderGroup;return r?(this._inverseParentTextureTransform||(this._inverseParentTextureTransform=new Matrix),this._inverseParentTextureTransform.copyFrom(this.worldTransform).prepend(r.inverseWorldTransform).translate(-r._textureBounds.x,-r._textureBounds.y)):this.worldTransform}get cacheToLocalTransform(){return this.isCachedAsTexture?this.textureOffsetInverseTransform:this._parentCacheAsTextureRenderGroup?this._parentCacheAsTextureRenderGroup.textureOffsetInverseTransform:null}}const bt=new ObservablePoint(null),_t=new ObservablePoint(null),xt=new ObservablePoint(null,1,1),St=new ObservablePoint(null),wt=1,kt=2,Ct=4;class Container extends fe{constructor(r={}){super(),this.uid=uid("renderable"),this._updateFlags=15,this.renderGroup=null,this.parentRenderGroup=null,this.parentRenderGroupIndex=0,this.didChange=!1,this.didViewUpdate=!1,this.relativeRenderGroupDepth=0,this.children=[],this.parent=null,this.includeInBuild=!0,this.measurable=!0,this.isSimple=!0,this.parentRenderLayer=null,this.updateTick=-1,this.localTransform=new Matrix,this.relativeGroupTransform=new Matrix,this.groupTransform=this.relativeGroupTransform,this.destroyed=!1,this._position=new ObservablePoint(this,0,0),this._scale=xt,this._pivot=_t,this._origin=St,this._skew=bt,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._rotation=0,this.localColor=16777215,this.localAlpha=1,this.groupAlpha=1,this.groupColor=16777215,this.groupColorAlpha=4294967295,this.localBlendMode="inherit",this.groupBlendMode="normal",this.localDisplayStatus=7,this.globalDisplayStatus=7,this._didContainerChangeTick=0,this._didViewChangeTick=0,this._didLocalTransformChangeId=-1,this.effects=[],function assignWithIgnore(r,i,l={}){for(const p in i)l[p]||void 0===i[p]||(r[p]=i[p])}(this,r,{children:!0,parent:!0,effects:!0}),r.children?.forEach(r=>this.addChild(r)),r.parent?.addChild(this)}static mixin(r){deprecation(0,"Container.mixin is deprecated, please use extensions.mixin instead."),le.mixin(Container,r)}set _didChangeId(r){this._didViewChangeTick=r>>12&4095,this._didContainerChangeTick=4095&r}get _didChangeId(){return 4095&this._didContainerChangeTick|(4095&this._didViewChangeTick)<<12}addChild(...r){if(this.allowChildren||deprecation(0,"addChild: Only Containers will be allowed to add children in v8.0.0"),r.length>1){for(let i=0;i<r.length;i++)this.addChild(r[i]);return r[0]}const i=r[0],l=this.renderGroup||this.parentRenderGroup;return i.parent===this?(this.children.splice(this.children.indexOf(i),1),this.children.push(i),l&&(l.structureDidChange=!0),i):(i.parent&&i.parent.removeChild(i),this.children.push(i),this.sortableChildren&&(this.sortDirty=!0),i.parent=this,i.didChange=!0,i._updateFlags=15,l&&l.addChild(i),this.emit("childAdded",i,this,this.children.length-1),i.emit("added",this),this._didViewChangeTick++,0!==i._zIndex&&i.depthOfChildModified(),i)}removeChild(...r){if(r.length>1){for(let i=0;i<r.length;i++)this.removeChild(r[i]);return r[0]}const i=r[0],l=this.children.indexOf(i);return l>-1&&(this._didViewChangeTick++,this.children.splice(l,1),this.renderGroup?this.renderGroup.removeChild(i):this.parentRenderGroup&&this.parentRenderGroup.removeChild(i),i.parentRenderLayer&&i.parentRenderLayer.detach(i),i.parent=null,this.emit("childRemoved",i,this,l),i.emit("removed",this)),i}_onUpdate(r){r&&r===this._skew&&this._updateSkew(),this._didContainerChangeTick++,this.didChange||(this.didChange=!0,this.parentRenderGroup&&this.parentRenderGroup.onChildUpdate(this))}set isRenderGroup(r){!!this.renderGroup!==r&&(r?this.enableRenderGroup():this.disableRenderGroup())}get isRenderGroup(){return!!this.renderGroup}enableRenderGroup(){if(this.renderGroup)return;const r=this.parentRenderGroup;r?.removeChild(this),this.renderGroup=Je.get(RenderGroup,this),this.groupTransform=Matrix.IDENTITY,r?.addChild(this),this._updateIsSimple()}disableRenderGroup(){if(!this.renderGroup)return;const r=this.parentRenderGroup;r?.removeChild(this),Je.return(this.renderGroup),this.renderGroup=null,this.groupTransform=this.relativeGroupTransform,r?.addChild(this),this._updateIsSimple()}_updateIsSimple(){this.isSimple=!this.renderGroup&&0===this.effects.length}get worldTransform(){return this._worldTransform||(this._worldTransform=new Matrix),this.renderGroup?this._worldTransform.copyFrom(this.renderGroup.worldTransform):this.parentRenderGroup&&this._worldTransform.appendFrom(this.relativeGroupTransform,this.parentRenderGroup.worldTransform),this._worldTransform}get x(){return this._position.x}set x(r){this._position.x=r}get y(){return this._position.y}set y(r){this._position.y=r}get position(){return this._position}set position(r){this._position.copyFrom(r)}get rotation(){return this._rotation}set rotation(r){this._rotation!==r&&(this._rotation=r,this._onUpdate(this._skew))}get angle(){return this.rotation*me}set angle(r){this.rotation=r*ge}get pivot(){return this._pivot===_t&&(this._pivot=new ObservablePoint(this,0,0)),this._pivot}set pivot(r){this._pivot===_t&&(this._pivot=new ObservablePoint(this,0,0),this._origin!==St&&warn()),"number"==typeof r?this._pivot.set(r):this._pivot.copyFrom(r)}get skew(){return this._skew===bt&&(this._skew=new ObservablePoint(this,0,0)),this._skew}set skew(r){this._skew===bt&&(this._skew=new ObservablePoint(this,0,0)),this._skew.copyFrom(r)}get scale(){return this._scale===xt&&(this._scale=new ObservablePoint(this,1,1)),this._scale}set scale(r){this._scale===xt&&(this._scale=new ObservablePoint(this,0,0)),"string"==typeof r&&(r=parseFloat(r)),"number"==typeof r?this._scale.set(r):this._scale.copyFrom(r)}get origin(){return this._origin===St&&(this._origin=new ObservablePoint(this,0,0)),this._origin}set origin(r){this._origin===St&&(this._origin=new ObservablePoint(this,0,0),this._pivot!==_t&&warn()),"number"==typeof r?this._origin.set(r):this._origin.copyFrom(r)}get width(){return Math.abs(this.scale.x*this.getLocalBounds().width)}set width(r){const i=this.getLocalBounds().width;this._setWidth(r,i)}get height(){return Math.abs(this.scale.y*this.getLocalBounds().height)}set height(r){const i=this.getLocalBounds().height;this._setHeight(r,i)}getSize(r){r||(r={});const i=this.getLocalBounds();return r.width=Math.abs(this.scale.x*i.width),r.height=Math.abs(this.scale.y*i.height),r}setSize(r,i){const l=this.getLocalBounds();"object"==typeof r?(i=r.height??r.width,r=r.width):i??(i=r),void 0!==r&&this._setWidth(r,l.width),void 0!==i&&this._setHeight(i,l.height)}_updateSkew(){const r=this._rotation,i=this._skew;this._cx=Math.cos(r+i._y),this._sx=Math.sin(r+i._y),this._cy=-Math.sin(r-i._x),this._sy=Math.cos(r-i._x)}updateTransform(r){return this.position.set("number"==typeof r.x?r.x:this.position.x,"number"==typeof r.y?r.y:this.position.y),this.scale.set("number"==typeof r.scaleX?r.scaleX||1:this.scale.x,"number"==typeof r.scaleY?r.scaleY||1:this.scale.y),this.rotation="number"==typeof r.rotation?r.rotation:this.rotation,this.skew.set("number"==typeof r.skewX?r.skewX:this.skew.x,"number"==typeof r.skewY?r.skewY:this.skew.y),this.pivot.set("number"==typeof r.pivotX?r.pivotX:this.pivot.x,"number"==typeof r.pivotY?r.pivotY:this.pivot.y),this.origin.set("number"==typeof r.originX?r.originX:this.origin.x,"number"==typeof r.originY?r.originY:this.origin.y),this}setFromMatrix(r){r.decompose(this)}updateLocalTransform(){const r=this._didContainerChangeTick;if(this._didLocalTransformChangeId===r)return;this._didLocalTransformChangeId=r;const i=this.localTransform,l=this._scale,p=this._pivot,m=this._origin,y=this._position,v=l._x,_=l._y,x=p._x,S=p._y,k=-m._x,C=-m._y;i.a=this._cx*v,i.b=this._sx*v,i.c=this._cy*_,i.d=this._sy*_,i.tx=y._x-(x*i.a+S*i.c)+(k*i.a+C*i.c)-k,i.ty=y._y-(x*i.b+S*i.d)+(k*i.b+C*i.d)-C}set alpha(r){r!==this.localAlpha&&(this.localAlpha=r,this._updateFlags|=1,this._onUpdate())}get alpha(){return this.localAlpha}set tint(r){const i=Qe.shared.setValue(r??16777215).toBgrNumber();i!==this.localColor&&(this.localColor=i,this._updateFlags|=1,this._onUpdate())}get tint(){return bgr2rgb(this.localColor)}set blendMode(r){this.localBlendMode!==r&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=2,this.localBlendMode=r,this._onUpdate())}get blendMode(){return this.localBlendMode}get visible(){return!!(2&this.localDisplayStatus)}set visible(r){const i=r?2:0;(2&this.localDisplayStatus)!==i&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=4,this.localDisplayStatus^=2,this._onUpdate())}get culled(){return!(4&this.localDisplayStatus)}set culled(r){const i=r?0:4;(4&this.localDisplayStatus)!==i&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=4,this.localDisplayStatus^=4,this._onUpdate())}get renderable(){return!!(1&this.localDisplayStatus)}set renderable(r){const i=r?1:0;(1&this.localDisplayStatus)!==i&&(this._updateFlags|=4,this.localDisplayStatus^=1,this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._onUpdate())}get isRenderable(){return 7===this.localDisplayStatus&&this.groupAlpha>0}destroy(r=!1){if(this.destroyed)return;let i;this.destroyed=!0,this.children.length&&(i=this.removeChildren(0,this.children.length)),this.removeFromParent(),this.parent=null,this._maskEffect=null,this._filterEffect=null,this.effects=null,this._position=null,this._scale=null,this._pivot=null,this._origin=null,this._skew=null,this.emit("destroyed",this),this.removeAllListeners();if(("boolean"==typeof r?r:r?.children)&&i)for(let l=0;l<i.length;++l)i[l].destroy(r);this.renderGroup?.destroy(),this.renderGroup=null}}le.mixin(Container,tt,ut,gt,pt,ft,it,st,mt,{cullArea:null,cullable:!1,cullableChildren:!0},et,dt,rt);class ViewContainer extends Container{constructor(r){super(r),this.canBundle=!0,this.allowChildren=!1,this._roundPixels=0,this._lastUsed=-1,this._gpuData=Object.create(null),this.autoGarbageCollect=!0,this._gcLastUsed=-1,this._bounds=new Bounds(0,1,0,0),this._boundsDirty=!0,this.autoGarbageCollect=r.autoGarbageCollect??!0}get bounds(){return this._boundsDirty?(this.updateBounds(),this._boundsDirty=!1,this._bounds):this._bounds}get roundPixels(){return!!this._roundPixels}set roundPixels(r){this._roundPixels=r?1:0}containsPoint(r){const i=this.bounds,{x:l,y:p}=r;return l>=i.minX&&l<=i.maxX&&p>=i.minY&&p<=i.maxY}onViewUpdate(){if(this._didViewChangeTick++,this._boundsDirty=!0,this.didViewUpdate)return;this.didViewUpdate=!0;const r=this.renderGroup||this.parentRenderGroup;r&&r.onChildViewUpdate(this)}unload(){this.emit("unload",this);for(const r in this._gpuData)this._gpuData[r]?.destroy();this._gpuData=Object.create(null),this.onViewUpdate()}destroy(r){this.unload(),super.destroy(r),this._bounds=null}collectRenderablesSimple(r,i,l){const{renderPipes:p}=i;p.blendMode.pushBlendMode(this,this.groupBlendMode,r);const m=p[this.renderPipeId];m?.addRenderable&&m.addRenderable(this,r),this.didViewUpdate=!1;const y=this.children,v=y.length;for(let _=0;_<v;_++)y[_].collectRenderables(r,i,l);p.blendMode.popBlendMode(r)}}class Sprite extends ViewContainer{constructor(r=Texture.EMPTY){r instanceof Texture&&(r={texture:r});const{texture:i=Texture.EMPTY,anchor:l,roundPixels:p,width:m,height:y,...v}=r;super({label:"Sprite",...v}),this.renderPipeId="sprite",this.batched=!0,this._visualBounds={minX:0,maxX:1,minY:0,maxY:0},this._anchor=new ObservablePoint({_onUpdate:()=>{this.onViewUpdate()}}),l?this.anchor=l:i.defaultAnchor&&(this.anchor=i.defaultAnchor),this.texture=i,this.allowChildren=!1,this.roundPixels=p??!1,void 0!==m&&(this.width=m),void 0!==y&&(this.height=y)}static from(r,i=!1){return new Sprite(r instanceof Texture?r:Texture.from(r,i))}set texture(r){r||(r=Texture.EMPTY);const i=this._texture;i!==r&&(i&&i.dynamic&&i.off("update",this.onViewUpdate,this),r.dynamic&&r.on("update",this.onViewUpdate,this),this._texture=r,this._width&&this._setWidth(this._width,this._texture.orig.width),this._height&&this._setHeight(this._height,this._texture.orig.height),this.onViewUpdate())}get texture(){return this._texture}get visualBounds(){return function updateQuadBounds(r,i,l){const{width:p,height:m}=l.orig,y=l.trim;if(y){const l=y.width,v=y.height;r.minX=y.x-i._x*p,r.maxX=r.minX+l,r.minY=y.y-i._y*m,r.maxY=r.minY+v}else r.minX=-i._x*p,r.maxX=r.minX+p,r.minY=-i._y*m,r.maxY=r.minY+m}(this._visualBounds,this._anchor,this._texture),this._visualBounds}get sourceBounds(){return deprecation(0,"Sprite.sourceBounds is deprecated, use visualBounds instead."),this.visualBounds}updateBounds(){const r=this._anchor,i=this._texture,l=this._bounds,{width:p,height:m}=i.orig;l.minX=-r._x*p,l.maxX=l.minX+p,l.minY=-r._y*m,l.maxY=l.minY+m}destroy(r=!1){super.destroy(r);if("boolean"==typeof r?r:r?.texture){const i="boolean"==typeof r?r:r?.textureSource;this._texture.destroy(i)}this._texture=null,this._visualBounds=null,this._bounds=null,this._anchor=null}get anchor(){return this._anchor}set anchor(r){"number"==typeof r?this._anchor.set(r):this._anchor.copyFrom(r)}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(r){this._setWidth(r,this._texture.orig.width),this._width=r}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(r){this._setHeight(r,this._texture.orig.height),this._height=r}getSize(r){return r||(r={}),r.width=Math.abs(this.scale.x)*this._texture.orig.width,r.height=Math.abs(this.scale.y)*this._texture.orig.height,r}setSize(r,i){"object"==typeof r?(i=r.height??r.width,r=r.width):i??(i=r),void 0!==r&&this._setWidth(r,this._texture.orig.width),void 0!==i&&this._setHeight(i,this._texture.orig.height)}}const Pt=new Bounds;function addMaskBounds(r,i,l){const p=Pt;r.measurable=!0,getGlobalBounds(r,l,p),i.addBoundsMask(p),r.measurable=!1}function addMaskLocalBounds(r,i,l){const p=ot.get();r.measurable=!0;const m=at.get().identity();getLocalBounds(r,p,getMatrixRelativeToParent(r,l,m)),r.measurable=!1,i.addBoundsMask(p),at.return(m),ot.return(p)}function getMatrixRelativeToParent(r,i,l){return r?(r!==i&&(getMatrixRelativeToParent(r.parent,i,l),r.updateLocalTransform(),l.append(r.localTransform)),l):(warn(),l)}class AlphaMask{constructor(r){this.priority=0,this.inverse=!1,this.pipe="alphaMask",r?.mask&&this.init(r.mask)}init(r){this.mask=r,this.renderMaskToTexture=!(r instanceof Sprite),this.mask.renderable=this.renderMaskToTexture,this.mask.includeInBuild=!this.renderMaskToTexture,this.mask.measurable=!1}reset(){null!==this.mask&&(this.mask.measurable=!0,this.mask=null)}addBounds(r,i){this.inverse||addMaskBounds(this.mask,r,i)}addLocalBounds(r,i){addMaskLocalBounds(this.mask,r,i)}containsPoint(r,i){return i(this.mask,r)}destroy(){this.reset()}static test(r){return r instanceof Sprite}}AlphaMask.extension=oe.MaskEffect;class ColorMask{constructor(r){this.priority=0,this.pipe="colorMask",r?.mask&&this.init(r.mask)}init(r){this.mask=r}destroy(){}static test(r){return"number"==typeof r}}ColorMask.extension=oe.MaskEffect;class StencilMask{constructor(r){this.priority=0,this.pipe="stencilMask",r?.mask&&this.init(r.mask)}init(r){this.mask=r,this.mask.includeInBuild=!1,this.mask.measurable=!1}reset(){null!==this.mask&&(this.mask.measurable=!0,this.mask.includeInBuild=!0,this.mask=null)}addBounds(r,i){addMaskBounds(this.mask,r,i)}addLocalBounds(r,i){addMaskLocalBounds(this.mask,r,i)}containsPoint(r,i){return i(this.mask,r)}destroy(){this.reset()}static test(r){return r instanceof Container}}StencilMask.extension=oe.MaskEffect;let Et={createCanvas:(r,i)=>{const l=document.createElement("canvas");return l.width=r,l.height=i,l},createImage:()=>new Image,getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(r,i)=>fetch(r,i),parseXML:r=>(new DOMParser).parseFromString(r,"text/xml")};const Tt={get:()=>Et,set(r){Et=r}};class CanvasSource extends Ne{constructor(r){r.resource||(r.resource=Tt.get().createCanvas()),r.width||(r.width=r.resource.width,r.autoDensity||(r.width/=r.resolution)),r.height||(r.height=r.resource.height,r.autoDensity||(r.height/=r.resolution)),super(r),this.uploadMethodId="image",this.autoDensity=r.autoDensity,this.resizeCanvas(),this.transparent=!!r.transparent}resizeCanvas(){this.autoDensity&&"style"in this.resource&&(this.resource.style.width=`${this.width}px`,this.resource.style.height=`${this.height}px`),this.resource.width===this.pixelWidth&&this.resource.height===this.pixelHeight||(this.resource.width=this.pixelWidth,this.resource.height=this.pixelHeight)}resize(r=this.width,i=this.height,l=this._resolution){const p=super.resize(r,i,l);return p&&this.resizeCanvas(),p}static test(r){return globalThis.HTMLCanvasElement&&r instanceof HTMLCanvasElement||globalThis.OffscreenCanvas&&r instanceof OffscreenCanvas}get context2D(){return this._context2D||(this._context2D=this.resource.getContext("2d"))}}CanvasSource.extension=oe.TextureSource;class ImageSource extends Ne{constructor(r){super(r),this.uploadMethodId="image",this.autoGarbageCollect=!0}static test(r){return globalThis.HTMLImageElement&&r instanceof HTMLImageElement||"undefined"!=typeof ImageBitmap&&r instanceof ImageBitmap||globalThis.VideoFrame&&r instanceof VideoFrame}}ImageSource.extension=oe.TextureSource;var At=(r=>(r[r.INTERACTION=50]="INTERACTION",r[r.HIGH=25]="HIGH",r[r.NORMAL=0]="NORMAL",r[r.LOW=-25]="LOW",r[r.UTILITY=-50]="UTILITY",r))(At||{});class TickerListener{constructor(r,i=null,l=0,p=!1){this.next=null,this.previous=null,this._destroyed=!1,this._fn=r,this._context=i,this.priority=l,this._once=p}match(r,i=null){return this._fn===r&&this._context===i}emit(r){this._fn&&(this._context?this._fn.call(this._context,r):this._fn(r));const i=this.next;return this._once&&this.destroy(!0),this._destroyed&&(this.next=null),i}connect(r){this.previous=r,r.next&&(r.next.previous=this),this.next=r.next,r.next=this}destroy(r=!1){this._destroyed=!0,this._fn=null,this._context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const i=this.next;return this.next=r?null:i,this.previous=null,i}}const Mt=class _Ticker2{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new TickerListener(null,null,1/0),this.deltaMS=1/_Ticker2.targetFPMS,this.elapsedMS=1/_Ticker2.targetFPMS,this._tick=r=>{this._requestId=null,this.started&&(this.update(r),this.started&&null===this._requestId&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(r,i,l=At.NORMAL){return this._addListener(new TickerListener(r,i,l))}addOnce(r,i,l=At.NORMAL){return this._addListener(new TickerListener(r,i,l,!0))}_addListener(r){let i=this._head.next,l=this._head;if(i){for(;i;){if(r.priority>i.priority){r.connect(l);break}l=i,i=i.next}r.previous||r.connect(l)}else r.connect(l);return this._startIfPossible(),this}remove(r,i){let l=this._head.next;for(;l;)l=l.match(r,i)?l.destroy():l.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let r=0,i=this._head;for(;i=i.next;)r++;return r}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let r=this._head.next;for(;r;)r=r.destroy(!0);this._head.destroy(),this._head=null}}update(r=performance.now()){let i;if(r>this.lastTime){if(i=this.elapsedMS=r-this.lastTime,i>this._maxElapsedMS&&(i=this._maxElapsedMS),i*=this.speed,this._minElapsedMS){const i=r-this._lastFrame|0;if(i<this._minElapsedMS)return;this._lastFrame=r-i%this._minElapsedMS}this.deltaMS=i,this.deltaTime=this.deltaMS*_Ticker2.targetFPMS;const l=this._head;let p=l.next;for(;p;)p=p.emit(this);l.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=r}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(r){const i=Math.min(this.maxFPS,r),l=Math.min(Math.max(0,i)/1e3,_Ticker2.targetFPMS);this._maxElapsedMS=1/l}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(r){if(0===r)this._minElapsedMS=0;else{const i=Math.max(this.minFPS,r);this._minElapsedMS=1/(i/1e3)}}static get shared(){if(!_Ticker2._shared){const r=_Ticker2._shared=new _Ticker2;r.autoStart=!0,r._protected=!0}return _Ticker2._shared}static get system(){if(!_Ticker2._system){const r=_Ticker2._system=new _Ticker2;r.autoStart=!0,r._protected=!0}return _Ticker2._system}};Mt.targetFPMS=.06;let It,Rt=Mt;const Ft=class _VideoSource2 extends Ne{constructor(r){super(r),this.isReady=!1,this.uploadMethodId="video",r={..._VideoSource2.defaultOptions,...r},this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=r.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=!1!==r.autoPlay,this.alphaMode=r.alphaMode??"premultiply-alpha-on-upload",this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onCanPlayThrough=this._onCanPlayThrough.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),!1!==r.autoLoad&&this.load()}updateFrame(){if(!this.destroyed){if(this._updateFPS){const r=Rt.shared.elapsedMS*this.resource.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-r)}(!this._updateFPS||this._msToNextUpdate<=0)&&(this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0),this.isValid&&this.update()}}_videoFrameRequestCallback(){this.updateFrame(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback)}get isValid(){return!!this.resource.videoWidth&&!!this.resource.videoHeight}async load(){if(this._load)return this._load;const r=this.resource,i=this.options;return(r.readyState===r.HAVE_ENOUGH_DATA||r.readyState===r.HAVE_FUTURE_DATA)&&r.width&&r.height&&(r.complete=!0),r.addEventListener("play",this._onPlayStart),r.addEventListener("pause",this._onPlayStop),r.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._mediaReady():(i.preload||r.addEventListener("canplay",this._onCanPlay),r.addEventListener("canplaythrough",this._onCanPlayThrough),r.addEventListener("error",this._onError,!0)),this.alphaMode=await async function detectVideoAlphaMode(){return It??(It=(async()=>{const r=Tt.get().createCanvas(1,1).getContext("webgl");if(!r)return"premultiply-alpha-on-upload";const i=await new Promise(r=>{const i=document.createElement("video");i.onloadeddata=()=>r(i),i.onerror=()=>r(null),i.autoplay=!1,i.crossOrigin="anonymous",i.preload="auto",i.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",i.load()});if(!i)return"premultiply-alpha-on-upload";const l=r.createTexture();r.bindTexture(r.TEXTURE_2D,l);const p=r.createFramebuffer();r.bindFramebuffer(r.FRAMEBUFFER,p),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,l,0),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),r.pixelStorei(r.UNPACK_COLORSPACE_CONVERSION_WEBGL,r.NONE),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,i);const m=new Uint8Array(4);return r.readPixels(0,0,1,1,r.RGBA,r.UNSIGNED_BYTE,m),r.deleteFramebuffer(p),r.deleteTexture(l),r.getExtension("WEBGL_lose_context")?.loseContext(),m[0]<=m[3]?"premultiplied-alpha":"premultiply-alpha-on-upload"})()),It}(),this._load=new Promise((l,p)=>{this.isValid?l(this):(this._resolve=l,this._reject=p,void 0!==i.preloadTimeoutMs&&(this._preloadTimeout=setTimeout(()=>{this._onError(new ErrorEvent(`Preload exceeded timeout of ${i.preloadTimeoutMs}ms`))})),r.load())}),this._load}_onError(r){this.resource.removeEventListener("error",this._onError,!0),this.emit("error",r),this._reject&&(this._reject(r),this._reject=null,this._resolve=null)}_isSourcePlaying(){const r=this.resource;return!r.paused&&!r.ended}_isSourceReady(){return this.resource.readyState>2}_onPlayStart(){this.isValid||this._mediaReady(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0)}_onCanPlay(){this.resource.removeEventListener("canplay",this._onCanPlay),this._mediaReady()}_onCanPlayThrough(){this.resource.removeEventListener("canplaythrough",this._onCanPlay),this._preloadTimeout&&(clearTimeout(this._preloadTimeout),this._preloadTimeout=void 0),this._mediaReady()}_mediaReady(){const r=this.resource;this.isValid&&(this.isReady=!0,this.resize(r.videoWidth,r.videoHeight)),this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0,this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.resource.play()}destroy(){this._configureAutoUpdate();const r=this.resource;r&&(r.removeEventListener("play",this._onPlayStart),r.removeEventListener("pause",this._onPlayStop),r.removeEventListener("seeked",this._onSeeked),r.removeEventListener("canplay",this._onCanPlay),r.removeEventListener("canplaythrough",this._onCanPlayThrough),r.removeEventListener("error",this._onError,!0),r.pause(),r.src="",r.load()),super.destroy()}get autoUpdate(){return this._autoUpdate}set autoUpdate(r){r!==this._autoUpdate&&(this._autoUpdate=r,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(r){r!==this._updateFPS&&(this._updateFPS=r,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.resource.requestVideoFrameCallback?(this._isConnectedToTicker&&(Rt.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),null===this._videoFrameRequestCallbackHandle&&(this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback))):(null!==this._videoFrameRequestCallbackHandle&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(Rt.shared.add(this.updateFrame,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(null!==this._videoFrameRequestCallbackHandle&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(Rt.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(r){return globalThis.HTMLVideoElement&&r instanceof HTMLVideoElement}};Ft.extension=oe.TextureSource,Ft.defaultOptions={...Ne.defaultOptions,autoLoad:!0,autoPlay:!0,updateFPS:0,crossorigin:!0,loop:!1,muted:!0,playsinline:!0,preload:!1},Ft.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let Ot=Ft;const convertToList=(r,i,l=!1)=>(Array.isArray(r)||(r=[r]),i?r.map(r=>"string"==typeof r||l?i(r):r):r);const Lt=new class CacheClass{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(r){return this._cache.has(r)}get(r){const i=this._cache.get(r);return i||warn(),i}set(r,i){const l=convertToList(r);let p;for(let _=0;_<this.parsers.length;_++){const r=this.parsers[_];if(r.test(i)){p=r.getCacheableAssets(l,i);break}}const m=new Map(Object.entries(p||{}));p||l.forEach(r=>{m.set(r,i)});const y=[...m.keys()],v={cacheKeys:y,keys:l};l.forEach(r=>{this._cacheMap.set(r,v)}),y.forEach(r=>{const l=p?p[r]:i;this._cache.has(r)&&this._cache.get(r)!==l&&warn(),this._cache.set(r,m.get(r))})}remove(r){if(!this._cacheMap.has(r))return void warn();const i=this._cacheMap.get(r);i.cacheKeys.forEach(r=>{this._cache.delete(r)}),i.keys.forEach(r=>{this._cacheMap.delete(r)})}get parsers(){return this._parsers}},Dt=[];function textureSourceFrom(r={}){const i=r&&r.resource,l=i?r.resource:r,p=i?r:{resource:r};for(let m=0;m<Dt.length;m++){const r=Dt[m];if(r.test(l))return new r(p)}throw new Error(`Could not find a source type for resource: ${p.resource}`)}le.handleByList(oe.TextureSource,Dt),Texture.from=function textureFrom(r,i=!1){return"string"==typeof r?Lt.get(r):r instanceof Ne?new Texture({source:r}):function resourceToTexture(r={},i=!1){const l=r&&r.resource,p=l?r.resource:r,m=l?r:{resource:r};if(!i&&Lt.has(p))return Lt.get(p);const y=new Texture({source:textureSourceFrom(m)});return y.on("destroy",()=>{Lt.has(p)&&Lt.remove(p)}),i||Lt.set(p,y),y}(r,i)},Ne.from=textureSourceFrom,le.add(AlphaMask,ColorMask,StencilMask,Ot,ImageSource,CanvasSource,BufferImageSource);var Nt=(r=>(r[r.Low=0]="Low",r[r.Normal=1]="Normal",r[r.High=2]="High",r))(Nt||{});function assertPath(r){if("string"!=typeof r)throw new TypeError(`Path must be a string. Received ${JSON.stringify(r)}`)}function removeUrlParams(r){return r.split("?")[0].split("#")[0]}const Ht={toPosix:r=>function replaceAll(r,i,l){return r.replace(new RegExp(function escapeRegExp(r){return r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}(i),"g"),l)}(r,"\\","/"),isUrl(r){return/^https?:/.test(this.toPosix(r))},isDataUrl:r=>/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(r),isBlobUrl:r=>r.startsWith("blob:"),hasProtocol(r){return/^[^/:]+:/.test(this.toPosix(r))},getProtocol(r){assertPath(r),r=this.toPosix(r);const i=/^file:\/\/\//.exec(r);if(i)return i[0];const l=/^[^/:]+:\/{0,2}/.exec(r);return l?l[0]:""},toAbsolute(r,i,l){if(assertPath(r),this.isDataUrl(r)||this.isBlobUrl(r))return r;const p=removeUrlParams(this.toPosix(i??Tt.get().getBaseUrl())),m=removeUrlParams(this.toPosix(l??this.rootname(p)));if((r=this.toPosix(r)).startsWith("/"))return Ht.join(m,r.slice(1));return this.isAbsolute(r)?r:this.join(p,r)},normalize(r){if(assertPath(r),0===r.length)return".";if(this.isDataUrl(r)||this.isBlobUrl(r))return r;let i="";const l=(r=this.toPosix(r)).startsWith("/");this.hasProtocol(r)&&(i=this.rootname(r),r=r.slice(i.length));const p=r.endsWith("/");return(r=function normalizeStringPosix(r,i){let l="",p=0,m=-1,y=0,v=-1;for(let _=0;_<=r.length;++_){if(_<r.length)v=r.charCodeAt(_);else{if(47===v)break;v=47}if(47===v){if(m===_-1||1===y);else if(m!==_-1&&2===y){if(l.length<2||2!==p||46!==l.charCodeAt(l.length-1)||46!==l.charCodeAt(l.length-2))if(l.length>2){const r=l.lastIndexOf("/");if(r!==l.length-1){-1===r?(l="",p=0):(l=l.slice(0,r),p=l.length-1-l.lastIndexOf("/")),m=_,y=0;continue}}else if(2===l.length||1===l.length){l="",p=0,m=_,y=0;continue}}else l.length>0?l+=`/${r.slice(m+1,_)}`:l=r.slice(m+1,_),p=_-m-1;m=_,y=0}else 46===v&&-1!==y?++y:y=-1}return l}(r)).length>0&&p&&(r+="/"),l?`/${r}`:i+r},isAbsolute(r){return assertPath(r),r=this.toPosix(r),!!this.hasProtocol(r)||r.startsWith("/")},join(...r){if(0===r.length)return".";let i;for(let l=0;l<r.length;++l){const p=r[l];if(assertPath(p),p.length>0)if(void 0===i)i=p;else{const m=r[l-1]??"";this.joinExtensions.includes(this.extname(m).toLowerCase())?i+=`/../${p}`:i+=`/${p}`}}return void 0===i?".":this.normalize(i)},dirname(r){if(assertPath(r),0===r.length)return".";let i=(r=this.toPosix(r)).charCodeAt(0);const l=47===i;let p=-1,m=!0;const y=this.getProtocol(r),v=r;for(let _=(r=r.slice(y.length)).length-1;_>=1;--_)if(i=r.charCodeAt(_),47===i){if(!m){p=_;break}}else m=!1;return-1===p?l?"/":this.isUrl(v)?y+r:y:l&&1===p?"//":y+r.slice(0,p)},rootname(r){assertPath(r);let i="";if(i=(r=this.toPosix(r)).startsWith("/")?"/":this.getProtocol(r),this.isUrl(r)){const l=r.indexOf("/",i.length);i=-1!==l?r.slice(0,l):r,i.endsWith("/")||(i+="/")}return i},basename(r,i){assertPath(r),i&&assertPath(i),r=removeUrlParams(this.toPosix(r));let l,p=0,m=-1,y=!0;if(void 0!==i&&i.length>0&&i.length<=r.length){if(i.length===r.length&&i===r)return"";let v=i.length-1,_=-1;for(l=r.length-1;l>=0;--l){const x=r.charCodeAt(l);if(47===x){if(!y){p=l+1;break}}else-1===_&&(y=!1,_=l+1),v>=0&&(x===i.charCodeAt(v)?-1===--v&&(m=l):(v=-1,m=_))}return p===m?m=_:-1===m&&(m=r.length),r.slice(p,m)}for(l=r.length-1;l>=0;--l)if(47===r.charCodeAt(l)){if(!y){p=l+1;break}}else-1===m&&(y=!1,m=l+1);return-1===m?"":r.slice(p,m)},extname(r){assertPath(r);let i=-1,l=0,p=-1,m=!0,y=0;for(let v=(r=removeUrlParams(this.toPosix(r))).length-1;v>=0;--v){const _=r.charCodeAt(v);if(47!==_)-1===p&&(m=!1,p=v+1),46===_?-1===i?i=v:1!==y&&(y=1):-1!==i&&(y=-1);else if(!m){l=v+1;break}}return-1===i||-1===p||0===y||1===y&&i===p-1&&i===l+1?"":r.slice(i,p)},parse(r){assertPath(r);const i={root:"",dir:"",base:"",ext:"",name:""};if(0===r.length)return i;let l=(r=removeUrlParams(this.toPosix(r))).charCodeAt(0);const p=this.isAbsolute(r);let m;i.root=this.rootname(r),m=p||this.hasProtocol(r)?1:0;let y=-1,v=0,_=-1,x=!0,S=r.length-1,k=0;for(;S>=m;--S)if(l=r.charCodeAt(S),47!==l)-1===_&&(x=!1,_=S+1),46===l?-1===y?y=S:1!==k&&(k=1):-1!==y&&(k=-1);else if(!x){v=S+1;break}return-1===y||-1===_||0===k||1===k&&y===_-1&&y===v+1?-1!==_&&(i.base=i.name=0===v&&p?r.slice(1,_):r.slice(v,_)):(0===v&&p?(i.name=r.slice(1,y),i.base=r.slice(1,_)):(i.name=r.slice(v,y),i.base=r.slice(v,_)),i.ext=r.slice(y,_)),i.dir=this.dirname(r),i},sep:"/",delimiter:":",joinExtensions:[".html"]};function processX(r,i,l,p,m){const y=i[l];for(let v=0;v<y.length;v++){const _=y[v];l<i.length-1?processX(r.replace(p[l],_),i,l+1,p,m):m.push(r.replace(p[l],_))}}function createStringVariations(r){const i=r.match(/\{(.*?)\}/g),l=[];if(i){const p=[];i.forEach(r=>{const i=r.substring(1,r.length-1).split(",");p.push(i)}),processX(r,p,0,i,l)}else l.push(r);return l}const isSingleItem=r=>!Array.isArray(r);class Resolver{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(r,i)=>`${r}${this._bundleIdConnector}${i}`,extractAssetIdFromBundle:(r,i)=>i.replace(`${r}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(r){if(this._bundleIdConnector=r.connector??this._bundleIdConnector,this._createBundleAssetId=r.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=r.extractAssetIdFromBundle??this._extractAssetIdFromBundle,"bar"!==this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar")))throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...r){r.forEach(r=>{this._preferredOrder.push(r),r.priority||(r.priority=Object.keys(r.params))}),this._resolverHash={}}set basePath(r){this._basePath=r}get basePath(){return this._basePath}set rootPath(r){this._rootPath=r}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(r){if("string"==typeof r)this._defaultSearchParams=r;else{const i=r;this._defaultSearchParams=Object.keys(i).map(r=>`${encodeURIComponent(r)}=${encodeURIComponent(i[r])}`).join("&")}}getAlias(r){const{alias:i,src:l}=r;return convertToList(i||l,r=>"string"==typeof r?r:Array.isArray(r)?r.map(r=>r?.src??r):r?.src?r.src:r,!0)}addManifest(r){this._manifest&&warn(),this._manifest=r,r.bundles.forEach(r=>{this.addBundle(r.name,r.assets)})}addBundle(r,i){const l=[];let p=i;Array.isArray(i)||(p=Object.entries(i).map(([r,i])=>"string"==typeof i||Array.isArray(i)?{alias:r,src:i}:{alias:r,...i})),p.forEach(i=>{const p=i.src,m=i.alias;let y;if("string"==typeof m){const i=this._createBundleAssetId(r,m);l.push(i),y=[m,i]}else{const i=m.map(i=>this._createBundleAssetId(r,i));l.push(...i),y=[...m,...i]}this.add({...i,alias:y,src:p})}),this._bundles[r]=l}add(r){const i=[];let l;Array.isArray(r)?i.push(...r):i.push(r),l=r=>{this.hasKey(r)&&warn()};convertToList(i).forEach(r=>{const{src:i}=r;let{data:p,format:m,loadParser:y,parser:v}=r;const _=convertToList(i).map(r=>"string"==typeof r?createStringVariations(r):Array.isArray(r)?r:[r]),x=this.getAlias(r);Array.isArray(x)?x.forEach(l):l(x);const S=[],parseUrl=r=>{const i=this._parsers.find(i=>i.test(r));return{src:r,...i?.parse(r)}};_.forEach(i=>{i.forEach(i=>{let l={};if("object"!=typeof i?l=parseUrl(i):(p=i.data??p,m=i.format??m,(i.loadParser||i.parser)&&(y=i.loadParser??y,v=i.parser??v),l={...parseUrl(i.src),...i}),!x)throw new Error(`[Resolver] alias is undefined for this asset: ${l.src}`);l=this._buildResolvedAsset(l,{aliases:x,data:p,format:m,loadParser:y,parser:v,progressSize:r.progressSize}),S.push(l)})}),x.forEach(r=>{this._assetMap[r]=S})})}resolveBundle(r){const i=isSingleItem(r);r=convertToList(r);const l={};return r.forEach(r=>{const i=this._bundles[r];if(i){const p=this.resolve(i),m={};for(const i in p){const l=p[i];m[this._extractAssetIdFromBundle(r,i)]=l}l[r]=m}}),i?l[r[0]]:l}resolveUrl(r){const i=this.resolve(r);if("string"!=typeof r){const r={};for(const l in i)r[l]=i[l].src;return r}return i.src}resolve(r){const i=isSingleItem(r);r=convertToList(r);const l={};return r.forEach(r=>{if(!this._resolverHash[r])if(this._assetMap[r]){let i=this._assetMap[r];const l=this._getPreferredOrder(i);l?.priority.forEach(r=>{l.params[r].forEach(l=>{const p=i.filter(i=>!!i[r]&&i[r]===l);p.length&&(i=p)})}),this._resolverHash[r]=i[0]}else this._resolverHash[r]=this._buildResolvedAsset({alias:[r],src:r},{});l[r]=this._resolverHash[r]}),i?l[r[0]]:l}hasKey(r){return!!this._assetMap[r]}hasBundle(r){return!!this._bundles[r]}_getPreferredOrder(r){for(let i=0;i<r.length;i++){const l=r[i],p=this._preferredOrder.find(r=>r.params.format.includes(l.format));if(p)return p}return this._preferredOrder[0]}_appendDefaultSearchParams(r){if(!this._defaultSearchParams)return r;return`${r}${/\?/.test(r)?"&":"?"}${this._defaultSearchParams}`}_buildResolvedAsset(r,i){const{aliases:l,data:p,loadParser:m,parser:y,format:v,progressSize:_}=i;return(this._basePath||this._rootPath)&&(r.src=Ht.toAbsolute(r.src,this._basePath,this._rootPath)),r.alias=l??r.alias??[r.src],r.src=this._appendDefaultSearchParams(r.src),r.data={...p||{},...r.data},r.loadParser=m??r.loadParser,r.parser=y??r.parser,r.format=v??r.format??function getUrlExtension(r){return r.split(".").pop().split("?").shift().split("#").shift()}(r.src),void 0!==_&&(r.progressSize=_),r}}Resolver.RETINA_PREFIX=/@([0-9\.]+)x/;const copySearchParams=(r,i)=>{const l=i.split("?")[1];return l&&(r+=`?${l}`),r},zt=class _Spritesheet2{constructor(r,i){this.linkedSheets=[];let l=r;r?.source instanceof Ne&&(l={texture:r,data:i});const{texture:p,data:m,cachePrefix:y=""}=l;this.cachePrefix=y,this._texture=p instanceof Texture?p:null,this.textureSource=p.source,this.textures={},this.animations={},this.data=m;const v=parseFloat(m.meta.scale);v?(this.resolution=v,p.source.resolution=this.resolution):this.resolution=p.source._resolution,this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}parse(){return new Promise(r=>{this._callback=r,this._batchIndex=0,this._frameKeys.length<=_Spritesheet2.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}parseSync(){return this._processFrames(0,!0),this._processAnimations(),this.textures}_processFrames(r,i=!1){let l=r;const p=i?1/0:_Spritesheet2.BATCH_SIZE;for(;l-r<p&&l<this._frameKeys.length;){const r=this._frameKeys[l],i=this._frames[r],p=i.frame;if(p){let l=null,m=null;const y=!1!==i.trimmed&&i.sourceSize?i.sourceSize:i.frame,v=new Rectangle(0,0,Math.floor(y.w)/this.resolution,Math.floor(y.h)/this.resolution);l=i.rotated?new Rectangle(Math.floor(p.x)/this.resolution,Math.floor(p.y)/this.resolution,Math.floor(p.h)/this.resolution,Math.floor(p.w)/this.resolution):new Rectangle(Math.floor(p.x)/this.resolution,Math.floor(p.y)/this.resolution,Math.floor(p.w)/this.resolution,Math.floor(p.h)/this.resolution),!1!==i.trimmed&&i.spriteSourceSize&&(m=new Rectangle(Math.floor(i.spriteSourceSize.x)/this.resolution,Math.floor(i.spriteSourceSize.y)/this.resolution,Math.floor(p.w)/this.resolution,Math.floor(p.h)/this.resolution)),this.textures[r]=new Texture({source:this.textureSource,frame:l,orig:v,trim:m,rotate:i.rotated?2:0,defaultAnchor:i.anchor,defaultBorders:i.borders,label:r.toString()})}l++}}_processAnimations(){const r=this.data.animations||{};for(const i in r){this.animations[i]=[];for(let l=0;l<r[i].length;l++){const p=r[i][l];this.animations[i].push(this.textures[p])}}}_parseComplete(){const r=this._callback;this._callback=null,this._batchIndex=0,r.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*_Spritesheet2.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*_Spritesheet2.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(r=!1){for(const i in this.textures)this.textures[i].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,r&&(this._texture?.destroy(),this.textureSource.destroy()),this._texture=null,this.textureSource=null,this.linkedSheets=[]}};zt.BATCH_SIZE=1e3;let Bt=zt;const Ut=["jpg","png","jpeg","avif","webp","basis","etc2","bc7","bc6h","bc5","bc4","bc3","bc2","bc1","eac","astc"];function getCacheableAssets(r,i,l){const p={};if(r.forEach(r=>{p[r]=i}),Object.keys(i.textures).forEach(r=>{p[`${i.cachePrefix}${r}`]=i.textures[r]}),!l){const l=Ht.dirname(r[0]);i.linkedSheets.forEach((r,m)=>{const y=getCacheableAssets([`${l}/${i.data.meta.related_multi_packs[m]}`],r,!0);Object.assign(p,y)})}return p}const Gt={extension:oe.Asset,cache:{test:r=>r instanceof Bt,getCacheableAssets:(r,i)=>getCacheableAssets(r,i,!1)},resolver:{extension:{type:oe.ResolveParser,name:"resolveSpritesheet"},test:r=>{const i=r.split("?")[0].split("."),l=i.pop(),p=i.pop();return"json"===l&&Ut.includes(p)},parse:r=>{const i=r.split(".");return{resolution:parseFloat(Resolver.RETINA_PREFIX.exec(r)?.[1]??"1"),format:i[i.length-2],src:r}}},loader:{name:"spritesheetLoader",id:"spritesheet",extension:{type:oe.LoadParser,priority:Nt.Normal,name:"spritesheetLoader"},testParse:async(r,i)=>".json"===Ht.extname(i.src).toLowerCase()&&!!r.frames,async parse(r,i,l){const{texture:p,imageFilename:m,textureOptions:y,cachePrefix:v}=i?.data??{};let _,x=Ht.dirname(i.src);if(x&&x.lastIndexOf("/")!==x.length-1&&(x+="/"),p instanceof Texture)_=p;else{const p=copySearchParams(x+(m??r.meta.image),i.src);_=(await l.load([{src:p,data:y}]))[p]}const S=new Bt({texture:_.source,data:r,cachePrefix:v});await S.parse();const k=r?.meta?.related_multi_packs;if(Array.isArray(k)){const r=[];for(const m of k){if("string"!=typeof m)continue;let p=x+m;i.data?.ignoreMultiPack||(p=copySearchParams(p,i.src),r.push(l.load({src:p,data:{textureOptions:y,ignoreMultiPack:!0}})))}const p=await Promise.all(r);S.linkedSheets=p,p.forEach(r=>{r.linkedSheets=[S].concat(S.linkedSheets.filter(i=>i!==r))})}return S},async unload(r,i,l){await l.unload(r.textureSource._sourceOrigin),r.destroy(!1)}}};le.add(Gt);const Vt=Object.create(null),Wt=Object.create(null);function createIdFromString(r,i){let l=Wt[r];return void 0===l&&(void 0===Vt[i]&&(Vt[i]=1),Wt[r]=l=Vt[i]++),l}let jt,$t;function getTestContext(){if(!jt||jt?.isContextLost()){const r=Tt.get().createCanvas();jt=r.getContext("webgl",{})}return jt}function getMaxFragmentPrecision(){if(!$t){$t="mediump";const r=getTestContext();if(r&&r.getShaderPrecisionFormat){const i=r.getShaderPrecisionFormat(r.FRAGMENT_SHADER,r.HIGH_FLOAT);$t=i.precision?"highp":"mediump"}}return $t}const qt={},Yt={};const Xt={stripVersion:function stripVersion(r,i){return i?r.replace("#version 300 es",""):r},ensurePrecision:function ensurePrecision(r,i,l){const p=l?i.maxSupportedFragmentPrecision:i.maxSupportedVertexPrecision;if("precision"!==r.substring(0,9)){let m=l?i.requestedFragmentPrecision:i.requestedVertexPrecision;return"highp"===m&&"highp"!==p&&(m="mediump"),`precision ${m} float;\n${r}`}return"highp"!==p&&"precision highp"===r.substring(0,15)?r.replace("precision highp","precision mediump"):r},addProgramDefines:function addProgramDefines(r,i,l){return i?r:l?`\n\n        #ifdef GL_ES // This checks if it is WebGL1\n        #define in varying\n        #define finalColor gl_FragColor\n        #define texture texture2D\n        #endif\n        ${r=r.replace("out vec4 finalColor;","")}\n        `:`\n\n        #ifdef GL_ES // This checks if it is WebGL1\n        #define in attribute\n        #define out varying\n        #endif\n        ${r}\n        `},setProgramName:function setProgramName(r,{name:i="pixi-program"},l=!0){i=i.replace(/\s+/g,"-");const p=l?qt:Yt;return p[i+=l?"-fragment":"-vertex"]?(p[i]++,i+=`-${p[i]}`):p[i]=1,-1!==r.indexOf("#define SHADER_NAME")?r:`${`#define SHADER_NAME ${i}`}\n${r}`},insertVersion:function insertVersion(r,i){return i?`#version 300 es\n${r}`:r}},Qt=Object.create(null),Kt=class _GlProgram2{constructor(r){const i=-1!==(r={..._GlProgram2.defaultOptions,...r}).fragment.indexOf("#version 300 es"),l={stripVersion:i,ensurePrecision:{requestedFragmentPrecision:r.preferredFragmentPrecision,requestedVertexPrecision:r.preferredVertexPrecision,maxSupportedVertexPrecision:"highp",maxSupportedFragmentPrecision:getMaxFragmentPrecision()},setProgramName:{name:r.name},addProgramDefines:i,insertVersion:i};let p=r.fragment,m=r.vertex;Object.keys(Xt).forEach(r=>{const i=l[r];p=Xt[r](p,i,!0),m=Xt[r](m,i,!1)}),this.fragment=p,this.vertex=m,this.transformFeedbackVaryings=r.transformFeedbackVaryings,this._key=createIdFromString(`${this.vertex}:${this.fragment}`,"gl-program")}destroy(){this.fragment=null,this.vertex=null,this._attributeData=null,this._uniformData=null,this._uniformBlockData=null,this.transformFeedbackVaryings=null,Qt[this._cacheKey]=null}static from(r){const i=`${r.vertex}:${r.fragment}`;return Qt[i]||(Qt[i]=new _GlProgram2(r),Qt[i]._cacheKey=i),Qt[i]}};Kt.defaultOptions={preferredVertexPrecision:"highp",preferredFragmentPrecision:"mediump"};let Zt=Kt;const Jt={uint8x2:{size:2,stride:2,normalised:!1},uint8x4:{size:4,stride:4,normalised:!1},sint8x2:{size:2,stride:2,normalised:!1},sint8x4:{size:4,stride:4,normalised:!1},unorm8x2:{size:2,stride:2,normalised:!0},unorm8x4:{size:4,stride:4,normalised:!0},snorm8x2:{size:2,stride:2,normalised:!0},snorm8x4:{size:4,stride:4,normalised:!0},uint16x2:{size:2,stride:4,normalised:!1},uint16x4:{size:4,stride:8,normalised:!1},sint16x2:{size:2,stride:4,normalised:!1},sint16x4:{size:4,stride:8,normalised:!1},unorm16x2:{size:2,stride:4,normalised:!0},unorm16x4:{size:4,stride:8,normalised:!0},snorm16x2:{size:2,stride:4,normalised:!0},snorm16x4:{size:4,stride:8,normalised:!0},float16x2:{size:2,stride:4,normalised:!1},float16x4:{size:4,stride:8,normalised:!1},float32:{size:1,stride:4,normalised:!1},float32x2:{size:2,stride:8,normalised:!1},float32x3:{size:3,stride:12,normalised:!1},float32x4:{size:4,stride:16,normalised:!1},uint32:{size:1,stride:4,normalised:!1},uint32x2:{size:2,stride:8,normalised:!1},uint32x3:{size:3,stride:12,normalised:!1},uint32x4:{size:4,stride:16,normalised:!1},sint32:{size:1,stride:4,normalised:!1},sint32x2:{size:2,stride:8,normalised:!1},sint32x3:{size:3,stride:12,normalised:!1},sint32x4:{size:4,stride:16,normalised:!1}};function getAttributeInfoFromFormat(r){return Jt[r]??Jt.float32}const er={f32:"float32","vec2<f32>":"float32x2","vec3<f32>":"float32x3","vec4<f32>":"float32x4",vec2f:"float32x2",vec3f:"float32x3",vec4f:"float32x4",i32:"sint32","vec2<i32>":"sint32x2","vec3<i32>":"sint32x3","vec4<i32>":"sint32x4",vec2i:"sint32x2",vec3i:"sint32x3",vec4i:"sint32x4",u32:"uint32","vec2<u32>":"uint32x2","vec3<u32>":"uint32x3","vec4<u32>":"uint32x4",vec2u:"uint32x2",vec3u:"uint32x3",vec4u:"uint32x4",bool:"uint32","vec2<bool>":"uint32x2","vec3<bool>":"uint32x3","vec4<bool>":"uint32x4"},tr=/@location\((\d+)\)\s+([a-zA-Z0-9_]+)\s*:\s*([a-zA-Z0-9_<>]+)(?:,|\s|\)|$)/g;function parseLocations(r,i){let l;for(;null!==(l=tr.exec(r));){const r=er[l[3]]??"float32";i[l[2]]={location:parseInt(l[1],10),format:r,stride:getAttributeInfoFromFormat(r).stride,offset:0,instance:!1,start:0}}tr.lastIndex=0}function extractStructAndGroups(r){const i=/@group\((\d+)\)/,l=/@binding\((\d+)\)/,p=/var(<[^>]+>)? (\w+)/,m=/:\s*([\w<>]+)/,y=/(\w+)\s*:\s*([\w\<\>]+)/g,v=/struct\s+(\w+)/,_=r.match(/(^|[^/])@(group|binding)\(\d+\)[^;]+;/g)?.map(r=>({group:parseInt(r.match(i)[1],10),binding:parseInt(r.match(l)[1],10),name:r.match(p)[2],isUniform:"<uniform>"===r.match(p)[1],type:r.match(m)[1]}));if(!_)return{groups:[],structs:[]};const x=r.match(/struct\s+(\w+)\s*{([^}]+)}/g)?.map(r=>{const i=r.match(v)[1],l=r.match(y).reduce((r,i)=>{const[l,p]=i.split(":");return r[l.trim()]=p.trim(),r},{});return l?{name:i,members:l}:null}).filter(({name:r})=>_.some(i=>i.type===r||i.type.includes(`<${r}>`)))??[];return{groups:_,structs:x}}var rr=(r=>(r[r.VERTEX=1]="VERTEX",r[r.FRAGMENT=2]="FRAGMENT",r[r.COMPUTE=4]="COMPUTE",r))(rr||{});const nr=Object.create(null);class GpuProgram{constructor(r){this._layoutKey=0,this._attributeLocationsKey=0;const{fragment:i,vertex:l,layout:p,gpuLayout:m,name:y}=r;if(this.name=y,this.fragment=i,this.vertex=l,i.source===l.source){const r=extractStructAndGroups(i.source);this.structsAndGroups=r}else{const r=extractStructAndGroups(l.source),p=extractStructAndGroups(i.source);this.structsAndGroups=function removeStructAndGroupDuplicates(r,i){const l=new Set,p=new Set;return{structs:[...r.structs,...i.structs].filter(r=>!l.has(r.name)&&(l.add(r.name),!0)),groups:[...r.groups,...i.groups].filter(r=>{const i=`${r.name}-${r.binding}`;return!p.has(i)&&(p.add(i),!0)})}}(r,p)}this.layout=p??function generateLayoutHash({groups:r}){const i=[];for(let l=0;l<r.length;l++){const p=r[l];i[p.group]||(i[p.group]={}),i[p.group][p.name]=p.binding}return i}(this.structsAndGroups),this.gpuLayout=m??function generateGpuLayoutGroups({groups:r}){const i=[];for(let l=0;l<r.length;l++){const p=r[l];i[p.group]||(i[p.group]=[]),p.isUniform?i[p.group].push({binding:p.binding,visibility:rr.VERTEX|rr.FRAGMENT,buffer:{type:"uniform"}}):"sampler"===p.type?i[p.group].push({binding:p.binding,visibility:rr.FRAGMENT,sampler:{type:"filtering"}}):"texture_2d"===p.type||p.type.startsWith("texture_2d<")?i[p.group].push({binding:p.binding,visibility:rr.FRAGMENT,texture:{sampleType:"float",viewDimension:"2d",multisampled:!1}}):"texture_2d_array"===p.type||p.type.startsWith("texture_2d_array<")?i[p.group].push({binding:p.binding,visibility:rr.FRAGMENT,texture:{sampleType:"float",viewDimension:"2d-array",multisampled:!1}}):("texture_cube"===p.type||p.type.startsWith("texture_cube<"))&&i[p.group].push({binding:p.binding,visibility:rr.FRAGMENT,texture:{sampleType:"float",viewDimension:"cube",multisampled:!1}})}for(let l=0;l<i.length;l++)i[l]||(i[l]=[]);return i}(this.structsAndGroups),this.autoAssignGlobalUniforms=!(void 0===this.layout[0]?.globalUniforms),this.autoAssignLocalUniforms=!(void 0===this.layout[1]?.localUniforms),this._generateProgramKey()}_generateProgramKey(){const{vertex:r,fragment:i}=this,l=r.source+i.source+r.entryPoint+i.entryPoint;this._layoutKey=createIdFromString(l,"program")}get attributeData(){return this._attributeData??(this._attributeData=function extractAttributesFromGpuProgram({source:r,entryPoint:i}){const l={},p=function stripComments(r){return r.replace(/\/\/.*$/gm,"").replace(/\/\*[\s\S]*?\*\//g,"")}(r),m=p.indexOf(`fn ${i}(`);if(-1===m)return l;const y=p.indexOf("->",m);if(-1===y)return l;const v=p.substring(m,y);if(parseLocations(v,l),0===Object.keys(l).length){const r=v.match(/\(\s*\w+\s*:\s*(\w+)/);if(r){const i=r[1],m=new RegExp(`struct\\s+${i}\\s*\\{([^}]+)\\}`,"s"),y=p.match(m);y&&parseLocations(y[1],l)}}return l}(this.vertex)),this._attributeData}destroy(){this.gpuLayout=null,this.layout=null,this.structsAndGroups=null,this.fragment=null,this.vertex=null,nr[this._cacheKey]=null}static from(r){const i=`${r.vertex.source}:${r.fragment.source}:${r.fragment.entryPoint}:${r.vertex.entryPoint}`;return nr[i]||(nr[i]=new GpuProgram(r),nr[i]._cacheKey=i),nr[i]}}const ir=["f32","i32","vec2<f32>","vec3<f32>","vec4<f32>","mat2x2<f32>","mat3x3<f32>","mat4x4<f32>","mat3x2<f32>","mat4x2<f32>","mat2x3<f32>","mat4x3<f32>","mat2x4<f32>","mat3x4<f32>","vec2<i32>","vec3<i32>","vec4<i32>"],sr=ir.reduce((r,i)=>(r[i]=!0,r),{});function getDefaultUniformValue(r,i){switch(r){case"f32":return 0;case"vec2<f32>":return new Float32Array(2*i);case"vec3<f32>":return new Float32Array(3*i);case"vec4<f32>":return new Float32Array(4*i);case"mat2x2<f32>":return new Float32Array([1,0,0,1]);case"mat3x3<f32>":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4x4<f32>":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const ar=class _UniformGroup2{constructor(r,i){this._touched=0,this.uid=uid("uniform"),this._resourceType="uniformGroup",this._resourceId=uid("resource"),this.isUniformGroup=!0,this._dirtyId=0,this.destroyed=!1,i={..._UniformGroup2.defaultOptions,...i},this.uniformStructures=r;const l={};for(const p in r){const i=r[p];if(i.name=p,i.size=i.size??1,!sr[i.type]){const r=i.type.match(/^array<(\w+(?:<\w+>)?),\s*(\d+)>$/);if(r){const[,l,p]=r;throw new Error(`Uniform type ${i.type} is not supported. Use type: '${l}', size: ${p} instead.`)}throw new Error(`Uniform type ${i.type} is not supported. Supported uniform types are: ${ir.join(", ")}`)}i.value??(i.value=getDefaultUniformValue(i.type,i.size)),l[p]=i.value}this.uniforms=l,this._dirtyId=1,this.ubo=i.ubo,this.isStatic=i.isStatic,this._signature=createIdFromString(Object.keys(l).map(i=>`${i}-${r[i].type}`).join("-"),"uniform-group")}update(){this._dirtyId++}};ar.defaultOptions={ubo:!1,isStatic:!1};let or=ar;class BindGroup{constructor(r){this.resources=Object.create(null),this._dirty=!0;let i=0;for(const l in r){const p=r[l];this.setResource(p,i++)}this._updateKey()}_updateKey(){if(!this._dirty)return;this._dirty=!1;const r=[];let i=0;for(const l in this.resources)r[i++]=this.resources[l]._resourceId;this._key=r.join("|")}setResource(r,i){const l=this.resources[i];r!==l&&(l&&r.off?.("change",this.onResourceChange,this),r.on?.("change",this.onResourceChange,this),this.resources[i]=r,this._dirty=!0)}getResource(r){return this.resources[r]}_touch(r,i){const l=this.resources;for(const p in l)l[p]._gcLastUsed=r,l[p]._touched=i}destroy(){const r=this.resources;for(const i in r){const l=r[i];l?.off?.("change",this.onResourceChange,this)}this.resources=null}onResourceChange(r){if(this._dirty=!0,r.destroyed){const i=this.resources;for(const l in i)i[l]===r&&(i[l]=null)}else this._updateKey()}}var lr=(r=>(r[r.WEBGL=1]="WEBGL",r[r.WEBGPU=2]="WEBGPU",r[r.CANVAS=4]="CANVAS",r[r.BOTH=3]="BOTH",r))(lr||{});class Shader extends fe{constructor(r){super(),this.uid=uid("shader"),this._uniformBindMap=Object.create(null),this._ownedBindGroups=[],this._destroyed=!1;let{gpuProgram:i,glProgram:l,groups:p,resources:m,compatibleRenderers:y,groupMap:v}=r;this.gpuProgram=i,this.glProgram=l,void 0===y&&(y=0,i&&(y|=lr.WEBGPU),l&&(y|=lr.WEBGL)),this.compatibleRenderers=y;const _={};if(m||p||(m={}),m&&p)throw new Error("[Shader] Cannot have both resources and groups");if(!i&&p&&!v)throw new Error("[Shader] No group map or WebGPU shader provided - consider using resources instead.");if(!i&&p&&v)for(const x in v)for(const r in v[x]){const i=v[x][r];_[i]={group:x,binding:r,name:i}}else if(i&&p&&!v){const r=i.structsAndGroups.groups;v={},r.forEach(r=>{v[r.group]=v[r.group]||{},v[r.group][r.binding]=r.name,_[r.name]=r})}else if(m){if(p={},v={},i){i.structsAndGroups.groups.forEach(r=>{v[r.group]=v[r.group]||{},v[r.group][r.binding]=r.name,_[r.name]=r})}let r=0;for(const i in m)_[i]||(p[99]||(p[99]=new BindGroup,this._ownedBindGroups.push(p[99])),_[i]={group:99,binding:r,name:i},v[99]=v[99]||{},v[99][r]=i,r++);for(const i in m){const r=i;let l=m[i];l.source||l._resourceType||(l=new or(l));const y=_[r];y&&(p[y.group]||(p[y.group]=new BindGroup,this._ownedBindGroups.push(p[y.group])),p[y.group].setResource(l,y.binding))}}this.groups=p,this._uniformBindMap=v,this.resources=this._buildResourceAccessor(p,_)}addResource(r,i,l){var p,m;(p=this._uniformBindMap)[i]||(p[i]={}),(m=this._uniformBindMap[i])[l]||(m[l]=r),this.groups[i]||(this.groups[i]=new BindGroup,this._ownedBindGroups.push(this.groups[i]))}_buildResourceAccessor(r,i){const l={};for(const p in i){const m=i[p];Object.defineProperty(l,m.name,{get:()=>r[m.group].getResource(m.binding),set(i){r[m.group].setResource(i,m.binding)}})}return l}destroy(r=!1){this._destroyed||(this._destroyed=!0,this.emit("destroy",this),r&&(this.gpuProgram?.destroy(),this.glProgram?.destroy()),this.gpuProgram=null,this.glProgram=null,this.removeAllListeners(),this._uniformBindMap=null,this._ownedBindGroups.forEach(r=>{r.destroy()}),this._ownedBindGroups=null,this.resources=null,this.groups=null)}static from(r){const{gpu:i,gl:l,...p}=r;let m,y;return i&&(m=GpuProgram.from(i)),l&&(y=Zt.from(l)),new Shader({gpuProgram:m,glProgram:y,...p})}}const ur={normal:0,add:1,multiply:2,screen:3,overlay:4,erase:5,"normal-npm":6,"add-npm":7,"screen-npm":8,min:9,max:10},cr=class _State2{constructor(){this.data=0,this.blendMode="normal",this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(1&this.data)}set blend(r){!!(1&this.data)!==r&&(this.data^=1)}get offsets(){return!!(2&this.data)}set offsets(r){!!(2&this.data)!==r&&(this.data^=2)}set cullMode(r){"none"!==r?(this.culling=!0,this.clockwiseFrontFace="front"===r):this.culling=!1}get cullMode(){return this.culling?this.clockwiseFrontFace?"front":"back":"none"}get culling(){return!!(4&this.data)}set culling(r){!!(4&this.data)!==r&&(this.data^=4)}get depthTest(){return!!(8&this.data)}set depthTest(r){!!(8&this.data)!==r&&(this.data^=8)}get depthMask(){return!!(32&this.data)}set depthMask(r){!!(32&this.data)!==r&&(this.data^=32)}get clockwiseFrontFace(){return!!(16&this.data)}set clockwiseFrontFace(r){!!(16&this.data)!==r&&(this.data^=16)}get blendMode(){return this._blendMode}set blendMode(r){this.blend="none"!==r,this._blendMode=r,this._blendModeId=ur[r]||0}get polygonOffset(){return this._polygonOffset}set polygonOffset(r){this.offsets=!!r,this._polygonOffset=r}toString(){return`[pixi.js/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`}static for2d(){const r=new _State2;return r.depthTest=!1,r.blend=!0,r}};cr.default2d=cr.for2d();let dr=cr;const hr=class _Filter2 extends Shader{constructor(r){super(r={..._Filter2.defaultOptions,...r}),this.enabled=!0,this._state=dr.for2d(),this.blendMode=r.blendMode,this.padding=r.padding,"boolean"==typeof r.antialias?this.antialias=r.antialias?"on":"off":this.antialias=r.antialias,this.resolution=r.resolution,this.blendRequired=r.blendRequired,this.clipToViewport=r.clipToViewport,this.addResource("uTexture",0,1),r.blendRequired&&this.addResource("uBackTexture",0,3)}apply(r,i,l,p){r.applyFilter(this,i,l,p)}get blendMode(){return this._state.blendMode}set blendMode(r){this._state.blendMode=r}static from(r){const{gpu:i,gl:l,...p}=r;let m,y;return i&&(m=GpuProgram.from(i)),l&&(y=Zt.from(l)),new _Filter2({gpuProgram:m,glProgram:y,...p})}};hr.defaultOptions={blendMode:"normal",resolution:1,padding:0,antialias:"off",blendRequired:!1,clipToViewport:!0};let fr=hr;const pr=[];let mr;function unsafeEvalSupported(){if("boolean"==typeof mr)return mr;try{const r=new Function("param1","param2","param3","return param1[param2] === param3;");mr=!0===r({a:"b"},"a","b")}catch(r){mr=!1}return mr}function earcut$1(r,i,l=2){const p=i&&i.length,m=p?i[0]*l:r.length;let y=linkedList(r,0,m,l,!0);const v=[];if(!y||y.next===y.prev)return v;let _,x,S;if(p&&(y=function eliminateHoles(r,i,l,p){const m=[];for(let y=0,v=i.length;y<v;y++){const l=linkedList(r,i[y]*p,y<v-1?i[y+1]*p:r.length,p,!1);l===l.next&&(l.steiner=!0),m.push(getLeftmost(l))}m.sort(compareXYSlope);for(let y=0;y<m.length;y++)l=eliminateHole(m[y],l);return l}(r,i,y,l)),r.length>80*l){_=r[0],x=r[1];let i=_,p=x;for(let y=l;y<m;y+=l){const l=r[y],m=r[y+1];l<_&&(_=l),m<x&&(x=m),l>i&&(i=l),m>p&&(p=m)}S=Math.max(i-_,p-x),S=0!==S?32767/S:0}return earcutLinked(y,v,l,_,x,S,0),v}function linkedList(r,i,l,p,m){let y;if(m===function signedArea(r,i,l,p){let m=0;for(let y=i,v=l-p;y<l;y+=p)m+=(r[v]-r[y])*(r[y+1]+r[v+1]),v=y;return m}(r,i,l,p)>0)for(let v=i;v<l;v+=p)y=insertNode(v/p|0,r[v],r[v+1],y);else for(let v=l-p;v>=i;v-=p)y=insertNode(v/p|0,r[v],r[v+1],y);return y&&equals(y,y.next)&&(removeNode(y),y=y.next),y}function filterPoints(r,i){if(!r)return r;i||(i=r);let l,p=r;do{if(l=!1,p.steiner||!equals(p,p.next)&&0!==area(p.prev,p,p.next))p=p.next;else{if(removeNode(p),p=i=p.prev,p===p.next)break;l=!0}}while(l||p!==i);return i}function earcutLinked(r,i,l,p,m,y,v){if(!r)return;!v&&y&&function indexCurve(r,i,l,p){let m=r;do{0===m.z&&(m.z=zOrder(m.x,m.y,i,l,p)),m.prevZ=m.prev,m.nextZ=m.next,m=m.next}while(m!==r);m.prevZ.nextZ=null,m.prevZ=null,function sortLinked(r){let i,l=1;do{let p,m=r;r=null;let y=null;for(i=0;m;){i++;let v=m,_=0;for(let r=0;r<l&&(_++,v=v.nextZ,v);r++);let x=l;for(;_>0||x>0&&v;)0!==_&&(0===x||!v||m.z<=v.z)?(p=m,m=m.nextZ,_--):(p=v,v=v.nextZ,x--),y?y.nextZ=p:r=p,p.prevZ=y,y=p;m=v}y.nextZ=null,l*=2}while(i>1);return r}(m)}(r,p,m,y);let _=r;for(;r.prev!==r.next;){const x=r.prev,S=r.next;if(y?isEarHashed(r,p,m,y):isEar(r))i.push(x.i,r.i,S.i),removeNode(r),r=S.next,_=S.next;else if((r=S)===_){v?1===v?earcutLinked(r=cureLocalIntersections(filterPoints(r),i),i,l,p,m,y,2):2===v&&splitEarcut(r,i,l,p,m,y):earcutLinked(filterPoints(r),i,l,p,m,y,1);break}}}function isEar(r){const i=r.prev,l=r,p=r.next;if(area(i,l,p)>=0)return!1;const m=i.x,y=l.x,v=p.x,_=i.y,x=l.y,S=p.y,k=Math.min(m,y,v),C=Math.min(_,x,S),P=Math.max(m,y,v),E=Math.max(_,x,S);let T=p.next;for(;T!==i;){if(T.x>=k&&T.x<=P&&T.y>=C&&T.y<=E&&pointInTriangleExceptFirst(m,_,y,x,v,S,T.x,T.y)&&area(T.prev,T,T.next)>=0)return!1;T=T.next}return!0}function isEarHashed(r,i,l,p){const m=r.prev,y=r,v=r.next;if(area(m,y,v)>=0)return!1;const _=m.x,x=y.x,S=v.x,k=m.y,C=y.y,P=v.y,E=Math.min(_,x,S),T=Math.min(k,C,P),A=Math.max(_,x,S),I=Math.max(k,C,P),R=zOrder(E,T,i,l,p),F=zOrder(A,I,i,l,p);let O=r.prevZ,L=r.nextZ;for(;O&&O.z>=R&&L&&L.z<=F;){if(O.x>=E&&O.x<=A&&O.y>=T&&O.y<=I&&O!==m&&O!==v&&pointInTriangleExceptFirst(_,k,x,C,S,P,O.x,O.y)&&area(O.prev,O,O.next)>=0)return!1;if(O=O.prevZ,L.x>=E&&L.x<=A&&L.y>=T&&L.y<=I&&L!==m&&L!==v&&pointInTriangleExceptFirst(_,k,x,C,S,P,L.x,L.y)&&area(L.prev,L,L.next)>=0)return!1;L=L.nextZ}for(;O&&O.z>=R;){if(O.x>=E&&O.x<=A&&O.y>=T&&O.y<=I&&O!==m&&O!==v&&pointInTriangleExceptFirst(_,k,x,C,S,P,O.x,O.y)&&area(O.prev,O,O.next)>=0)return!1;O=O.prevZ}for(;L&&L.z<=F;){if(L.x>=E&&L.x<=A&&L.y>=T&&L.y<=I&&L!==m&&L!==v&&pointInTriangleExceptFirst(_,k,x,C,S,P,L.x,L.y)&&area(L.prev,L,L.next)>=0)return!1;L=L.nextZ}return!0}function cureLocalIntersections(r,i){let l=r;do{const p=l.prev,m=l.next.next;!equals(p,m)&&intersects(p,l,l.next,m)&&locallyInside(p,m)&&locallyInside(m,p)&&(i.push(p.i,l.i,m.i),removeNode(l),removeNode(l.next),l=r=m),l=l.next}while(l!==r);return filterPoints(l)}function splitEarcut(r,i,l,p,m,y){let v=r;do{let r=v.next.next;for(;r!==v.prev;){if(v.i!==r.i&&isValidDiagonal(v,r)){let _=splitPolygon(v,r);return v=filterPoints(v,v.next),_=filterPoints(_,_.next),earcutLinked(v,i,l,p,m,y,0),void earcutLinked(_,i,l,p,m,y,0)}r=r.next}v=v.next}while(v!==r)}function compareXYSlope(r,i){let l=r.x-i.x;if(0===l&&(l=r.y-i.y,0===l)){l=(r.next.y-r.y)/(r.next.x-r.x)-(i.next.y-i.y)/(i.next.x-i.x)}return l}function eliminateHole(r,i){const l=function findHoleBridge(r,i){let l=i;const p=r.x,m=r.y;let y,v=-1/0;if(equals(r,l))return l;do{if(equals(r,l.next))return l.next;if(m<=l.y&&m>=l.next.y&&l.next.y!==l.y){const r=l.x+(m-l.y)*(l.next.x-l.x)/(l.next.y-l.y);if(r<=p&&r>v&&(v=r,y=l.x<l.next.x?l:l.next,r===p))return y}l=l.next}while(l!==i);if(!y)return null;const _=y,x=y.x,S=y.y;let k=1/0;l=y;do{if(p>=l.x&&l.x>=x&&p!==l.x&&pointInTriangle(m<S?p:v,m,x,S,m<S?v:p,m,l.x,l.y)){const i=Math.abs(m-l.y)/(p-l.x);locallyInside(l,r)&&(i<k||i===k&&(l.x>y.x||l.x===y.x&&sectorContainsSector(y,l)))&&(y=l,k=i)}l=l.next}while(l!==_);return y}(r,i);if(!l)return i;const p=splitPolygon(l,r);return filterPoints(p,p.next),filterPoints(l,l.next)}function sectorContainsSector(r,i){return area(r.prev,r,i.prev)<0&&area(i.next,r,r.next)<0}function zOrder(r,i,l,p,m){return(r=1431655765&((r=858993459&((r=252645135&((r=16711935&((r=(r-l)*m|0)|r<<8))|r<<4))|r<<2))|r<<1))|(i=1431655765&((i=858993459&((i=252645135&((i=16711935&((i=(i-p)*m|0)|i<<8))|i<<4))|i<<2))|i<<1))<<1}function getLeftmost(r){let i=r,l=r;do{(i.x<l.x||i.x===l.x&&i.y<l.y)&&(l=i),i=i.next}while(i!==r);return l}function pointInTriangle(r,i,l,p,m,y,v,_){return(m-v)*(i-_)>=(r-v)*(y-_)&&(r-v)*(p-_)>=(l-v)*(i-_)&&(l-v)*(y-_)>=(m-v)*(p-_)}function pointInTriangleExceptFirst(r,i,l,p,m,y,v,_){return!(r===v&&i===_)&&pointInTriangle(r,i,l,p,m,y,v,_)}function isValidDiagonal(r,i){return r.next.i!==i.i&&r.prev.i!==i.i&&!function intersectsPolygon(r,i){let l=r;do{if(l.i!==r.i&&l.next.i!==r.i&&l.i!==i.i&&l.next.i!==i.i&&intersects(l,l.next,r,i))return!0;l=l.next}while(l!==r);return!1}(r,i)&&(locallyInside(r,i)&&locallyInside(i,r)&&function middleInside(r,i){let l=r,p=!1;const m=(r.x+i.x)/2,y=(r.y+i.y)/2;do{l.y>y!=l.next.y>y&&l.next.y!==l.y&&m<(l.next.x-l.x)*(y-l.y)/(l.next.y-l.y)+l.x&&(p=!p),l=l.next}while(l!==r);return p}(r,i)&&(area(r.prev,r,i.prev)||area(r,i.prev,i))||equals(r,i)&&area(r.prev,r,r.next)>0&&area(i.prev,i,i.next)>0)}function area(r,i,l){return(i.y-r.y)*(l.x-i.x)-(i.x-r.x)*(l.y-i.y)}function equals(r,i){return r.x===i.x&&r.y===i.y}function intersects(r,i,l,p){const m=sign(area(r,i,l)),y=sign(area(r,i,p)),v=sign(area(l,p,r)),_=sign(area(l,p,i));return m!==y&&v!==_||(!(0!==m||!onSegment(r,l,i))||(!(0!==y||!onSegment(r,p,i))||(!(0!==v||!onSegment(l,r,p))||!(0!==_||!onSegment(l,i,p)))))}function onSegment(r,i,l){return i.x<=Math.max(r.x,l.x)&&i.x>=Math.min(r.x,l.x)&&i.y<=Math.max(r.y,l.y)&&i.y>=Math.min(r.y,l.y)}function sign(r){return r>0?1:r<0?-1:0}function locallyInside(r,i){return area(r.prev,r,r.next)<0?area(r,i,r.next)>=0&&area(r,r.prev,i)>=0:area(r,i,r.prev)<0||area(r,r.next,i)<0}function splitPolygon(r,i){const l=createNode(r.i,r.x,r.y),p=createNode(i.i,i.x,i.y),m=r.next,y=i.prev;return r.next=i,i.prev=r,l.next=m,m.prev=l,p.next=l,l.prev=p,y.next=p,p.prev=y,p}function insertNode(r,i,l,p){const m=createNode(r,i,l);return p?(m.next=p.next,m.prev=p,p.next.prev=m,p.next=m):(m.prev=m,m.next=m),m}function removeNode(r){r.next.prev=r.prev,r.prev.next=r.next,r.prevZ&&(r.prevZ.nextZ=r.nextZ),r.nextZ&&(r.nextZ.prevZ=r.prevZ)}function createNode(r,i,l){return{i:r,x:i,y:l,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}le.handleByNamedList(oe.Environment,pr);const gr=earcut$1.default||earcut$1;var yr=(r=>(r[r.NONE=0]="NONE",r[r.COLOR=16384]="COLOR",r[r.STENCIL=1024]="STENCIL",r[r.DEPTH=256]="DEPTH",r[r.COLOR_DEPTH=16640]="COLOR_DEPTH",r[r.COLOR_STENCIL=17408]="COLOR_STENCIL",r[r.DEPTH_STENCIL=1280]="DEPTH_STENCIL",r[r.ALL=17664]="ALL",r))(yr||{});class SystemRunner{constructor(r){this.items=[],this._name=r}emit(r,i,l,p,m,y,v,_){const{name:x,items:S}=this;for(let k=0,C=S.length;k<C;k++)S[k][x](r,i,l,p,m,y,v,_);return this}add(r){return r[this._name]&&(this.remove(r),this.items.push(r)),this}remove(r){const i=this.items.indexOf(r);return-1!==i&&this.items.splice(i,1),this}contains(r){return-1!==this.items.indexOf(r)}removeAll(){return this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return 0===this.items.length}get name(){return this._name}}const vr=["init","destroy","contextChange","resolutionChange","resetState","renderEnd","renderStart","render","update","postrender","prerender"],br=class _AbstractRenderer2 extends fe{constructor(r){super(),this.tick=0,this.uid=uid("renderer"),this.runners=Object.create(null),this.renderPipes=Object.create(null),this._initOptions={},this._systemsHash=Object.create(null),this.type=r.type,this.name=r.name,this.config=r;const i=[...vr,...this.config.runners??[]];this._addRunners(...i),this._unsafeEvalCheck()}async init(r={}){const i=!0===r.skipExtensionImports||!1===r.manageImports;await async function loadEnvironmentExtensions(r){if(!r)for(let i=0;i<pr.length;i++){const r=pr[i];if(r.value.test())return void(await r.value.load())}}(i),this._addSystems(this.config.systems),this._addPipes(this.config.renderPipes,this.config.renderPipeAdaptors);for(const l in this._systemsHash){r={...this._systemsHash[l].constructor.defaultOptions,...r}}r={..._AbstractRenderer2.defaultOptions,...r},this._roundPixels=r.roundPixels?1:0;for(let l=0;l<this.runners.init.items.length;l++)await this.runners.init.items[l].init(r);this._initOptions=r}render(r,i){this.tick++;let l=r;if(l instanceof Container&&(l={container:l},i&&(deprecation(0,"passing a second argument is deprecated, please use render options instead"),l.target=i.renderTexture)),l.target||(l.target=this.view.renderTarget),l.target===this.view.renderTarget&&(this._lastObjectRendered=l.container,l.clearColor??(l.clearColor=this.background.colorRgba),l.clear??(l.clear=this.background.clearBeforeRender)),l.clearColor){const r=Array.isArray(l.clearColor)&&4===l.clearColor.length;l.clearColor=r?l.clearColor:Qe.shared.setValue(l.clearColor).toArray()}l.transform||(l.container.updateLocalTransform(),l.transform=l.container.localTransform),l.container.visible&&(l.container.enableRenderGroup(),this.runners.prerender.emit(l),this.runners.renderStart.emit(l),this.runners.render.emit(l),this.runners.renderEnd.emit(l),this.runners.postrender.emit(l))}resize(r,i,l){const p=this.view.resolution;this.view.resize(r,i,l),this.emit("resize",this.view.screen.width,this.view.screen.height,this.view.resolution),void 0!==l&&l!==p&&this.runners.resolutionChange.emit(l)}clear(r={}){r.target||(r.target=this.renderTarget.renderTarget),r.clearColor||(r.clearColor=this.background.colorRgba),r.clear??(r.clear=yr.ALL);const{clear:i,clearColor:l,target:p,mipLevel:m,layer:y}=r;Qe.shared.setValue(l??this.background.colorRgba),this.renderTarget.clear(p,i,Qe.shared.toArray(),m??0,y??0)}get resolution(){return this.view.resolution}set resolution(r){this.view.resolution=r,this.runners.resolutionChange.emit(r)}get width(){return this.view.texture.frame.width}get height(){return this.view.texture.frame.height}get canvas(){return this.view.canvas}get lastObjectRendered(){return this._lastObjectRendered}get renderingToScreen(){return this.renderTarget.renderingToScreen}get screen(){return this.view.screen}_addRunners(...r){r.forEach(r=>{this.runners[r]=new SystemRunner(r)})}_addSystems(r){let i;for(i in r){const l=r[i];this._addSystem(l.value,l.name)}}_addSystem(r,i){const l=new r(this);if(this[i])throw new Error(`Whoops! The name "${i}" is already in use`);this[i]=l,this._systemsHash[i]=l;for(const p in this.runners)this.runners[p].add(l);return this}_addPipes(r,i){const l=i.reduce((r,i)=>(r[i.name]=i.value,r),{});r.forEach(r=>{const i=r.value,p=r.name,m=l[p];this.renderPipes[p]=new i(this,m?new m:null),this.runners.destroy.add(this.renderPipes[p])})}destroy(r=!1){this.runners.destroy.items.reverse(),this.runners.destroy.emit(r),(!0===r||"object"==typeof r&&r.releaseGlobalResources)&&Ze.release(),Object.values(this.runners).forEach(r=>{r.destroy()}),this._systemsHash=null,this.renderPipes=null}generateTexture(r){return this.textureGenerator.generateTexture(r)}get roundPixels(){return!!this._roundPixels}_unsafeEvalCheck(){if(!unsafeEvalSupported())throw new Error("Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support.")}resetState(){this.runners.resetState.emit()}};br.defaultOptions={resolution:1,failIfMajorPerformanceCaveat:!1,roundPixels:!1};let _r,xr,Sr=br;function isWebGLSupported(r){return void 0!==_r||(_r=(()=>{const i={stencil:!0,failIfMajorPerformanceCaveat:r??Sr.defaultOptions.failIfMajorPerformanceCaveat};try{if(!Tt.get().getWebGLRenderingContext())return!1;let r=Tt.get().createCanvas().getContext("webgl",i);const l=!!r?.getContextAttributes()?.stencil;if(r){const i=r.getExtension("WEBGL_lose_context");i&&i.loseContext()}return r=null,l}catch(l){return!1}})()),_r}async function isWebGPUSupported(r={}){return void 0!==xr||(xr=await(async()=>{const i=Tt.get().getNavigator().gpu;if(!i)return!1;try{const l=await i.requestAdapter(r);return await l.requestDevice(),!0}catch(l){return!1}})()),xr}const wr=["webgl","webgpu","canvas"];const kr="8.16.0";class ApplicationInitHook{static init(){globalThis.__PIXI_APP_INIT__?.(this,kr)}static destroy(){}}ApplicationInitHook.extension=oe.Application;class RendererInitHook{constructor(r){this._renderer=r}init(){globalThis.__PIXI_RENDERER_INIT__?.(this._renderer,kr)}destroy(){this._renderer=null}}RendererInitHook.extension={type:[oe.WebGLSystem,oe.WebGPUSystem],name:"initHook",priority:-10};class ResizePlugin{static init(r){Object.defineProperty(this,"resizeTo",{configurable:!0,set(r){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=r,r&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this._cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this._cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;let r,i;if(this._cancelResize(),this._resizeTo===globalThis.window)r=globalThis.innerWidth,i=globalThis.innerHeight;else{const{clientWidth:l,clientHeight:p}=this._resizeTo;r=l,i=p}this.renderer.resize(r,i),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=r.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this._cancelResize(),this._cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}ResizePlugin.extension=oe.Application;class TickerPlugin{static init(r){r=Object.assign({autoStart:!0,sharedTicker:!1},r),Object.defineProperty(this,"ticker",{configurable:!0,set(r){this._ticker&&this._ticker.remove(this.render,this),this._ticker=r,r&&r.add(this.render,this,At.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=r.sharedTicker?Rt.shared:new Rt,r.autoStart&&this.start()}static destroy(){if(this._ticker){const r=this._ticker;this.ticker=null,r.destroy()}}}TickerPlugin.extension=oe.Application,le.add(ResizePlugin),le.add(TickerPlugin);const Cr=class _Application2{constructor(...r){this.stage=new Container,void 0!==r[0]&&deprecation(0,"Application constructor options are deprecated, please use Application.init() instead.")}async init(r){r={...r},this.stage||(this.stage=new Container),this.renderer=await async function autoDetectRenderer(r){let i,l=[];r.preference?(l.push(r.preference),wr.forEach(i=>{i!==r.preference&&l.push(i)})):l=wr.slice();let p={};for(let y=0;y<l.length;y++){const m=l[y];if("webgpu"===m&&await isWebGPUSupported()){const{WebGPURenderer:l}=await ae(async()=>{const{WebGPURenderer:r}=await import("./WebGPURenderer-zP1PkANm.js");return{WebGPURenderer:r}},__vite__mapDeps([2,3,4]));i=l,p={...r,...r.webgpu};break}if("webgl"===m&&isWebGLSupported(r.failIfMajorPerformanceCaveat??Sr.defaultOptions.failIfMajorPerformanceCaveat)){const{WebGLRenderer:l}=await ae(async()=>{const{WebGLRenderer:r}=await import("./WebGLRenderer-eThA8epk.js");return{WebGLRenderer:r}},__vite__mapDeps([5,3,4]));i=l,p={...r,...r.webgl};break}if("canvas"===m){const{CanvasRenderer:l}=await ae(async()=>{const{CanvasRenderer:r}=await import("./CanvasRenderer-CPvYL-Xu.js");return{CanvasRenderer:r}},__vite__mapDeps([6,4]));i=l,p={...r,...r.canvasOptions};break}}if(delete p.webgpu,delete p.webgl,delete p.canvasOptions,!i)throw new Error("No available renderer for the current environment");const m=new i;return await m.init(p),m}(r),_Application2._plugins.forEach(i=>{i.init.call(this,r)})}render(){this.renderer.render({container:this.stage})}get canvas(){return this.renderer.canvas}get view(){return deprecation(0,"Application.view is deprecated, please use Application.canvas instead."),this.renderer.canvas}get screen(){return this.renderer.screen}destroy(r=!1,i=!1){const l=_Application2._plugins.slice(0);l.reverse(),l.forEach(r=>{r.destroy.call(this)}),this.stage.destroy(i),this.stage=null,this.renderer.destroy(r),this.renderer=null}};Cr._plugins=[];let Pr=Cr;var Er,Tr;le.handleByList(oe.Application,Pr._plugins),le.add(ApplicationInitHook);const Ar=getDefaultExportFromCjs(function requireParseSvgPath(){if(Tr)return Er;Tr=1,Er=function parse2(p){var m=[];return p.replace(i,function(i,p,y){var v=p.toLowerCase();for(y=function parseValues(r){var i=r.match(l);return i?i.map(Number):[]}(y),"m"==v&&y.length>2&&(m.push([p].concat(y.splice(0,2))),v="l",p="m"==p?"l":"L");;){if(y.length==r[v])return y.unshift(p),m.push(y);if(y.length<r[v])throw new Error("malformed path data");m.push([p].concat(y.splice(0,r[v])))}}),m};var r={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},i=/([astvzqmhlc])([^astvzqmhlc]*)/gi,l=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi;return Er}());class Circle{constructor(r=0,i=0,l=0){this.type="circle",this.x=r,this.y=i,this.radius=l}clone(){return new Circle(this.x,this.y,this.radius)}contains(r,i){if(this.radius<=0)return!1;const l=this.radius*this.radius;let p=this.x-r,m=this.y-i;return p*=p,m*=m,p+m<=l}strokeContains(r,i,l,p=.5){if(0===this.radius)return!1;const m=this.x-r,y=this.y-i,v=this.radius,_=(1-p)*l,x=Math.sqrt(m*m+y*y);return x<=v+_&&x>v-(l-_)}getBounds(r){return r||(r=new Rectangle),r.x=this.x-this.radius,r.y=this.y-this.radius,r.width=2*this.radius,r.height=2*this.radius,r}copyFrom(r){return this.x=r.x,this.y=r.y,this.radius=r.radius,this}copyTo(r){return r.copyFrom(this),r}toString(){return`[pixi.js/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class Ellipse{constructor(r=0,i=0,l=0,p=0){this.type="ellipse",this.x=r,this.y=i,this.halfWidth=l,this.halfHeight=p}clone(){return new Ellipse(this.x,this.y,this.halfWidth,this.halfHeight)}contains(r,i){if(this.halfWidth<=0||this.halfHeight<=0)return!1;let l=(r-this.x)/this.halfWidth,p=(i-this.y)/this.halfHeight;return l*=l,p*=p,l+p<=1}strokeContains(r,i,l,p=.5){const{halfWidth:m,halfHeight:y}=this;if(m<=0||y<=0)return!1;const v=l*(1-p),_=l-v,x=m-_,S=y-_,k=m+v,C=y+v,P=r-this.x,E=i-this.y;return P*P/(x*x)+E*E/(S*S)>1&&P*P/(k*k)+E*E/(C*C)<=1}getBounds(r){return r||(r=new Rectangle),r.x=this.x-this.halfWidth,r.y=this.y-this.halfHeight,r.width=2*this.halfWidth,r.height=2*this.halfHeight,r}copyFrom(r){return this.x=r.x,this.y=r.y,this.halfWidth=r.halfWidth,this.halfHeight=r.halfHeight,this}copyTo(r){return r.copyFrom(this),r}toString(){return`[pixi.js/math:Ellipse x=${this.x} y=${this.y} halfWidth=${this.halfWidth} halfHeight=${this.halfHeight}]`}}function squaredDistanceToLineSegment(r,i,l,p,m,y){const v=m-l,_=y-p,x=v*v+_*_;let S,k,C=-1;0!==x&&(C=((r-l)*v+(i-p)*_)/x),C<0?(S=l,k=p):C>1?(S=m,k=y):(S=l+C*v,k=p+C*_);const P=r-S,E=i-k;return P*P+E*E}class Polygon{constructor(...r){this.type="polygon";let i=Array.isArray(r[0])?r[0]:r;if("number"!=typeof i[0]){const r=[];for(let l=0,p=i.length;l<p;l++)r.push(i[l].x,i[l].y);i=r}this.points=i,this.closePath=!0}isClockwise(){let r=0;const i=this.points,l=i.length;for(let p=0;p<l;p+=2){const m=i[p],y=i[p+1];r+=(i[(p+2)%l]-m)*(i[(p+3)%l]+y)}return r<0}containsPolygon(r){const i=this.getBounds(void 0),l=r.getBounds(void 0);if(!i.containsRect(l))return!1;const p=r.points;for(let m=0;m<p.length;m+=2){const r=p[m],i=p[m+1];if(!this.contains(r,i))return!1}return!0}clone(){const r=this.points.slice(),i=new Polygon(r);return i.closePath=this.closePath,i}contains(r,i){let l=!1;const p=this.points.length/2;for(let m=0,y=p-1;m<p;y=m++){const p=this.points[2*m],v=this.points[2*m+1],_=this.points[2*y],x=this.points[2*y+1];v>i!=x>i&&r<(i-v)/(x-v)*(_-p)+p&&(l=!l)}return l}strokeContains(r,i,l,p=.5){const m=l*l,y=m*(1-p),v=m-y,{points:_}=this,x=_.length-(this.closePath?0:2);for(let S=0;S<x;S+=2){const l=_[S],p=_[S+1],m=_[(S+2)%_.length],x=_[(S+3)%_.length];if(squaredDistanceToLineSegment(r,i,l,p,m,x)<=(Math.sign((m-l)*(i-p)-(x-p)*(r-l))<0?v:y))return!0}return!1}getBounds(r){r||(r=new Rectangle);const i=this.points;let l=1/0,p=-1/0,m=1/0,y=-1/0;for(let v=0,_=i.length;v<_;v+=2){const r=i[v],_=i[v+1];l=r<l?r:l,p=r>p?r:p,m=_<m?_:m,y=_>y?_:y}return r.x=l,r.width=p-l,r.y=m,r.height=y-m,r}copyFrom(r){return this.points=r.points.slice(),this.closePath=r.closePath,this}copyTo(r){return r.copyFrom(this),r}toString(){return`[pixi.js/math:PolygoncloseStroke=${this.closePath}points=${this.points.reduce((r,i)=>`${r}, ${i}`,"")}]`}get lastX(){return this.points[this.points.length-2]}get lastY(){return this.points[this.points.length-1]}get x(){return deprecation(0,"Polygon.lastX is deprecated, please use Polygon.lastX instead."),this.points[this.points.length-2]}get y(){return deprecation(0,"Polygon.y is deprecated, please use Polygon.lastY instead."),this.points[this.points.length-1]}get startX(){return this.points[0]}get startY(){return this.points[1]}}const isCornerWithinStroke=(r,i,l,p,m,y,v)=>{const _=r-l,x=i-p,S=Math.sqrt(_*_+x*x);return S>=m-y&&S<=m+v};class RoundedRectangle{constructor(r=0,i=0,l=0,p=0,m=20){this.type="roundedRectangle",this.x=r,this.y=i,this.width=l,this.height=p,this.radius=m}getBounds(r){return r||(r=new Rectangle),r.x=this.x,r.y=this.y,r.width=this.width,r.height=this.height,r}clone(){return new RoundedRectangle(this.x,this.y,this.width,this.height,this.radius)}copyFrom(r){return this.x=r.x,this.y=r.y,this.width=r.width,this.height=r.height,this}copyTo(r){return r.copyFrom(this),r}contains(r,i){if(this.width<=0||this.height<=0)return!1;if(r>=this.x&&r<=this.x+this.width&&i>=this.y&&i<=this.y+this.height){const l=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(i>=this.y+l&&i<=this.y+this.height-l||r>=this.x+l&&r<=this.x+this.width-l)return!0;let p=r-(this.x+l),m=i-(this.y+l);const y=l*l;if(p*p+m*m<=y)return!0;if(p=r-(this.x+this.width-l),p*p+m*m<=y)return!0;if(m=i-(this.y+this.height-l),p*p+m*m<=y)return!0;if(p=r-(this.x+l),p*p+m*m<=y)return!0}return!1}strokeContains(r,i,l,p=.5){const{x:m,y:y,width:v,height:_,radius:x}=this,S=l*(1-p),k=l-S,C=m+x,P=y+x,E=m+v,T=y+_;return(r>=m-S&&r<=m+k||r>=E-k&&r<=E+S)&&i>=P&&i<=P+(_-2*x)||((i>=y-S&&i<=y+k||i>=T-k&&i<=T+S)&&r>=C&&r<=C+(v-2*x)||(r<C&&i<P&&isCornerWithinStroke(r,i,C,P,x,k,S)||r>E-x&&i<P&&isCornerWithinStroke(r,i,E-x,P,x,k,S)||r>E-x&&i>T-x&&isCornerWithinStroke(r,i,E-x,T-x,x,k,S)||r<C&&i>T-x&&isCornerWithinStroke(r,i,C,T-x,x,k,S)))}toString(){return`[pixi.js/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}const Mr={};function getTextureBatchBindGroup(r,i,l){let p=2166136261;for(let m=0;m<i;m++)p^=r[m].uid,p=Math.imul(p,16777619),p>>>=0;return Mr[p]||function generateTextureBatchBindGroup(r,i,l,p){const m={};let y=0;for(let _=0;_<p;_++){const l=_<i?r[_]:Texture.EMPTY.source;m[y++]=l.source,m[y++]=l.style}const v=new BindGroup(m);return Mr[l]=v,v}(r,i,p,l)}class ViewableBuffer{constructor(r){"number"==typeof r?this.rawBinaryData=new ArrayBuffer(r):r instanceof Uint8Array?this.rawBinaryData=r.buffer:this.rawBinaryData=r,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData),this.size=this.rawBinaryData.byteLength}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}get float64View(){return this._float64Array||(this._float64Array=new Float64Array(this.rawBinaryData)),this._float64Array}get bigUint64View(){return this._bigUint64Array||(this._bigUint64Array=new BigUint64Array(this.rawBinaryData)),this._bigUint64Array}view(r){return this[`${r}View`]}destroy(){this.rawBinaryData=null,this.uint32View=null,this.float32View=null,this.uint16View=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._int32View=null,this._float64Array=null,this._bigUint64Array=null}static sizeOf(r){switch(r){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${r} isn't a valid view type`)}}}function fastCopy(r,i,l,p){if(l??(l=0),p??(p=Math.min(r.byteLength-l,i.byteLength)),7&l||7&p)if(3&l||3&p)new Uint8Array(i).set(new Uint8Array(r,l,p));else{const m=p/4;new Float32Array(i,0,m).set(new Float32Array(r,l,m))}else{const m=p/8;new Float64Array(i,0,m).set(new Float64Array(r,l,m))}}const Ir={normal:"normal-npm",add:"add-npm",screen:"screen-npm"};var Rr=(r=>(r[r.DISABLED=0]="DISABLED",r[r.RENDERING_MASK_ADD=1]="RENDERING_MASK_ADD",r[r.MASK_ACTIVE=2]="MASK_ACTIVE",r[r.INVERSE_MASK_ACTIVE=3]="INVERSE_MASK_ACTIVE",r[r.RENDERING_MASK_REMOVE=4]="RENDERING_MASK_REMOVE",r[r.NONE=5]="NONE",r))(Rr||{});function getAdjustedBlendModeBlend(r,i){return"no-premultiply-alpha"===i.alphaMode&&Ir[r]||r}const Fr=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function generateIfTestSrc(r){let i="";for(let l=0;l<r;++l)l>0&&(i+="\nelse "),l<r-1&&(i+=`if(test == ${l}.0){}`);return i}function checkMaxIfStatementsInShader(r,i){if(0===r)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const l=i.createShader(i.FRAGMENT_SHADER);try{for(;;){const p=Fr.replace(/%forloop%/gi,generateIfTestSrc(r));if(i.shaderSource(l,p),i.compileShader(l),i.getShaderParameter(l,i.COMPILE_STATUS))break;r=r/2|0}}finally{i.deleteShader(l)}return r}let Or=null;class BatchTextureArray{constructor(){this.ids=Object.create(null),this.textures=[],this.count=0}clear(){for(let r=0;r<this.count;r++){const i=this.textures[r];this.textures[r]=null,this.ids[i.uid]=null}this.count=0}}class Batch{constructor(){this.renderPipeId="batch",this.action="startBatch",this.start=0,this.size=0,this.textures=new BatchTextureArray,this.blendMode="normal",this.topology="triangle-strip",this.canBundle=!0}destroy(){this.textures=null,this.gpuBindGroup=null,this.bindGroup=null,this.batcher=null,this.elements=null}}const Lr=[];let Dr=0;function getBatchFromPool(){return Dr>0?Lr[--Dr]:new Batch}function returnBatchToPool(r){r.elements=null,Lr[Dr++]=r}Ze.register({clear:()=>{if(Lr.length>0)for(const r of Lr)r&&r.destroy();Lr.length=0,Dr=0}});let Nr=0;const Hr=class _Batcher2{constructor(r){this.uid=uid("batcher"),this.dirty=!0,this.batchIndex=0,this.batches=[],this._elements=[],(r={..._Batcher2.defaultOptions,...r}).maxTextures||(deprecation(0,"maxTextures is a required option for Batcher now, please pass it in the options"),r.maxTextures=function getMaxTexturesPerBatch(){if(Or)return Or;const r=getTestContext();return Or=r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS),Or=checkMaxIfStatementsInShader(Or,r),r.getExtension("WEBGL_lose_context")?.loseContext(),Or}());const{maxTextures:i,attributesInitialSize:l,indicesInitialSize:p}=r;this.attributeBuffer=new ViewableBuffer(4*l),this.indexBuffer=new Uint16Array(p),this.maxTextures=i}begin(){this.elementSize=0,this.elementStart=0,this.indexSize=0,this.attributeSize=0;for(let r=0;r<this.batchIndex;r++)returnBatchToPool(this.batches[r]);this.batchIndex=0,this._batchIndexStart=0,this._batchIndexSize=0,this.dirty=!0}add(r){this._elements[this.elementSize++]=r,r._indexStart=this.indexSize,r._attributeStart=this.attributeSize,r._batcher=this,this.indexSize+=r.indexSize,this.attributeSize+=r.attributeSize*this.vertexSize}checkAndUpdateTexture(r,i){const l=r._batch.textures.ids[i._source.uid];return!(!l&&0!==l)&&(r._textureId=l,r.texture=i,!0)}updateElement(r){this.dirty=!0;const i=this.attributeBuffer;r.packAsQuad?this.packQuadAttributes(r,i.float32View,i.uint32View,r._attributeStart,r._textureId):this.packAttributes(r,i.float32View,i.uint32View,r._attributeStart,r._textureId)}break(r){const i=this._elements;if(!i[this.elementStart])return;let l=getBatchFromPool(),p=l.textures;p.clear();const m=i[this.elementStart];let y=getAdjustedBlendModeBlend(m.blendMode,m.texture._source),v=m.topology;4*this.attributeSize>this.attributeBuffer.size&&this._resizeAttributeBuffer(4*this.attributeSize),this.indexSize>this.indexBuffer.length&&this._resizeIndexBuffer(this.indexSize);const _=this.attributeBuffer.float32View,x=this.attributeBuffer.uint32View,S=this.indexBuffer;let k=this._batchIndexSize,C=this._batchIndexStart,P="startBatch",E=[];const T=this.maxTextures;for(let A=this.elementStart;A<this.elementSize;++A){const m=i[A];i[A]=null;const I=m.texture._source,R=getAdjustedBlendModeBlend(m.blendMode,I),F=y!==R||v!==m.topology;I._batchTick!==Nr||F?(I._batchTick=Nr,(p.count>=T||F)&&(this._finishBatch(l,C,k-C,p,y,v,r,P,E),P="renderBatch",C=k,y=R,v=m.topology,l=getBatchFromPool(),p=l.textures,p.clear(),E=[],++Nr),m._textureId=I._textureBindLocation=p.count,p.ids[I.uid]=p.count,p.textures[p.count++]=I,m._batch=l,E.push(m),k+=m.indexSize,m.packAsQuad?(this.packQuadAttributes(m,_,x,m._attributeStart,m._textureId),this.packQuadIndex(S,m._indexStart,m._attributeStart/this.vertexSize)):(this.packAttributes(m,_,x,m._attributeStart,m._textureId),this.packIndex(m,S,m._indexStart,m._attributeStart/this.vertexSize))):(m._textureId=I._textureBindLocation,k+=m.indexSize,m.packAsQuad?(this.packQuadAttributes(m,_,x,m._attributeStart,m._textureId),this.packQuadIndex(S,m._indexStart,m._attributeStart/this.vertexSize)):(this.packAttributes(m,_,x,m._attributeStart,m._textureId),this.packIndex(m,S,m._indexStart,m._attributeStart/this.vertexSize)),m._batch=l,E.push(m))}p.count>0&&(this._finishBatch(l,C,k-C,p,y,v,r,P,E),C=k,++Nr),this.elementStart=this.elementSize,this._batchIndexStart=C,this._batchIndexSize=k}_finishBatch(r,i,l,p,m,y,v,_,x){r.gpuBindGroup=null,r.bindGroup=null,r.action=_,r.batcher=this,r.textures=p,r.blendMode=m,r.topology=y,r.start=i,r.size=l,r.elements=x,++Nr,this.batches[this.batchIndex++]=r,v.add(r)}finish(r){this.break(r)}ensureAttributeBuffer(r){4*r<=this.attributeBuffer.size||this._resizeAttributeBuffer(4*r)}ensureIndexBuffer(r){r<=this.indexBuffer.length||this._resizeIndexBuffer(r)}_resizeAttributeBuffer(r){const i=Math.max(r,2*this.attributeBuffer.size),l=new ViewableBuffer(i);fastCopy(this.attributeBuffer.rawBinaryData,l.rawBinaryData),this.attributeBuffer=l}_resizeIndexBuffer(r){const i=this.indexBuffer;let l=Math.max(r,1.5*i.length);l+=l%2;const p=l>65535?new Uint32Array(l):new Uint16Array(l);if(p.BYTES_PER_ELEMENT!==i.BYTES_PER_ELEMENT)for(let m=0;m<i.length;m++)p[m]=i[m];else fastCopy(i.buffer,p.buffer);this.indexBuffer=p}packQuadIndex(r,i,l){r[i]=l+0,r[i+1]=l+1,r[i+2]=l+2,r[i+3]=l+0,r[i+4]=l+2,r[i+5]=l+3}packIndex(r,i,l,p){const m=r.indices,y=r.indexSize,v=r.indexOffset,_=r.attributeOffset;for(let x=0;x<y;x++)i[l++]=p+m[x+v]-_}destroy(r={}){if(null!==this.batches){for(let r=0;r<this.batchIndex;r++)returnBatchToPool(this.batches[r]);this.batches=null,this.geometry.destroy(!0),this.geometry=null,r.shader&&(this.shader?.destroy(),this.shader=null);for(let r=0;r<this._elements.length;r++)this._elements[r]&&(this._elements[r]._batch=null);this._elements=null,this.indexBuffer=null,this.attributeBuffer.destroy(),this.attributeBuffer=null}}};Hr.defaultOptions={maxTextures:null,attributesInitialSize:4,indicesInitialSize:6};let zr=Hr;var Br=(r=>(r[r.MAP_READ=1]="MAP_READ",r[r.MAP_WRITE=2]="MAP_WRITE",r[r.COPY_SRC=4]="COPY_SRC",r[r.COPY_DST=8]="COPY_DST",r[r.INDEX=16]="INDEX",r[r.VERTEX=32]="VERTEX",r[r.UNIFORM=64]="UNIFORM",r[r.STORAGE=128]="STORAGE",r[r.INDIRECT=256]="INDIRECT",r[r.QUERY_RESOLVE=512]="QUERY_RESOLVE",r[r.STATIC=1024]="STATIC",r))(Br||{});class Buffer extends fe{constructor(r){let{data:i,size:l}=r;const{usage:p,label:m,shrinkToFit:y}=r;super(),this._gpuData=Object.create(null),this._gcLastUsed=-1,this.autoGarbageCollect=!0,this.uid=uid("buffer"),this._resourceType="buffer",this._resourceId=uid("resource"),this._touched=0,this._updateID=1,this._dataInt32=null,this.shrinkToFit=!0,this.destroyed=!1,i instanceof Array&&(i=new Float32Array(i)),this._data=i,l??(l=i?.byteLength);const v=!!i;this.descriptor={size:l,usage:p,mappedAtCreation:v,label:m},this.shrinkToFit=y??!0}get data(){return this._data}set data(r){this.setDataWithSize(r,r.length,!0)}get dataInt32(){return this._dataInt32||(this._dataInt32=new Int32Array(this.data.buffer)),this._dataInt32}get static(){return!!(this.descriptor.usage&Br.STATIC)}set static(r){r?this.descriptor.usage|=Br.STATIC:this.descriptor.usage&=~Br.STATIC}setDataWithSize(r,i,l){if(this._updateID++,this._updateSize=i*r.BYTES_PER_ELEMENT,this._data===r)return void(l&&this.emit("update",this));const p=this._data;this._data=r,this._dataInt32=null,p&&p.length===r.length||!this.shrinkToFit&&p&&r.byteLength<p.byteLength?l&&this.emit("update",this):(this.descriptor.size=r.byteLength,this._resourceId=uid("resource"),this.emit("change",this))}update(r){this._updateSize=r??this._updateSize,this._updateID++,this.emit("update",this)}unload(){this.emit("unload",this);for(const r in this._gpuData)this._gpuData[r]?.destroy();this._gpuData=Object.create(null)}destroy(){this.destroyed=!0,this.unload(),this.emit("destroy",this),this.emit("change",this),this._data=null,this.descriptor=null,this.removeAllListeners()}}function ensureIsBuffer(r,i){if(!(r instanceof Buffer)){let l=i?Br.INDEX:Br.VERTEX;r instanceof Array&&(i?(r=new Uint32Array(r),l=Br.INDEX|Br.COPY_DST):(r=new Float32Array(r),l=Br.VERTEX|Br.COPY_DST)),r=new Buffer({data:r,label:i?"index-mesh-buffer":"vertex-mesh-buffer",usage:l})}return r}class Geometry extends fe{constructor(r={}){super(),this._gpuData=Object.create(null),this.autoGarbageCollect=!0,this._gcLastUsed=-1,this.uid=uid("geometry"),this._layoutKey=0,this.instanceCount=1,this._bounds=new Bounds,this._boundsDirty=!0;const{attributes:i,indexBuffer:l,topology:p}=r;if(this.buffers=[],this.attributes={},i)for(const m in i)this.addAttribute(m,i[m]);this.instanceCount=r.instanceCount??1,l&&this.addIndex(l),this.topology=p||"triangle-list"}onBufferUpdate(){this._boundsDirty=!0,this.emit("update",this)}getAttribute(r){return this.attributes[r]}getIndex(){return this.indexBuffer}getBuffer(r){return this.getAttribute(r).buffer}getSize(){for(const r in this.attributes){const i=this.attributes[r];return i.buffer.data.length/(i.stride/4||i.size)}return 0}addAttribute(r,i){const l=function ensureIsAttribute(r){return(r instanceof Buffer||Array.isArray(r)||r.BYTES_PER_ELEMENT)&&(r={buffer:r}),r.buffer=ensureIsBuffer(r.buffer,!1),r}(i);-1===this.buffers.indexOf(l.buffer)&&(this.buffers.push(l.buffer),l.buffer.on("update",this.onBufferUpdate,this),l.buffer.on("change",this.onBufferUpdate,this)),this.attributes[r]=l}addIndex(r){this.indexBuffer=ensureIsBuffer(r,!0),this.buffers.push(this.indexBuffer)}get bounds(){return this._boundsDirty?(this._boundsDirty=!1,function getGeometryBounds(r,i,l){const p=r.getAttribute(i);if(!p)return l.minX=0,l.minY=0,l.maxX=0,l.maxY=0,l;const m=p.buffer.data;let y=1/0,v=1/0,_=-1/0,x=-1/0;const S=m.BYTES_PER_ELEMENT,k=(p.offset||0)/S,C=(p.stride||8)/S;for(let P=k;P<m.length;P+=C){const r=m[P],i=m[P+1];r>_&&(_=r),i>x&&(x=i),r<y&&(y=r),i<v&&(v=i)}return l.minX=y,l.minY=v,l.maxX=_,l.maxY=x,l}(this,"aPosition",this._bounds)):this._bounds}unload(){this.emit("unload",this);for(const r in this._gpuData)this._gpuData[r]?.destroy();this._gpuData=Object.create(null)}destroy(r=!1){this.emit("destroy",this),this.removeAllListeners(),r&&this.buffers.forEach(r=>r.destroy()),this.unload(),this.indexBuffer?.destroy(),this.attributes=null,this.buffers=null,this.indexBuffer=null,this._bounds=null}}const Ur=new Float32Array(1),Gr=new Uint32Array(1);class BatchGeometry extends Geometry{constructor(){const r=new Buffer({data:Ur,label:"attribute-batch-buffer",usage:Br.VERTEX|Br.COPY_DST,shrinkToFit:!1});super({attributes:{aPosition:{buffer:r,format:"float32x2",stride:24,offset:0},aUV:{buffer:r,format:"float32x2",stride:24,offset:8},aColor:{buffer:r,format:"unorm8x4",stride:24,offset:16},aTextureIdAndRound:{buffer:r,format:"uint16x2",stride:24,offset:20}},indexBuffer:new Buffer({data:Gr,label:"index-batch-buffer",usage:Br.INDEX|Br.COPY_DST,shrinkToFit:!1})})}}function addBits(r,i,l){if(r)for(const p in r){const m=i[p.toLocaleLowerCase()];if(m){let i=r[p];"header"===p&&(i=i.replace(/@in\s+[^;]+;\s*/g,"").replace(/@out\s+[^;]+;\s*/g,"")),l&&m.push(`//----${l}----//`),m.push(i)}else warn()}}const Vr=/\{\{(.*?)\}\}/g;function compileHooks(r){const i={};return(r.match(Vr)?.map(r=>r.replace(/[{()}]/g,""))??[]).forEach(r=>{i[r]=[]}),i}function extractInputs(r,i){let l;const p=/@in\s+([^;]+);/g;for(;null!==(l=p.exec(r));)i.push(l[1])}function compileInputs(r,i,l=!1){const p=[];extractInputs(i,p),r.forEach(r=>{r.header&&extractInputs(r.header,p)});const m=p;l&&m.sort();const y=m.map((r,i)=>`       @location(${i}) ${r},`).join("\n");let v=i.replace(/@in\s+[^;]+;\s*/g,"");return v=v.replace("{{in}}",`\n${y}\n`),v}function extractOutputs(r,i){let l;const p=/@out\s+([^;]+);/g;for(;null!==(l=p.exec(r));)i.push(l[1])}function injectBits(r,i){let l=r;for(const p in i){const r=i[p];l=r.join("\n").length?l.replace(`{{${p}}}`,`//-----${p} START-----//\n${r.join("\n")}\n//----${p} FINISH----//`):l.replace(`{{${p}}}`,"")}return l}const Wr=Object.create(null),jr=new Map;let $r=0;function compileHighShader({template:r,bits:i}){const l=generateCacheId(r,i);if(Wr[l])return Wr[l];const{vertex:p,fragment:m}=function compileInputsAndOutputs(r,i){const l=i.map(r=>r.vertex).filter(r=>!!r),p=i.map(r=>r.fragment).filter(r=>!!r);let m=compileInputs(l,r.vertex,!0);m=function compileOutputs(r,i){const l=[];extractOutputs(i,l),r.forEach(r=>{r.header&&extractOutputs(r.header,l)});let p=0;const m=l.sort().map(r=>r.indexOf("builtin")>-1?r:`@location(${p++}) ${r}`).join(",\n"),y=l.sort().map(r=>`       var ${function stripVariable(r){return r.replace(/@.*?\s+/g,"")}(r)};`).join("\n"),v=`return VSOutput(\n            ${l.sort().map(r=>` ${function extractVariableName(r){const i=/\b(\w+)\s*:/g.exec(r);return i?i[1]:""}(r)}`).join(",\n")});`;let _=i.replace(/@out\s+[^;]+;\s*/g,"");return _=_.replace("{{struct}}",`\n${m}\n`),_=_.replace("{{start}}",`\n${y}\n`),_=_.replace("{{return}}",`\n${v}\n`),_}(l,m);const y=compileInputs(p,r.fragment,!0);return{vertex:m,fragment:y}}(r,i);return Wr[l]=compileBits(p,m,i),Wr[l]}function compileHighShaderGl({template:r,bits:i}){const l=generateCacheId(r,i);return Wr[l]||(Wr[l]=compileBits(r.vertex,r.fragment,i)),Wr[l]}function generateCacheId(r,i){return i.map(r=>(jr.has(r)||jr.set(r,$r++),jr.get(r))).sort((r,i)=>r-i).join("-")+r.vertex+r.fragment}function compileBits(r,i,l){const p=compileHooks(r),m=compileHooks(i);return l.forEach(r=>{addBits(r.vertex,p,r.name),addBits(r.fragment,m,r.name)}),{vertex:injectBits(r,p),fragment:injectBits(i,m)}}const qr={name:"global-uniforms-bit",vertex:{header:"\n        struct GlobalUniforms {\n            uProjectionMatrix:mat3x3<f32>,\n            uWorldTransformMatrix:mat3x3<f32>,\n            uWorldColorAlpha: vec4<f32>,\n            uResolution: vec2<f32>,\n        }\n\n        @group(0) @binding(0) var<uniform> globalUniforms : GlobalUniforms;\n        "}},Yr={name:"global-uniforms-bit",vertex:{header:"\n          uniform mat3 uProjectionMatrix;\n          uniform mat3 uWorldTransformMatrix;\n          uniform vec4 uWorldColorAlpha;\n          uniform vec2 uResolution;\n        "}};function compileHighShaderGpuProgram({bits:r,name:i}){const l=compileHighShader({template:{fragment:"\n    @in vUV : vec2<f32>;\n    @in vColor : vec4<f32>;\n\n    {{header}}\n\n    @fragment\n    fn main(\n        {{in}}\n      ) -> @location(0) vec4<f32> {\n\n        {{start}}\n\n        var outColor:vec4<f32>;\n\n        {{main}}\n\n        var finalColor:vec4<f32> = outColor * vColor;\n\n        {{end}}\n\n        return finalColor;\n      };\n",vertex:"\n    @in aPosition: vec2<f32>;\n    @in aUV: vec2<f32>;\n\n    @out @builtin(position) vPosition: vec4<f32>;\n    @out vUV : vec2<f32>;\n    @out vColor : vec4<f32>;\n\n    {{header}}\n\n    struct VSOutput {\n        {{struct}}\n    };\n\n    @vertex\n    fn main( {{in}} ) -> VSOutput {\n\n        var worldTransformMatrix = globalUniforms.uWorldTransformMatrix;\n        var modelMatrix = mat3x3<f32>(\n            1.0, 0.0, 0.0,\n            0.0, 1.0, 0.0,\n            0.0, 0.0, 1.0\n          );\n        var position = aPosition;\n        var uv = aUV;\n\n        {{start}}\n\n        vColor = vec4<f32>(1., 1., 1., 1.);\n\n        {{main}}\n\n        vUV = uv;\n\n        var modelViewProjectionMatrix = globalUniforms.uProjectionMatrix * worldTransformMatrix * modelMatrix;\n\n        vPosition =  vec4<f32>((modelViewProjectionMatrix *  vec3<f32>(position, 1.0)).xy, 0.0, 1.0);\n\n        vColor *= globalUniforms.uWorldColorAlpha;\n\n        {{end}}\n\n        {{return}}\n    };\n"},bits:[qr,...r]});return GpuProgram.from({name:i,vertex:{source:l.vertex,entryPoint:"main"},fragment:{source:l.fragment,entryPoint:"main"}})}function compileHighShaderGlProgram({bits:r,name:i}){return new Zt({name:i,...compileHighShaderGl({template:{vertex:"\n    in vec2 aPosition;\n    in vec2 aUV;\n\n    out vec4 vColor;\n    out vec2 vUV;\n\n    {{header}}\n\n    void main(void){\n\n        mat3 worldTransformMatrix = uWorldTransformMatrix;\n        mat3 modelMatrix = mat3(\n            1.0, 0.0, 0.0,\n            0.0, 1.0, 0.0,\n            0.0, 0.0, 1.0\n          );\n        vec2 position = aPosition;\n        vec2 uv = aUV;\n\n        {{start}}\n\n        vColor = vec4(1.);\n\n        {{main}}\n\n        vUV = uv;\n\n        mat3 modelViewProjectionMatrix = uProjectionMatrix * worldTransformMatrix * modelMatrix;\n\n        gl_Position = vec4((modelViewProjectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n\n        vColor *= uWorldColorAlpha;\n\n        {{end}}\n    }\n",fragment:"\n\n    in vec4 vColor;\n    in vec2 vUV;\n\n    out vec4 finalColor;\n\n    {{header}}\n\n    void main(void) {\n\n        {{start}}\n\n        vec4 outColor;\n\n        {{main}}\n\n        finalColor = outColor * vColor;\n\n        {{end}}\n    }\n"},bits:[Yr,...r]})})}const Xr={name:"color-bit",vertex:{header:"\n            @in aColor: vec4<f32>;\n        ",main:"\n            vColor *= vec4<f32>(aColor.rgb * aColor.a, aColor.a);\n        "}},Qr={name:"color-bit",vertex:{header:"\n            in vec4 aColor;\n        ",main:"\n            vColor *= vec4(aColor.rgb * aColor.a, aColor.a);\n        "}},Kr={};function generateBindingSrc(r){const i=[];if(1===r)i.push("@group(1) @binding(0) var textureSource1: texture_2d<f32>;"),i.push("@group(1) @binding(1) var textureSampler1: sampler;");else{let l=0;for(let p=0;p<r;p++)i.push(`@group(1) @binding(${l++}) var textureSource${p+1}: texture_2d<f32>;`),i.push(`@group(1) @binding(${l++}) var textureSampler${p+1}: sampler;`)}return i.join("\n")}function generateSampleSrc(r){const i=[];if(1===r)i.push("outColor = textureSampleGrad(textureSource1, textureSampler1, vUV, uvDx, uvDy);");else{i.push("switch vTextureId {");for(let l=0;l<r;l++)l===r-1?i.push("  default:{"):i.push(`  case ${l}:{`),i.push(`      outColor = textureSampleGrad(textureSource${l+1}, textureSampler${l+1}, vUV, uvDx, uvDy);`),i.push("      break;}");i.push("}")}return i.join("\n")}function generateTextureBatchBit(r){return Kr[r]||(Kr[r]={name:"texture-batch-bit",vertex:{header:"\n                @in aTextureIdAndRound: vec2<u32>;\n                @out @interpolate(flat) vTextureId : u32;\n            ",main:"\n                vTextureId = aTextureIdAndRound.y;\n            ",end:"\n                if(aTextureIdAndRound.x == 1)\n                {\n                    vPosition = vec4<f32>(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);\n                }\n            "},fragment:{header:`\n                @in @interpolate(flat) vTextureId: u32;\n\n                ${generateBindingSrc(r)}\n            `,main:`\n                var uvDx = dpdx(vUV);\n                var uvDy = dpdy(vUV);\n\n                ${generateSampleSrc(r)}\n            `}}),Kr[r]}const Zr={};function generateSampleGlSrc(r){const i=[];for(let l=0;l<r;l++)l>0&&i.push("else"),l<r-1&&i.push(`if(vTextureId < ${l}.5)`),i.push("{"),i.push(`\toutColor = texture(uTextures[${l}], vUV);`),i.push("}");return i.join("\n")}function generateTextureBatchBitGl(r){return Zr[r]||(Zr[r]={name:"texture-batch-bit",vertex:{header:"\n                in vec2 aTextureIdAndRound;\n                out float vTextureId;\n\n            ",main:"\n                vTextureId = aTextureIdAndRound.y;\n            ",end:"\n                if(aTextureIdAndRound.x == 1.)\n                {\n                    gl_Position.xy = roundPixels(gl_Position.xy, uResolution);\n                }\n            "},fragment:{header:`\n                in float vTextureId;\n\n                uniform sampler2D uTextures[${r}];\n\n            `,main:`\n\n                ${generateSampleGlSrc(r)}\n            `}}),Zr[r]}const Jr={name:"round-pixels-bit",vertex:{header:"\n            fn roundPixels(position: vec2<f32>, targetSize: vec2<f32>) -> vec2<f32>\n            {\n                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;\n            }\n        "}},en={name:"round-pixels-bit",vertex:{header:"\n            vec2 roundPixels(vec2 position, vec2 targetSize)\n            {\n                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;\n            }\n        "}},tn={};function getBatchSamplersUniformGroup(r){let i=tn[r];if(i)return i;const l=new Int32Array(r);for(let p=0;p<r;p++)l[p]=p;return i=tn[r]=new or({uTextures:{value:l,type:"i32",size:r}},{isStatic:!0}),i}class DefaultShader extends Shader{constructor(r){super({glProgram:compileHighShaderGlProgram({name:"batch",bits:[Qr,generateTextureBatchBitGl(r),en]}),gpuProgram:compileHighShaderGpuProgram({name:"batch",bits:[Xr,generateTextureBatchBit(r),Jr]}),resources:{batchSamplers:getBatchSamplersUniformGroup(r)}}),this.maxTextures=r}}let rn=null;const nn=class _DefaultBatcher2 extends zr{constructor(r){super(r),this.geometry=new BatchGeometry,this.name=_DefaultBatcher2.extension.name,this.vertexSize=6,rn??(rn=new DefaultShader(r.maxTextures)),this.shader=rn}packAttributes(r,i,l,p,m){const y=m<<16|65535&r.roundPixels,v=r.transform,_=v.a,x=v.b,S=v.c,k=v.d,C=v.tx,P=v.ty,{positions:E,uvs:T}=r,A=r.color,I=r.attributeOffset,R=I+r.attributeSize;for(let F=I;F<R;F++){const r=2*F,m=E[r],v=E[r+1];i[p++]=_*m+S*v+C,i[p++]=k*v+x*m+P,i[p++]=T[r],i[p++]=T[r+1],l[p++]=A,l[p++]=y}}packQuadAttributes(r,i,l,p,m){const y=r.texture,v=r.transform,_=v.a,x=v.b,S=v.c,k=v.d,C=v.tx,P=v.ty,E=r.bounds,T=E.maxX,A=E.minX,I=E.maxY,R=E.minY,F=y.uvs,O=r.color,L=m<<16|65535&r.roundPixels;i[p+0]=_*A+S*R+C,i[p+1]=k*R+x*A+P,i[p+2]=F.x0,i[p+3]=F.y0,l[p+4]=O,l[p+5]=L,i[p+6]=_*T+S*R+C,i[p+7]=k*R+x*T+P,i[p+8]=F.x1,i[p+9]=F.y1,l[p+10]=O,l[p+11]=L,i[p+12]=_*T+S*I+C,i[p+13]=k*I+x*T+P,i[p+14]=F.x2,i[p+15]=F.y2,l[p+16]=O,l[p+17]=L,i[p+18]=_*A+S*I+C,i[p+19]=k*I+x*A+P,i[p+20]=F.x3,i[p+21]=F.y3,l[p+22]=O,l[p+23]=L}_updateMaxTextures(r){this.shader.maxTextures!==r&&(rn=new DefaultShader(r),this.shader=rn)}destroy(){this.shader=null,super.destroy()}};nn.extension={type:[oe.Batcher],name:"default"};let sn=nn;class GCManagedHash{constructor(r){this.items=Object.create(null);const{renderer:i,type:l,onUnload:p,priority:m,name:y}=r;this._renderer=i,i.gc.addResourceHash(this,"items",l,m??0),this._onUnload=p,this.name=y}add(r){return!this.items[r.uid]&&(this.items[r.uid]=r,r.once("unload",this.remove,this),r._gcLastUsed=this._renderer.gc.now,!0)}remove(r,...i){if(!this.items[r.uid])return;const l=r._gpuData[this._renderer.uid];l&&(this._onUnload?.(r,...i),l.destroy(),r._gpuData[this._renderer.uid]=null,this.items[r.uid]=null)}removeAll(...r){Object.values(this.items).forEach(i=>i&&this.remove(i,...r))}destroy(...r){this.removeAll(...r),this.items=Object.create(null),this._renderer=null,this._onUnload=null}}function transformVertices(r,i,l,p,m){const y=i.a,v=i.b,_=i.c,x=i.d,S=i.tx,k=i.ty;l||(l=0),p||(p=2),m||(m=r.length/p-l);let C=l*p;for(let P=0;P<m;P++){const i=r[C],l=r[C+1];r[C]=y*i+_*l+S,r[C+1]=v*i+x*l+k,C+=p}}const an=new Matrix;class BatchableGraphics{constructor(){this.packAsQuad=!1,this.batcherName="default",this.topology="triangle-list",this.applyTransform=!0,this.roundPixels=0,this._batcher=null,this._batch=null}get uvs(){return this.geometryData.uvs}get positions(){return this.geometryData.vertices}get indices(){return this.geometryData.indices}get blendMode(){return this.renderable&&this.applyTransform?this.renderable.groupBlendMode:"normal"}get color(){const r=this.baseColor,i=r>>16|65280&r|(255&r)<<16,l=this.renderable;return l?multiplyHexColors(i,l.groupColor)+(this.alpha*l.groupAlpha*255<<24):i+(255*this.alpha<<24)}get transform(){return this.renderable?.groupTransform||an}copyTo(r){r.indexOffset=this.indexOffset,r.indexSize=this.indexSize,r.attributeOffset=this.attributeOffset,r.attributeSize=this.attributeSize,r.baseColor=this.baseColor,r.alpha=this.alpha,r.texture=this.texture,r.geometryData=this.geometryData,r.topology=this.topology}reset(){this.applyTransform=!0,this.renderable=null,this.topology="triangle-list"}destroy(){this.renderable=null,this.texture=null,this.geometryData=null,this._batcher=null,this._batch=null}}const ln={extension:{type:oe.ShapeBuilder,name:"circle"},build(r,i){let l,p,m,y,v,_;if("circle"===r.type){const i=r;if(v=_=i.radius,v<=0)return!1;l=i.x,p=i.y,m=y=0}else if("ellipse"===r.type){const i=r;if(v=i.halfWidth,_=i.halfHeight,v<=0||_<=0)return!1;l=i.x,p=i.y,m=y=0}else{const i=r,x=i.width/2,S=i.height/2;l=i.x+x,p=i.y+S,v=_=Math.max(0,Math.min(i.radius,Math.min(x,S))),m=x-v,y=S-_}if(m<0||y<0)return!1;const x=Math.ceil(2.3*Math.sqrt(v+_)),S=8*x+(m?4:0)+(y?4:0);if(0===S)return!1;if(0===x)return i[0]=i[6]=l+m,i[1]=i[3]=p+y,i[2]=i[4]=l-m,i[5]=i[7]=p-y,!0;let k=0,C=4*x+(m?2:0)+2,P=C,E=S,T=m+v,A=y,I=l+T,R=l-T,F=p+A;if(i[k++]=I,i[k++]=F,i[--C]=F,i[--C]=R,y){const r=p-A;i[P++]=R,i[P++]=r,i[--E]=r,i[--E]=I}for(let L=1;L<x;L++){const r=Math.PI/2*(L/x),S=m+Math.cos(r)*v,T=y+Math.sin(r)*_,A=l+S,I=l-S,R=p+T,F=p-T;i[k++]=A,i[k++]=R,i[--C]=R,i[--C]=I,i[P++]=I,i[P++]=F,i[--E]=F,i[--E]=A}T=m,A=y+_,I=l+T,R=l-T,F=p+A;const O=p-A;return i[k++]=I,i[k++]=F,i[--E]=O,i[--E]=I,m&&(i[k++]=R,i[k++]=F,i[--E]=O,i[--E]=R),!0},triangulate(r,i,l,p,m,y){if(0===r.length)return;let v=0,_=0;for(let k=0;k<r.length;k+=2)v+=r[k],_+=r[k+1];v/=r.length/2,_/=r.length/2;let x=p;i[x*l]=v,i[x*l+1]=_;const S=x++;for(let k=0;k<r.length;k+=2)i[x*l]=r[k],i[x*l+1]=r[k+1],k>0&&(m[y++]=x,m[y++]=S,m[y++]=x-1),x++;m[y++]=S+1,m[y++]=S,m[y++]=x-1}},un={...ln,extension:{...ln.extension,name:"ellipse"}},cn={...ln,extension:{...ln.extension,name:"roundedRectangle"}},dn=1e-4;function square(r,i,l,p,m,y,v,_){let x,S;v?(x=p,S=-l):(x=-p,S=l);const k=r-l*m+x,C=i-p*m+S,P=r+l*y+x,E=i+p*y+S;return _.push(k,C),_.push(P,E),2}function round(r,i,l,p,m,y,v,_){const x=l-r,S=p-i;let k=Math.atan2(x,S),C=Math.atan2(m-r,y-i);_&&k<C?k+=2*Math.PI:!_&&k>C&&(C+=2*Math.PI);let P=k;const E=C-k,T=Math.abs(E),A=Math.sqrt(x*x+S*S),I=1+(15*T*Math.sqrt(A)/Math.PI|0),R=E/I;if(P+=R,_){v.push(r,i),v.push(l,p);for(let l=1,p=P;l<I;l++,p+=R)v.push(r,i),v.push(r+Math.sin(p)*A,i+Math.cos(p)*A);v.push(r,i),v.push(m,y)}else{v.push(l,p),v.push(r,i);for(let l=1,p=P;l<I;l++,p+=R)v.push(r+Math.sin(p)*A,i+Math.cos(p)*A),v.push(r,i);v.push(m,y),v.push(r,i)}return 2*I}function buildLine(r,i,l,p,m,y){const v=dn;if(0===r.length)return;const _=i;let x=_.alignment;if(.5!==i.alignment){let i=function getOrientationOfPoints(r){const i=r.length;if(i<6)return 1;let l=0;for(let p=0,m=r[i-2],y=r[i-1];p<i;p+=2){const i=r[p],v=r[p+1];l+=(i-m)*(v+y),m=i,y=v}return l<0?-1:1}(r);x=(x-.5)*i+.5}const S=new Point(r[0],r[1]),k=new Point(r[r.length-2],r[r.length-1]),C=p,P=Math.abs(S.x-k.x)<v&&Math.abs(S.y-k.y)<v;if(C){r=r.slice(),P&&(r.pop(),r.pop(),k.set(r[r.length-2],r[r.length-1]));const i=.5*(S.x+k.x),l=.5*(k.y+S.y);r.unshift(i,l),r.push(i,l)}const E=m,T=r.length/2;let A=r.length;const I=E.length/2,R=_.width/2,F=R*R,O=_.miterLimit*_.miterLimit;let L=r[0],D=r[1],z=r[2],B=r[3],U=0,G=0,V=-(D-B),W=L-z,j=0,q=0,Y=Math.sqrt(V*V+W*W);V/=Y,W/=Y,V*=R,W*=R;const X=2*(1-x),Q=2*x;C||("round"===_.cap?A+=round(L-V*(X-Q)*.5,D-W*(X-Q)*.5,L-V*X,D-W*X,L+V*Q,D+W*Q,E,!0)+2:"square"===_.cap&&(A+=square(L,D,V,W,X,Q,!0,E))),E.push(L-V*X,D-W*X),E.push(L+V*Q,D+W*Q);for(let K=1;K<T-1;++K){L=r[2*(K-1)],D=r[2*(K-1)+1],z=r[2*K],B=r[2*K+1],U=r[2*(K+1)],G=r[2*(K+1)+1],V=-(D-B),W=L-z,Y=Math.sqrt(V*V+W*W),V/=Y,W/=Y,V*=R,W*=R,j=-(B-G),q=z-U,Y=Math.sqrt(j*j+q*q),j/=Y,q/=Y,j*=R,q*=R;const i=z-L,l=D-B,p=z-U,m=G-B,y=i*p+l*m,v=l*p-m*i,x=v<0;if(Math.abs(v)<.001*Math.abs(y)){E.push(z-V*X,B-W*X),E.push(z+V*Q,B+W*Q),y>=0&&("round"===_.join?A+=round(z,B,z-V*X,B-W*X,z-j*X,B-q*X,E,!1)+4:A+=2,E.push(z-j*Q,B-q*Q),E.push(z+j*X,B+q*X));continue}const S=(-V+L)*(-W+B)-(-V+z)*(-W+D),k=(-j+U)*(-q+B)-(-j+z)*(-q+G),C=(i*k-p*S)/v,P=(m*S-l*k)/v,T=(C-z)*(C-z)+(P-B)*(P-B),I=z+(C-z)*X,Z=B+(P-B)*X,J=z-(C-z)*Q,ee=B-(P-B)*Q,te=x?X:Q;T<=Math.min(i*i+l*l,p*p+m*m)+te*te*F?"bevel"===_.join||T/F>O?(x?(E.push(I,Z),E.push(z+V*Q,B+W*Q),E.push(I,Z),E.push(z+j*Q,B+q*Q)):(E.push(z-V*X,B-W*X),E.push(J,ee),E.push(z-j*X,B-q*X),E.push(J,ee)),A+=2):"round"===_.join?x?(E.push(I,Z),E.push(z+V*Q,B+W*Q),A+=round(z,B,z+V*Q,B+W*Q,z+j*Q,B+q*Q,E,!0)+4,E.push(I,Z),E.push(z+j*Q,B+q*Q)):(E.push(z-V*X,B-W*X),E.push(J,ee),A+=round(z,B,z-V*X,B-W*X,z-j*X,B-q*X,E,!1)+4,E.push(z-j*X,B-q*X),E.push(J,ee)):(E.push(I,Z),E.push(J,ee)):(E.push(z-V*X,B-W*X),E.push(z+V*Q,B+W*Q),"round"===_.join?A+=x?round(z,B,z+V*Q,B+W*Q,z+j*Q,B+q*Q,E,!0)+2:round(z,B,z-V*X,B-W*X,z-j*X,B-q*X,E,!1)+2:"miter"===_.join&&T/F<=O&&(x?(E.push(J,ee),E.push(J,ee)):(E.push(I,Z),E.push(I,Z)),A+=2),E.push(z-j*X,B-q*X),E.push(z+j*Q,B+q*Q),A+=2)}L=r[2*(T-2)],D=r[2*(T-2)+1],z=r[2*(T-1)],B=r[2*(T-1)+1],V=-(D-B),W=L-z,Y=Math.sqrt(V*V+W*W),V/=Y,W/=Y,V*=R,W*=R,E.push(z-V*X,B-W*X),E.push(z+V*Q,B+W*Q),C||("round"===_.cap?A+=round(z-V*(X-Q)*.5,B-W*(X-Q)*.5,z-V*X,B-W*X,z+V*Q,B+W*Q,E,!1)+2:"square"===_.cap&&(A+=square(z,B,V,W,X,Q,!1,E)));for(let K=I;K<A+I-2;++K)L=E[2*K],D=E[2*K+1],z=E[2*(K+1)],B=E[2*(K+1)+1],U=E[2*(K+2)],G=E[2*(K+2)+1],Math.abs(L*(B-G)+z*(G-D)+U*(D-B))<1e-8||y.push(K,K+1,K+2)}function triangulateWithHoles(r,i,l,p,m,y,v){const _=gr(r,i,2);if(!_)return;for(let S=0;S<_.length;S+=3)y[v++]=_[S]+m,y[v++]=_[S+1]+m,y[v++]=_[S+2]+m;let x=m*p;for(let S=0;S<r.length;S+=2)l[x]=r[S],l[x+1]=r[S+1],x+=p}const hn=[],fn={extension:{type:oe.ShapeBuilder,name:"polygon"},build(r,i){for(let l=0;l<r.points.length;l++)i[l]=r.points[l];return!0},triangulate(r,i,l,p,m,y){triangulateWithHoles(r,hn,i,l,p,m,y)}},pn={extension:{type:oe.ShapeBuilder,name:"rectangle"},build(r,i){const l=r,p=l.x,m=l.y,y=l.width,v=l.height;return y>0&&v>0&&(i[0]=p,i[1]=m,i[2]=p+y,i[3]=m,i[4]=p+y,i[5]=m+v,i[6]=p,i[7]=m+v,!0)},triangulate(r,i,l,p,m,y){let v=0;i[(p*=l)+v]=r[0],i[p+v+1]=r[1],v+=l,i[p+v]=r[2],i[p+v+1]=r[3],v+=l,i[p+v]=r[6],i[p+v+1]=r[7],v+=l,i[p+v]=r[4],i[p+v+1]=r[5],v+=l;const _=p/l;m[y++]=_,m[y++]=_+1,m[y++]=_+2,m[y++]=_+1,m[y++]=_+3,m[y++]=_+2}},mn={extension:{type:oe.ShapeBuilder,name:"triangle"},build:(r,i)=>(i[0]=r.x,i[1]=r.y,i[2]=r.x2,i[3]=r.y2,i[4]=r.x3,i[5]=r.y3,!0),triangulate(r,i,l,p,m,y){let v=0;i[(p*=l)+v]=r[0],i[p+v+1]=r[1],v+=l,i[p+v]=r[2],i[p+v+1]=r[3],v+=l,i[p+v]=r[4],i[p+v+1]=r[5];const _=p/l;m[y++]=_,m[y++]=_+1,m[y++]=_+2}},gn=[{offset:0,color:"white"},{offset:1,color:"black"}],yn=class _FillGradient2{constructor(...r){this.uid=uid("fillGradient"),this._tick=0,this.type="linear",this.colorStops=[];let i=function ensureGradientOptions(r){let i=r[0]??{};("number"==typeof i||r[1])&&(deprecation(0,"use options object instead"),i={type:"linear",start:{x:r[0],y:r[1]},end:{x:r[2],y:r[3]},textureSpace:r[4],textureSize:r[5]??vn.defaultLinearOptions.textureSize});return i}(r);i={..."radial"===i.type?_FillGradient2.defaultRadialOptions:_FillGradient2.defaultLinearOptions,...definedProps(i)},this._textureSize=i.textureSize,this._wrapMode=i.wrapMode,"radial"===i.type?(this.center=i.center,this.outerCenter=i.outerCenter??this.center,this.innerRadius=i.innerRadius,this.outerRadius=i.outerRadius,this.scale=i.scale,this.rotation=i.rotation):(this.start=i.start,this.end=i.end),this.textureSpace=i.textureSpace,this.type=i.type,i.colorStops.forEach(r=>{this.addColorStop(r.offset,r.color)})}addColorStop(r,i){return this.colorStops.push({offset:r,color:Qe.shared.setValue(i).toHexa()}),this}buildLinearGradient(){if(this.texture)return;let{x:r,y:i}=this.start,{x:l,y:p}=this.end,m=l-r,y=p-i;const v=m<0||y<0;if("clamp-to-edge"===this._wrapMode){if(m<0){const i=r;r=l,l=i,m*=-1}if(y<0){const r=i;i=p,p=r,y*=-1}}const _=this.colorStops.length?this.colorStops:gn,x=this._textureSize,{canvas:S,context:k}=getCanvas(x,1),C=v?k.createLinearGradient(this._textureSize,0,0,0):k.createLinearGradient(0,0,this._textureSize,0);addColorStops(C,_),k.fillStyle=C,k.fillRect(0,0,x,1),this.texture=new Texture({source:new ImageSource({resource:S,addressMode:this._wrapMode})});const P=Math.sqrt(m*m+y*y),E=Math.atan2(y,m),T=new Matrix;T.scale(P/x,1),T.rotate(E),T.translate(r,i),"local"===this.textureSpace&&T.scale(x,x),this.transform=T}buildGradient(){this.texture||this._tick++,"linear"===this.type?this.buildLinearGradient():this.buildRadialGradient()}buildRadialGradient(){if(this.texture)return;const r=this.colorStops.length?this.colorStops:gn,i=this._textureSize,{canvas:l,context:p}=getCanvas(i,i),{x:m,y:y}=this.center,{x:v,y:_}=this.outerCenter,x=this.innerRadius,S=this.outerRadius,k=v-S,C=_-S,P=i/(2*S),E=(m-k)*P,T=(y-C)*P,A=p.createRadialGradient(E,T,x*P,(v-k)*P,(_-C)*P,S*P);addColorStops(A,r),p.fillStyle=r[r.length-1].color,p.fillRect(0,0,i,i),p.fillStyle=A,p.translate(E,T),p.rotate(this.rotation),p.scale(1,this.scale),p.translate(-E,-T),p.fillRect(0,0,i,i),this.texture=new Texture({source:new ImageSource({resource:l,addressMode:this._wrapMode})});const I=new Matrix;I.scale(1/P,1/P),I.translate(k,C),"local"===this.textureSpace&&I.scale(i,i),this.transform=I}destroy(){this.texture?.destroy(!0),this.texture=null,this.transform=null,this.colorStops=[],this.start=null,this.end=null,this.center=null,this.outerCenter=null}get styleKey(){return`fill-gradient-${this.uid}-${this._tick}`}};yn.defaultLinearOptions={start:{x:0,y:0},end:{x:0,y:1},colorStops:[],textureSpace:"local",type:"linear",textureSize:256,wrapMode:"clamp-to-edge"},yn.defaultRadialOptions={center:{x:.5,y:.5},innerRadius:0,outerRadius:.5,colorStops:[],scale:1,textureSpace:"local",type:"radial",textureSize:256,wrapMode:"clamp-to-edge"};let vn=yn;function addColorStops(r,i){for(let l=0;l<i.length;l++){const p=i[l];r.addColorStop(p.offset,p.color)}}function getCanvas(r,i){const l=Tt.get().createCanvas(r,i),p=l.getContext("2d");return{canvas:l,context:p}}const bn=new Matrix,_n=new Rectangle;function generateTextureMatrix(r,i,l,p){const m=i.matrix?r.copyFrom(i.matrix).invert():r.identity();if("local"===i.textureSpace){const r=l.getBounds(_n);i.width&&r.pad(i.width);const{x:p,y:y}=r,v=1/r.width,_=1/r.height,x=-p*v,S=-y*_,k=m.a,C=m.b,P=m.c,E=m.d;m.a*=v,m.b*=v,m.c*=_,m.d*=_,m.tx=x*k+S*P+m.tx,m.ty=x*C+S*E+m.ty}else m.translate(i.texture.frame.x,i.texture.frame.y),m.scale(1/i.texture.source.width,1/i.texture.source.height);const y=i.texture.source.style;return i.fill instanceof vn||"clamp-to-edge"!==y.addressMode||(y.addressMode="repeat",y.update()),p&&m.append(bn.copyFrom(p).invert()),m}const xn={};le.handleByMap(oe.ShapeBuilder,xn),le.add(pn,fn,mn,ln,un,cn);const Sn=new Rectangle,wn=new Matrix;function addTextureToGeometryData(r,i,l){const p=[],m=xn.rectangle,y=Sn;y.x=r.dx,y.y=r.dy,y.width=r.dw,y.height=r.dh;const v=r.transform;if(!m.build(y,p))return;const{vertices:_,uvs:x,indices:S}=l,k=S.length,C=_.length/2;v&&transformVertices(p,v),m.triangulate(p,_,2,C,S,k);const P=r.image,E=P.uvs;x.push(E.x0,E.y0,E.x1,E.y1,E.x3,E.y3,E.x2,E.y2);const T=Je.get(BatchableGraphics);T.indexOffset=k,T.indexSize=S.length-k,T.attributeOffset=C,T.attributeSize=_.length/2-C,T.baseColor=r.style,T.alpha=r.alpha,T.texture=P,T.geometryData=l,i.push(T)}function addShapePathToGeometryData(r,i,l,p,m){const{vertices:y,uvs:v,indices:_}=m;r.shapePrimitives.forEach(({shape:r,transform:x,holes:S})=>{const k=[],C=xn[r.type];if(!C.build(r,k))return;const P=_.length,E=y.length/2;let T="triangle-list";if(x&&transformVertices(k,x),l){const l=r.closePath??!0,p=i;p.pixelLine?(!function buildPixelLine(r,i,l,p){const m=dn;if(0===r.length)return;const y=r[0],v=r[1],_=r[r.length-2],x=r[r.length-1],S=i||Math.abs(y-_)<m&&Math.abs(v-x)<m,k=l,C=r.length/2,P=k.length/2;for(let E=0;E<C;E++)k.push(r[2*E]),k.push(r[2*E+1]);for(let E=0;E<C-1;E++)p.push(P+E,P+E+1);S&&p.push(P+C-1,P)}(k,l,y,_),T="line-list"):buildLine(k,p,0,l,y,_)}else if(S){const r=[],i=k.slice();(function getHoleArrays(r){const i=[];for(let l=0;l<r.length;l++){const p=r[l].shape,m=[];xn[p.type].build(p,m)&&i.push(m)}return i})(S).forEach(l=>{r.push(i.length/2),i.push(...l)}),triangulateWithHoles(i,r,y,2,E,_,P)}else C.triangulate(k,y,2,E,_,P);const A=v.length/2,I=i.texture;if(I!==Texture.WHITE){const l=generateTextureMatrix(wn,i,r,x);!function buildUvs(r,i,l,p,m,y,v,_=null){let x=0;l*=i,m*=y;const S=_.a,k=_.b,C=_.c,P=_.d,E=_.tx,T=_.ty;for(;x<v;){const v=r[l],_=r[l+1];p[m]=S*v+C*_+E,p[m+1]=k*v+P*_+T,m+=y,l+=i,x++}}(y,2,E,v,A,2,y.length/2-E,l)}else!function buildSimpleUvs(r,i,l,p){let m=0;for(i*=l;m<p;)r[i]=0,r[i+1]=0,i+=l,m++}(v,A,2,y.length/2-E);const R=Je.get(BatchableGraphics);R.indexOffset=P,R.indexSize=_.length-P,R.attributeOffset=E,R.attributeSize=y.length/2-E,R.baseColor=i.color,R.alpha=i.alpha,R.texture=I,R.geometryData=m,R.topology=T,p.push(R)})}class GpuGraphicsContext{constructor(){this.batches=[],this.geometryData={vertices:[],uvs:[],indices:[]}}reset(){this.batches&&this.batches.forEach(r=>{Je.return(r)}),this.graphicsData&&Je.return(this.graphicsData),this.isBatchable=!1,this.context=null,this.batches.length=0,this.geometryData.indices.length=0,this.geometryData.vertices.length=0,this.geometryData.uvs.length=0,this.graphicsData=null}destroy(){this.reset(),this.batches=null,this.geometryData=null}}class GraphicsContextRenderData{constructor(){this.instructions=new InstructionSet}init(r){const i=r.maxTextures;this.batcher?this.batcher._updateMaxTextures(i):this.batcher=new sn({maxTextures:i}),this.instructions.reset()}get geometry(){return deprecation(0,"GraphicsContextRenderData#geometry is deprecated, please use batcher.geometry instead."),this.batcher.geometry}destroy(){this.batcher.destroy(),this.instructions.destroy(),this.batcher=null,this.instructions=null}}const kn=class _GraphicsContextSystem2{constructor(r){this._renderer=r,this._managedContexts=new GCManagedHash({renderer:r,type:"resource",name:"graphicsContext"})}init(r){_GraphicsContextSystem2.defaultOptions.bezierSmoothness=r?.bezierSmoothness??_GraphicsContextSystem2.defaultOptions.bezierSmoothness}getContextRenderData(r){return r._gpuData[this._renderer.uid].graphicsData||this._initContextRenderData(r)}updateGpuContext(r){const i=!!r._gpuData[this._renderer.uid],l=r._gpuData[this._renderer.uid]||this._initContext(r);if(r.dirty||!i){i&&l.reset(),function buildContextBatches(r,i){const{geometryData:l,batches:p}=i;p.length=0,l.indices.length=0,l.vertices.length=0,l.uvs.length=0;for(let m=0;m<r.instructions.length;m++){const i=r.instructions[m];if("texture"===i.action)addTextureToGeometryData(i.data,p,l);else if("fill"===i.action||"stroke"===i.action){const r="stroke"===i.action,m=i.data.path.shapePath,y=i.data.style,v=i.data.hole;r&&v&&addShapePathToGeometryData(v.shapePath,y,!0,p,l),v&&(m.shapePrimitives[m.shapePrimitives.length-1].holes=v.shapePath.shapePrimitives),addShapePathToGeometryData(m,y,r,p,l)}}}(r,l);const p=r.batchMode;r.customShader||"no-batch"===p?l.isBatchable=!1:l.isBatchable="auto"!==p||l.geometryData.vertices.length<400,r.dirty=!1}return l}getGpuContext(r){return r._gpuData[this._renderer.uid]||this._initContext(r)}_initContextRenderData(r){const i=Je.get(GraphicsContextRenderData,{maxTextures:this._renderer.limits.maxBatchableTextures}),l=r._gpuData[this._renderer.uid],{batches:p,geometryData:m}=l;l.graphicsData=i;const y=m.vertices.length,v=m.indices.length;for(let k=0;k<p.length;k++)p[k].applyTransform=!1;const _=i.batcher;_.ensureAttributeBuffer(y),_.ensureIndexBuffer(v),_.begin();for(let k=0;k<p.length;k++){const r=p[k];_.add(r)}_.finish(i.instructions);const x=_.geometry;x.indexBuffer.setDataWithSize(_.indexBuffer,_.indexSize,!0),x.buffers[0].setDataWithSize(_.attributeBuffer.float32View,_.attributeSize,!0);const S=_.batches;for(let k=0;k<S.length;k++){const r=S[k];r.bindGroup=getTextureBatchBindGroup(r.textures.textures,r.textures.count,this._renderer.limits.maxBatchableTextures)}return i}_initContext(r){const i=new GpuGraphicsContext;return i.context=r,r._gpuData[this._renderer.uid]=i,this._managedContexts.add(r),i}destroy(){this._managedContexts.destroy(),this._renderer=null}};kn.extension={type:[oe.WebGLSystem,oe.WebGPUSystem],name:"graphicsContext"},kn.defaultOptions={bezierSmoothness:.5};let Cn=kn;const Pn=1.1920929e-7;function buildAdaptiveBezier(r,i,l,p,m,y,v,_,x,S){let k=(1-Math.min(.99,Math.max(0,S??Cn.defaultOptions.bezierSmoothness)))/1;return k*=k,function begin$1(r,i,l,p,m,y,v,_,x,S){recursive$1(r,i,l,p,m,y,v,_,x,S,0),x.push(v,_)}(i,l,p,m,y,v,_,x,r,k),r}function recursive$1(r,i,l,p,m,y,v,_,x,S,k){if(k>8)return;const C=(r+l)/2,P=(i+p)/2,E=(l+m)/2,T=(p+y)/2,A=(m+v)/2,I=(y+_)/2,R=(C+E)/2,F=(P+T)/2,O=(E+A)/2,L=(T+I)/2,D=(R+O)/2,z=(F+L)/2;if(k>0){let k=v-r,C=_-i;const P=Math.abs((l-v)*C-(p-_)*k),E=Math.abs((m-v)*C-(y-_)*k);if(P>Pn&&E>Pn){if((P+E)*(P+E)<=S*(k*k+C*C))return void x.push(D,z)}else if(P>Pn){if(P*P<=S*(k*k+C*C))return void x.push(D,z)}else if(E>Pn){if(E*E<=S*(k*k+C*C))return void x.push(D,z)}else if(k=D-(r+v)/2,C=z-(i+_)/2,k*k+C*C<=S)return void x.push(D,z)}recursive$1(r,i,C,P,R,F,D,z,x,S,k+1),recursive$1(D,z,O,L,A,I,v,_,x,S,k+1)}function buildAdaptiveQuadratic(r,i,l,p,m,y,v,_){let x=(1-Math.min(.99,Math.max(0,_??Cn.defaultOptions.bezierSmoothness)))/1;return x*=x,function begin(r,i,l,p,m,y,v,_){recursive(v,r,i,l,p,m,y,_,0),v.push(m,y)}(i,l,p,m,y,v,r,x),r}function recursive(r,i,l,p,m,y,v,_,x){if(x>8)return;const S=(i+p)/2,k=(l+m)/2,C=(p+y)/2,P=(m+v)/2,E=(S+C)/2,T=(k+P)/2;let A=y-i,I=v-l;const R=Math.abs((p-y)*I-(m-v)*A);if(R>1.1920929e-7){if(R*R<=_*(A*A+I*I))return void r.push(E,T)}else if(A=E-(i+y)/2,I=T-(l+v)/2,A*A+I*I<=_)return void r.push(E,T);recursive(r,i,l,S,k,E,T,_,x+1),recursive(r,E,T,C,P,y,v,_,x+1)}function buildArc(r,i,l,p,m,y,v,_){let x=Math.abs(m-y);(!v&&m>y||v&&y>m)&&(x=2*Math.PI-x),_||(_=Math.max(6,Math.floor(6*Math.pow(p,1/3)*(x/Math.PI))));let S=x/(_=Math.max(_,3)),k=m;S*=v?-1:1;for(let C=0;C<_+1;C++){const m=i+Math.cos(k)*p,y=l+Math.sin(k)*p;r.push(m,y),k+=S}}const En=2*Math.PI,Tn={centerX:0,centerY:0,ang1:0,ang2:0},mapToEllipse=({x:r,y:i},l,p,m,y,v,_,x)=>{const S=m*(r*=l)-y*(i*=p),k=y*r+m*i;return x.x=S+v,x.y=k+_,x};function approxUnitArc(r,i){const l=-1.5707963267948966===i?-.551915024494:4/3*Math.tan(i/4),p=1.5707963267948966===i?.551915024494:l,m=Math.cos(r),y=Math.sin(r),v=Math.cos(r+i),_=Math.sin(r+i);return[{x:m-y*p,y:y+m*p},{x:v+_*p,y:_-v*p},{x:v,y:_}]}const vectorAngle=(r,i,l,p)=>{let m=r*l+i*p;return m>1&&(m=1),m<-1&&(m=-1),(r*p-i*l<0?-1:1)*Math.acos(m)};function buildArcToSvg(r,i,l,p,m,y,v,_=0,x=0,S=0){if(0===y||0===v)return;const k=Math.sin(_*En/360),C=Math.cos(_*En/360),P=C*(i-p)/2+k*(l-m)/2,E=-k*(i-p)/2+C*(l-m)/2;if(0===P&&0===E)return;y=Math.abs(y),v=Math.abs(v);const T=Math.pow(P,2)/Math.pow(y,2)+Math.pow(E,2)/Math.pow(v,2);T>1&&(y*=Math.sqrt(T),v*=Math.sqrt(T)),((r,i,l,p,m,y,v,_,x,S,k,C,P)=>{const E=Math.pow(m,2),T=Math.pow(y,2),A=Math.pow(k,2),I=Math.pow(C,2);let R=E*T-E*I-T*A;R<0&&(R=0),R/=E*I+T*A,R=Math.sqrt(R)*(v===_?-1:1);const F=R*m/y*C,O=R*-y/m*k,L=S*F-x*O+(r+l)/2,D=x*F+S*O+(i+p)/2,z=(k-F)/m,B=(C-O)/y,U=(-k-F)/m,G=(-C-O)/y,V=vectorAngle(1,0,z,B);let W=vectorAngle(z,B,U,G);0===_&&W>0&&(W-=En),1===_&&W<0&&(W+=En),P.centerX=L,P.centerY=D,P.ang1=V,P.ang2=W})(i,l,p,m,y,v,x,S,k,C,P,E,Tn);let{ang1:A,ang2:I}=Tn;const{centerX:R,centerY:F}=Tn;let O=Math.abs(I)/(En/4);Math.abs(1-O)<1e-7&&(O=1);const L=Math.max(Math.ceil(O),1);I/=L;let D=r[r.length-2],z=r[r.length-1];const B={x:0,y:0};for(let U=0;U<L;U++){const i=approxUnitArc(A,I),{x:l,y:p}=mapToEllipse(i[0],y,v,C,k,R,F,B),{x:m,y:_}=mapToEllipse(i[1],y,v,C,k,R,F,B),{x:x,y:S}=mapToEllipse(i[2],y,v,C,k,R,F,B);buildAdaptiveBezier(r,D,z,l,p,m,_,x,S),D=x,z=S,A+=I}}const An=new Rectangle;class ShapePath{constructor(r){this.shapePrimitives=[],this._currentPoly=null,this._bounds=new Bounds,this._graphicsPath2D=r,this.signed=r.checkForHoles}moveTo(r,i){return this.startPoly(r,i),this}lineTo(r,i){this._ensurePoly();const l=this._currentPoly.points,p=l[l.length-2],m=l[l.length-1];return p===r&&m===i||l.push(r,i),this}arc(r,i,l,p,m,y){this._ensurePoly(!1);return buildArc(this._currentPoly.points,r,i,l,p,m,y),this}arcTo(r,i,l,p,m){this._ensurePoly();return function buildArcTo(r,i,l,p,m,y){const v=r[r.length-2],_=r[r.length-1]-l,x=v-i,S=m-l,k=p-i,C=Math.abs(_*k-x*S);if(C<1e-8||0===y)return void(r[r.length-2]===i&&r[r.length-1]===l||r.push(i,l));const P=_*_+x*x,E=S*S+k*k,T=_*S+x*k,A=y*Math.sqrt(P)/C,I=y*Math.sqrt(E)/C,R=A*T/P,F=I*T/E,O=A*k+I*x,L=A*S+I*_,D=x*(I+R),z=_*(I+R),B=k*(A+F),U=S*(A+F);buildArc(r,O+i,L+l,y,Math.atan2(z-L,D-O),Math.atan2(U-L,B-O),x*S>k*_)}(this._currentPoly.points,r,i,l,p,m),this}arcToSvg(r,i,l,p,m,y,v){return buildArcToSvg(this._currentPoly.points,this._currentPoly.lastX,this._currentPoly.lastY,y,v,r,i,l,p,m),this}bezierCurveTo(r,i,l,p,m,y,v){this._ensurePoly();const _=this._currentPoly;return buildAdaptiveBezier(this._currentPoly.points,_.lastX,_.lastY,r,i,l,p,m,y,v),this}quadraticCurveTo(r,i,l,p,m){this._ensurePoly();const y=this._currentPoly;return buildAdaptiveQuadratic(this._currentPoly.points,y.lastX,y.lastY,r,i,l,p,m),this}closePath(){return this.endPoly(!0),this}addPath(r,i){this.endPoly(),i&&!i.isIdentity()&&(r=r.clone(!0)).transform(i);const l=this.shapePrimitives,p=l.length;for(let m=0;m<r.instructions.length;m++){const i=r.instructions[m];this[i.action](...i.data)}if(r.checkForHoles&&l.length-p>1){let r=null;for(let i=p;i<l.length;i++){const p=l[i];if("polygon"===p.shape.type){const m=p.shape,y=r?.shape;y&&y.containsPolygon(m)?(r.holes||(r.holes=[]),r.holes.push(p),l.copyWithin(i,i+1),l.length--,i--):r=p}}}return this}finish(r=!1){this.endPoly(r)}rect(r,i,l,p,m){return this.drawShape(new Rectangle(r,i,l,p),m),this}circle(r,i,l,p){return this.drawShape(new Circle(r,i,l),p),this}poly(r,i,l){const p=new Polygon(r);return p.closePath=i,this.drawShape(p,l),this}regularPoly(r,i,l,p,m=0,y){p=Math.max(0|p,3);const v=-1*Math.PI/2+m,_=2*Math.PI/p,x=[];for(let S=0;S<p;S++){const p=v-S*_;x.push(r+l*Math.cos(p),i+l*Math.sin(p))}return this.poly(x,!0,y),this}roundPoly(r,i,l,p,m,y=0,v){if(p=Math.max(0|p,3),m<=0)return this.regularPoly(r,i,l,p,y);const _=l*Math.sin(Math.PI/p)-.001;m=Math.min(m,_);const x=-1*Math.PI/2+y,S=2*Math.PI/p,k=(p-2)*Math.PI/p/2;for(let C=0;C<p;C++){const p=C*S+x,y=r+l*Math.cos(p),_=i+l*Math.sin(p),P=p+Math.PI+k,E=p-Math.PI-k,T=y+m*Math.cos(P),A=_+m*Math.sin(P),I=y+m*Math.cos(E),R=_+m*Math.sin(E);0===C?this.moveTo(T,A):this.lineTo(T,A),this.quadraticCurveTo(y,_,I,R,v)}return this.closePath()}roundShape(r,i,l=!1,p){return r.length<3?this:(l?function roundedShapeQuadraticCurve(r,i,l,p){const distance=(r,i)=>Math.sqrt((r.x-i.x)**2+(r.y-i.y)**2),pointLerp=(r,i,l)=>({x:r.x+(i.x-r.x)*l,y:r.y+(i.y-r.y)*l}),m=i.length;for(let y=0;y<m;y++){const v=i[(y+1)%m],_=v.radius??l;if(_<=0){0===y?r.moveTo(v.x,v.y):r.lineTo(v.x,v.y);continue}const x=i[y],S=i[(y+2)%m],k=distance(x,v);let C;C=k<1e-4?v:pointLerp(v,x,Math.min(k/2,_)/k);const P=distance(S,v);let E;E=P<1e-4?v:pointLerp(v,S,Math.min(P/2,_)/P),0===y?r.moveTo(C.x,C.y):r.lineTo(C.x,C.y),r.quadraticCurveTo(v.x,v.y,E.x,E.y,p)}}(this,r,i,p):function roundedShapeArc(r,i,l){const vecFrom=(r,i)=>{const l=i.x-r.x,p=i.y-r.y,m=Math.sqrt(l*l+p*p);return{len:m,nx:l/m,ny:p/m}},sharpCorner=(i,l)=>{0===i?r.moveTo(l.x,l.y):r.lineTo(l.x,l.y)};let p=i[i.length-1];for(let m=0;m<i.length;m++){const y=i[m%i.length],v=y.radius??l;if(v<=0){sharpCorner(m,y),p=y;continue}const _=i[(m+1)%i.length],x=vecFrom(y,p),S=vecFrom(y,_);if(x.len<1e-4||S.len<1e-4){sharpCorner(m,y),p=y;continue}let k=Math.asin(x.nx*S.ny-x.ny*S.nx),C=1,P=!1;x.nx*S.nx-x.ny*-S.ny<0?k<0?k=Math.PI+k:(k=Math.PI-k,C=-1,P=!0):k>0&&(C=-1,P=!0);const E=k/2;let T,A=Math.abs(Math.cos(E)*v/Math.sin(E));A>Math.min(x.len/2,S.len/2)?(A=Math.min(x.len/2,S.len/2),T=Math.abs(A*Math.sin(E)/Math.cos(E))):T=v;const I=y.x+S.nx*A+-S.ny*T*C,R=y.y+S.ny*A+S.nx*T*C,F=Math.atan2(x.ny,x.nx)+Math.PI/2*C,O=Math.atan2(S.ny,S.nx)-Math.PI/2*C;0===m&&r.moveTo(I+Math.cos(F)*T,R+Math.sin(F)*T),r.arc(I,R,T,F,O,P),p=y}}(this,r,i),this.closePath())}filletRect(r,i,l,p,m){if(0===m)return this.rect(r,i,l,p);const y=Math.min(l,p)/2,v=Math.min(y,Math.max(-y,m)),_=r+l,x=i+p,S=v<0?-v:0,k=Math.abs(v);return this.moveTo(r,i+k).arcTo(r+S,i+S,r+k,i,k).lineTo(_-k,i).arcTo(_-S,i+S,_,i+k,k).lineTo(_,x-k).arcTo(_-S,x-S,r+l-k,x,k).lineTo(r+k,x).arcTo(r+S,x-S,r,x-k,k).closePath()}chamferRect(r,i,l,p,m,y){if(m<=0)return this.rect(r,i,l,p);const v=Math.min(m,Math.min(l,p)/2),_=r+l,x=i+p,S=[r+v,i,_-v,i,_,i+v,_,x-v,_-v,x,r+v,x,r,x-v,r,i+v];for(let k=S.length-1;k>=2;k-=2)S[k]===S[k-2]&&S[k-1]===S[k-3]&&S.splice(k-1,2);return this.poly(S,!0,y)}ellipse(r,i,l,p,m){return this.drawShape(new Ellipse(r,i,l,p),m),this}roundRect(r,i,l,p,m,y){return this.drawShape(new RoundedRectangle(r,i,l,p,m),y),this}drawShape(r,i){return this.endPoly(),this.shapePrimitives.push({shape:r,transform:i}),this}startPoly(r,i){let l=this._currentPoly;return l&&this.endPoly(),l=new Polygon,l.points.push(r,i),this._currentPoly=l,this}endPoly(r=!1){const i=this._currentPoly;return i&&i.points.length>2&&(i.closePath=r,this.shapePrimitives.push({shape:i})),this._currentPoly=null,this}_ensurePoly(r=!0){if(!this._currentPoly&&(this._currentPoly=new Polygon,r)){const r=this.shapePrimitives[this.shapePrimitives.length-1];if(r){let i=r.shape.x,l=r.shape.y;if(r.transform&&!r.transform.isIdentity()){const p=r.transform,m=i;i=p.a*i+p.c*l+p.tx,l=p.b*m+p.d*l+p.ty}this._currentPoly.points.push(i,l)}else this._currentPoly.points.push(0,0)}}buildPath(){const r=this._graphicsPath2D;this.shapePrimitives.length=0,this._currentPoly=null;for(let i=0;i<r.instructions.length;i++){const l=r.instructions[i];this[l.action](...l.data)}this.finish()}get bounds(){const r=this._bounds;r.clear();const i=this.shapePrimitives;for(let l=0;l<i.length;l++){const p=i[l],m=p.shape.getBounds(An);p.transform?r.addRect(m,p.transform):r.addRect(m)}return r}}class GraphicsPath{constructor(r,i=!1){this.instructions=[],this.uid=uid("graphicsPath"),this._dirty=!0,this.checkForHoles=i,"string"==typeof r?function parseSVGPath(r,i){const l=Ar(r),p=[];let m=null,y=0,v=0;for(let _=0;_<l.length;_++){const r=l[_],x=r[0],S=r;switch(x){case"M":y=S[1],v=S[2],i.moveTo(y,v);break;case"m":y+=S[1],v+=S[2],i.moveTo(y,v);break;case"H":y=S[1],i.lineTo(y,v);break;case"h":y+=S[1],i.lineTo(y,v);break;case"V":v=S[1],i.lineTo(y,v);break;case"v":v+=S[1],i.lineTo(y,v);break;case"L":y=S[1],v=S[2],i.lineTo(y,v);break;case"l":y+=S[1],v+=S[2],i.lineTo(y,v);break;case"C":y=S[5],v=S[6],i.bezierCurveTo(S[1],S[2],S[3],S[4],y,v);break;case"c":i.bezierCurveTo(y+S[1],v+S[2],y+S[3],v+S[4],y+S[5],v+S[6]),y+=S[5],v+=S[6];break;case"S":y=S[3],v=S[4],i.bezierCurveToShort(S[1],S[2],y,v);break;case"s":i.bezierCurveToShort(y+S[1],v+S[2],y+S[3],v+S[4]),y+=S[3],v+=S[4];break;case"Q":y=S[3],v=S[4],i.quadraticCurveTo(S[1],S[2],y,v);break;case"q":i.quadraticCurveTo(y+S[1],v+S[2],y+S[3],v+S[4]),y+=S[3],v+=S[4];break;case"T":y=S[1],v=S[2],i.quadraticCurveToShort(y,v);break;case"t":y+=S[1],v+=S[2],i.quadraticCurveToShort(y,v);break;case"A":y=S[6],v=S[7],i.arcToSvg(S[1],S[2],S[3],S[4],S[5],y,v);break;case"a":y+=S[6],v+=S[7],i.arcToSvg(S[1],S[2],S[3],S[4],S[5],y,v);break;case"Z":case"z":i.closePath(),p.length>0&&(m=p.pop(),m?(y=m.startX,v=m.startY):(y=0,v=0)),m=null;break;default:warn()}"Z"!==x&&"z"!==x&&null===m&&(m={startX:y,startY:v},p.push(m))}return i}(r,this):this.instructions=r?.slice()??[]}get shapePath(){return this._shapePath||(this._shapePath=new ShapePath(this)),this._dirty&&(this._dirty=!1,this._shapePath.buildPath()),this._shapePath}addPath(r,i){return r=r.clone(),this.instructions.push({action:"addPath",data:[r,i]}),this._dirty=!0,this}arc(...r){return this.instructions.push({action:"arc",data:r}),this._dirty=!0,this}arcTo(...r){return this.instructions.push({action:"arcTo",data:r}),this._dirty=!0,this}arcToSvg(...r){return this.instructions.push({action:"arcToSvg",data:r}),this._dirty=!0,this}bezierCurveTo(...r){return this.instructions.push({action:"bezierCurveTo",data:r}),this._dirty=!0,this}bezierCurveToShort(r,i,l,p,m){const y=this.instructions[this.instructions.length-1],v=this.getLastPoint(Point.shared);let _=0,x=0;if(y&&"bezierCurveTo"===y.action){_=y.data[2],x=y.data[3];const r=v.x,i=v.y;_=r+(r-_),x=i+(i-x)}else _=v.x,x=v.y;return this.instructions.push({action:"bezierCurveTo",data:[_,x,r,i,l,p,m]}),this._dirty=!0,this}closePath(){return this.instructions.push({action:"closePath",data:[]}),this._dirty=!0,this}ellipse(...r){return this.instructions.push({action:"ellipse",data:r}),this._dirty=!0,this}lineTo(...r){return this.instructions.push({action:"lineTo",data:r}),this._dirty=!0,this}moveTo(...r){return this.instructions.push({action:"moveTo",data:r}),this}quadraticCurveTo(...r){return this.instructions.push({action:"quadraticCurveTo",data:r}),this._dirty=!0,this}quadraticCurveToShort(r,i,l){const p=this.instructions[this.instructions.length-1],m=this.getLastPoint(Point.shared);let y=0,v=0;if(p&&"quadraticCurveTo"===p.action){y=p.data[0],v=p.data[1];const r=m.x,i=m.y;y=r+(r-y),v=i+(i-v)}else y=m.x,v=m.y;return this.instructions.push({action:"quadraticCurveTo",data:[y,v,r,i,l]}),this._dirty=!0,this}rect(r,i,l,p,m){return this.instructions.push({action:"rect",data:[r,i,l,p,m]}),this._dirty=!0,this}circle(r,i,l,p){return this.instructions.push({action:"circle",data:[r,i,l,p]}),this._dirty=!0,this}roundRect(...r){return this.instructions.push({action:"roundRect",data:r}),this._dirty=!0,this}poly(...r){return this.instructions.push({action:"poly",data:r}),this._dirty=!0,this}regularPoly(...r){return this.instructions.push({action:"regularPoly",data:r}),this._dirty=!0,this}roundPoly(...r){return this.instructions.push({action:"roundPoly",data:r}),this._dirty=!0,this}roundShape(...r){return this.instructions.push({action:"roundShape",data:r}),this._dirty=!0,this}filletRect(...r){return this.instructions.push({action:"filletRect",data:r}),this._dirty=!0,this}chamferRect(...r){return this.instructions.push({action:"chamferRect",data:r}),this._dirty=!0,this}star(r,i,l,p,m,y,v){m||(m=p/2);const _=-1*Math.PI/2+y,x=2*l,S=2*Math.PI/x,k=[];for(let C=0;C<x;C++){const l=C%2?m:p,y=C*S+_;k.push(r+l*Math.cos(y),i+l*Math.sin(y))}return this.poly(k,!0,v),this}clone(r=!1){const i=new GraphicsPath;if(i.checkForHoles=this.checkForHoles,r)for(let l=0;l<this.instructions.length;l++){const r=this.instructions[l];i.instructions.push({action:r.action,data:r.data.slice()})}else i.instructions=this.instructions.slice();return i}clear(){return this.instructions.length=0,this._dirty=!0,this}transform(r){if(r.isIdentity())return this;const i=r.a,l=r.b,p=r.c,m=r.d,y=r.tx,v=r.ty;let _=0,x=0,S=0,k=0,C=0,P=0,E=0,T=0;for(let A=0;A<this.instructions.length;A++){const I=this.instructions[A],R=I.data;switch(I.action){case"moveTo":case"lineTo":_=R[0],x=R[1],R[0]=i*_+p*x+y,R[1]=l*_+m*x+v;break;case"bezierCurveTo":S=R[0],k=R[1],C=R[2],P=R[3],_=R[4],x=R[5],R[0]=i*S+p*k+y,R[1]=l*S+m*k+v,R[2]=i*C+p*P+y,R[3]=l*C+m*P+v,R[4]=i*_+p*x+y,R[5]=l*_+m*x+v;break;case"quadraticCurveTo":S=R[0],k=R[1],_=R[2],x=R[3],R[0]=i*S+p*k+y,R[1]=l*S+m*k+v,R[2]=i*_+p*x+y,R[3]=l*_+m*x+v;break;case"arcToSvg":_=R[5],x=R[6],E=R[0],T=R[1],R[0]=i*E+p*T,R[1]=l*E+m*T,R[5]=i*_+p*x+y,R[6]=l*_+m*x+v;break;case"circle":R[4]=adjustTransform(R[3],r);break;case"rect":R[4]=adjustTransform(R[4],r);break;case"ellipse":R[8]=adjustTransform(R[8],r);break;case"roundRect":R[5]=adjustTransform(R[5],r);break;case"addPath":R[0].transform(r);break;case"poly":R[2]=adjustTransform(R[2],r);break;default:warn(I.action)}}return this._dirty=!0,this}get bounds(){return this.shapePath.bounds}getLastPoint(r){let i=this.instructions.length-1,l=this.instructions[i];if(!l)return r.x=0,r.y=0,r;for(;"closePath"===l.action;){if(i--,i<0)return r.x=0,r.y=0,r;l=this.instructions[i]}switch(l.action){case"moveTo":case"lineTo":r.x=l.data[0],r.y=l.data[1];break;case"quadraticCurveTo":r.x=l.data[2],r.y=l.data[3];break;case"bezierCurveTo":r.x=l.data[4],r.y=l.data[5];break;case"arc":case"arcToSvg":r.x=l.data[5],r.y=l.data[6];break;case"addPath":l.data[0].getLastPoint(r)}return r}}function adjustTransform(r,i){return r?r.prepend(i):i.clone()}function parseSVGFloatAttribute(r,i,l){const p=r.getAttribute(i);return p?Number(p):l}function parseLinearGradient(r){const i=parseSVGFloatAttribute(r,"x1",0),l=parseSVGFloatAttribute(r,"y1",0),p=parseSVGFloatAttribute(r,"x2",1),m=parseSVGFloatAttribute(r,"y2",0),y=r.getAttribute("gradientUnits")||"objectBoundingBox",v=new vn(i,l,p,m,"objectBoundingBox"===y?"local":"global");for(let _=0;_<r.children.length;_++){const i=r.children[_],l=parseSVGFloatAttribute(i,"offset",0),p=Qe.shared.setValue(i.getAttribute("stop-color")).toNumber();v.addColorStop(l,p)}return v}function parseRadialGradient(r){return warn(),new vn(0,0,1,0)}function extractSvgUrlId(r){const i=r.match(/url\s*\(\s*['"]?\s*#([^'"\s)]+)\s*['"]?\s*\)/i);return i?i[1]:""}const Mn={fill:{type:"paint",default:0},"fill-opacity":{type:"number",default:1},stroke:{type:"paint",default:0},"stroke-width":{type:"number",default:1},"stroke-opacity":{type:"number",default:1},"stroke-linecap":{type:"string",default:"butt"},"stroke-linejoin":{type:"string",default:"miter"},"stroke-miterlimit":{type:"number",default:10},"stroke-dasharray":{type:"string",default:"none"},"stroke-dashoffset":{type:"number",default:0},opacity:{type:"number",default:1}};function parseSVGStyle(r,i){const l=r.getAttribute("style"),p={},m={},y={strokeStyle:p,fillStyle:m,useFill:!1,useStroke:!1};for(const v in Mn){const l=r.getAttribute(v);l&&parseAttribute(i,y,v,l.trim())}if(l){const r=l.split(";");for(let l=0;l<r.length;l++){const p=r[l].trim(),[m,v]=p.split(":");Mn[m]&&parseAttribute(i,y,m,v.trim())}}return{strokeStyle:y.useStroke?p:null,fillStyle:y.useFill?m:null,useFill:y.useFill,useStroke:y.useStroke}}function parseAttribute(r,i,l,p){switch(l){case"stroke":if("none"!==p){if(p.startsWith("url(")){const l=extractSvgUrlId(p);i.strokeStyle.fill=r.defs[l]}else i.strokeStyle.color=Qe.shared.setValue(p).toNumber();i.useStroke=!0}break;case"stroke-width":i.strokeStyle.width=Number(p);break;case"fill":if("none"!==p){if(p.startsWith("url(")){const l=extractSvgUrlId(p);i.fillStyle.fill=r.defs[l]}else i.fillStyle.color=Qe.shared.setValue(p).toNumber();i.useFill=!0}break;case"fill-opacity":i.fillStyle.alpha=Number(p);break;case"stroke-opacity":i.strokeStyle.alpha=Number(p);break;case"opacity":i.fillStyle.alpha=Number(p),i.strokeStyle.alpha=Number(p)}}function calculatePathArea(r){const i=r.match(/[-+]?[0-9]*\.?[0-9]+/g);if(!i||i.length<4)return 0;const l=i.map(Number),p=[],m=[];for(let x=0;x<l.length;x+=2)x+1<l.length&&(p.push(l[x]),m.push(l[x+1]));if(0===p.length||0===m.length)return 0;const y=Math.min(...p),v=Math.max(...p),_=Math.min(...m);return(v-y)*(Math.max(...m)-_)}function appendSVGPath(r,i){const l=new GraphicsPath(r,!1);for(const p of l.instructions)i.instructions.push(p)}function SVGParser(r,i){if("string"==typeof r){const i=document.createElement("div");i.innerHTML=r.trim(),r=i.querySelector("svg")}const l={context:i,defs:{},path:new GraphicsPath};!function parseSVGDefinitions(r,i){const l=r.querySelectorAll("defs");for(let p=0;p<l.length;p++){const r=l[p];for(let l=0;l<r.children.length;l++){const p=r.children[l];switch(p.nodeName.toLowerCase()){case"lineargradient":i.defs[p.id]=parseLinearGradient(p);break;case"radialgradient":i.defs[p.id]=parseRadialGradient()}}}}(r,l);const p=r.children,{fillStyle:m,strokeStyle:y}=parseSVGStyle(r,l);for(let v=0;v<p.length;v++){const r=p[v];"defs"!==r.nodeName.toLowerCase()&&renderChildren(r,l,m,y)}return i}function renderChildren(r,i,l,p){const m=r.children,{fillStyle:y,strokeStyle:v}=parseSVGStyle(r,i);y&&l?l={...l,...y}:y&&(l=y),v&&p?p={...p,...v}:v&&(p=v);const _=!l&&!p;let x,S,k,C,P,E,T,A,I,R,F,O,L,D,z,B,U;switch(_&&(l={color:0}),r.nodeName.toLowerCase()){case"path":{D=r.getAttribute("d");const m=r.getAttribute("fill-rule"),y=function extractSubpaths(r){return r.split(/(?=[Mm])/).filter(r=>r.trim().length>0)}(D),v="evenodd"===m,_=y.length>1;if(v&&_){const r=y.map(r=>({path:r,area:calculatePathArea(r)}));r.sort((r,i)=>i.area-r.area);const m=y.length>3||!function checkForNestedPattern(r){if(r.length<=2)return!0;const i=r.map(r=>r.area).sort((r,i)=>i-r),[l,p]=i,m=i[i.length-1];return!(l/p>3&&p/m<2)}(r);if(m)for(let y=0;y<r.length;y++){const m=r[y],v=0===y;i.context.beginPath();const _=new GraphicsPath(void 0,!0);appendSVGPath(m.path,_),i.context.path(_),v?(l&&i.context.fill(l),p&&i.context.stroke(p)):i.context.cut()}else for(let y=0;y<r.length;y++){const m=r[y],v=y%2==1;i.context.beginPath();const _=new GraphicsPath(void 0,!0);appendSVGPath(m.path,_),i.context.path(_),v?i.context.cut():(l&&i.context.fill(l),p&&i.context.stroke(p))}}else{z=new GraphicsPath(D,!m||"evenodd"===m),i.context.path(z),l&&i.context.fill(l),p&&i.context.stroke(p)}break}case"circle":T=parseSVGFloatAttribute(r,"cx",0),A=parseSVGFloatAttribute(r,"cy",0),I=parseSVGFloatAttribute(r,"r",0),i.context.ellipse(T,A,I,I),l&&i.context.fill(l),p&&i.context.stroke(p);break;case"rect":x=parseSVGFloatAttribute(r,"x",0),S=parseSVGFloatAttribute(r,"y",0),B=parseSVGFloatAttribute(r,"width",0),U=parseSVGFloatAttribute(r,"height",0),R=parseSVGFloatAttribute(r,"rx",0),F=parseSVGFloatAttribute(r,"ry",0),R||F?i.context.roundRect(x,S,B,U,R||F):i.context.rect(x,S,B,U),l&&i.context.fill(l),p&&i.context.stroke(p);break;case"ellipse":T=parseSVGFloatAttribute(r,"cx",0),A=parseSVGFloatAttribute(r,"cy",0),R=parseSVGFloatAttribute(r,"rx",0),F=parseSVGFloatAttribute(r,"ry",0),i.context.beginPath(),i.context.ellipse(T,A,R,F),l&&i.context.fill(l),p&&i.context.stroke(p);break;case"line":k=parseSVGFloatAttribute(r,"x1",0),C=parseSVGFloatAttribute(r,"y1",0),P=parseSVGFloatAttribute(r,"x2",0),E=parseSVGFloatAttribute(r,"y2",0),i.context.beginPath(),i.context.moveTo(k,C),i.context.lineTo(P,E),p&&i.context.stroke(p);break;case"polygon":L=r.getAttribute("points"),O=L.match(/-?\d+/g).map(r=>parseInt(r,10)),i.context.poly(O,!0),l&&i.context.fill(l),p&&i.context.stroke(p);break;case"polyline":L=r.getAttribute("points"),O=L.match(/-?\d+/g).map(r=>parseInt(r,10)),i.context.poly(O,!1),p&&i.context.stroke(p);break;case"g":case"svg":break;default:warn(r.nodeName)}_&&(l=null);for(let G=0;G<m.length;G++)renderChildren(m[G],i,l,p)}const In={repeat:{addressModeU:"repeat",addressModeV:"repeat"},"repeat-x":{addressModeU:"repeat",addressModeV:"clamp-to-edge"},"repeat-y":{addressModeU:"clamp-to-edge",addressModeV:"repeat"},"no-repeat":{addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"}};class FillPattern{constructor(r,i){this.uid=uid("fillPattern"),this._tick=0,this.transform=new Matrix,this.texture=r,this.transform.scale(1/r.frame.width,1/r.frame.height),i&&(r.source.style.addressModeU=In[i].addressModeU,r.source.style.addressModeV=In[i].addressModeV)}setTransform(r){const i=this.texture;this.transform.copyFrom(r),this.transform.invert(),this.transform.scale(1/i.frame.width,1/i.frame.height),this._tick++}get texture(){return this._texture}set texture(r){this._texture!==r&&(this._texture=r,this._tick++)}get styleKey(){return`fill-pattern-${this.uid}-${this._tick}`}destroy(){this.texture.destroy(!0),this.texture=null}}function isFillPattern(r){return r instanceof FillPattern}function isFillGradient(r){return r instanceof vn}function handleFillPattern(r,i,l){return r.fill=i,r.color=16777215,r.texture=i.texture,r.matrix=i.transform,{...l,...r}}function handleFillGradient(r,i,l){return i.buildGradient(),r.fill=i,r.color=16777215,r.texture=i.texture,r.matrix=i.transform,r.textureSpace=i.textureSpace,{...l,...r}}function toFillStyle(r,i){if(null==r)return null;const l={},p=r;return function isColorLike(r){return Qe.isColorLike(r)}(r)?function handleColorLike(r,i,l){const p=Qe.shared.setValue(i??0);return r.color=p.toNumber(),r.alpha=1===p.alpha?l.alpha:p.alpha,r.texture=Texture.WHITE,{...l,...r}}(l,r,i):function isTexture(r){return r instanceof Texture}(r)?function handleTexture(r,i,l){return r.texture=i,{...l,...r}}(l,r,i):isFillPattern(r)?handleFillPattern(l,r,i):isFillGradient(r)?handleFillGradient(l,r,i):p.fill&&isFillPattern(p.fill)?handleFillPattern(p,p.fill,i):p.fill&&isFillGradient(p.fill)?handleFillGradient(p,p.fill,i):function handleFillObject(r,i){const l={...i,...r},p=Qe.shared.setValue(l.color);return l.alpha*=p.alpha,l.color=p.toNumber(),l}(p,i)}function toStrokeStyle(r,i){const{width:l,alignment:p,miterLimit:m,cap:y,join:v,pixelLine:_,...x}=i,S=toFillStyle(r,x);return S?{width:l,alignment:p,miterLimit:m,cap:y,join:v,pixelLine:_,...S}:null}const Rn=new Point,Fn=new Matrix,On=class _GraphicsContext2 extends fe{constructor(){super(...arguments),this._gpuData=Object.create(null),this.autoGarbageCollect=!0,this._gcLastUsed=-1,this.uid=uid("graphicsContext"),this.dirty=!0,this.batchMode="auto",this.instructions=[],this.destroyed=!1,this._activePath=new GraphicsPath,this._transform=new Matrix,this._fillStyle={..._GraphicsContext2.defaultFillStyle},this._strokeStyle={..._GraphicsContext2.defaultStrokeStyle},this._stateStack=[],this._tick=0,this._bounds=new Bounds,this._boundsDirty=!0}clone(){const r=new _GraphicsContext2;return r.batchMode=this.batchMode,r.instructions=this.instructions.slice(),r._activePath=this._activePath.clone(),r._transform=this._transform.clone(),r._fillStyle={...this._fillStyle},r._strokeStyle={...this._strokeStyle},r._stateStack=this._stateStack.slice(),r._bounds=this._bounds.clone(),r._boundsDirty=!0,r}get fillStyle(){return this._fillStyle}set fillStyle(r){this._fillStyle=toFillStyle(r,_GraphicsContext2.defaultFillStyle)}get strokeStyle(){return this._strokeStyle}set strokeStyle(r){this._strokeStyle=toStrokeStyle(r,_GraphicsContext2.defaultStrokeStyle)}setFillStyle(r){return this._fillStyle=toFillStyle(r,_GraphicsContext2.defaultFillStyle),this}setStrokeStyle(r){return this._strokeStyle=toFillStyle(r,_GraphicsContext2.defaultStrokeStyle),this}texture(r,i,l,p,m,y){return this.instructions.push({action:"texture",data:{image:r,dx:l||0,dy:p||0,dw:m||r.frame.width,dh:y||r.frame.height,transform:this._transform.clone(),alpha:this._fillStyle.alpha,style:i||0===i?Qe.shared.setValue(i).toNumber():16777215}}),this.onUpdate(),this}beginPath(){return this._activePath=new GraphicsPath,this}fill(r,i){let l;const p=this.instructions[this.instructions.length-1];return l=0===this._tick&&"stroke"===p?.action?p.data.path:this._activePath.clone(),l?(null!=r&&(void 0!==i&&"number"==typeof r&&(deprecation(0,"GraphicsContext.fill(color, alpha) is deprecated, use GraphicsContext.fill({ color, alpha }) instead"),r={color:r,alpha:i}),this._fillStyle=toFillStyle(r,_GraphicsContext2.defaultFillStyle)),this.instructions.push({action:"fill",data:{style:this.fillStyle,path:l}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}_initNextPathLocation(){const{x:r,y:i}=this._activePath.getLastPoint(Point.shared);this._activePath.clear(),this._activePath.moveTo(r,i)}stroke(r){let i;const l=this.instructions[this.instructions.length-1];return i=0===this._tick&&"fill"===l?.action?l.data.path:this._activePath.clone(),i?(null!=r&&(this._strokeStyle=toStrokeStyle(r,_GraphicsContext2.defaultStrokeStyle)),this.instructions.push({action:"stroke",data:{style:this.strokeStyle,path:i}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}cut(){for(let r=0;r<2;r++){const i=this.instructions[this.instructions.length-1-r],l=this._activePath.clone();if(i&&("stroke"===i.action||"fill"===i.action)){if(!i.data.hole){i.data.hole=l;break}i.data.hole.addPath(l)}}return this._initNextPathLocation(),this}arc(r,i,l,p,m,y){this._tick++;const v=this._transform;return this._activePath.arc(v.a*r+v.c*i+v.tx,v.b*r+v.d*i+v.ty,l,p,m,y),this}arcTo(r,i,l,p,m){this._tick++;const y=this._transform;return this._activePath.arcTo(y.a*r+y.c*i+y.tx,y.b*r+y.d*i+y.ty,y.a*l+y.c*p+y.tx,y.b*l+y.d*p+y.ty,m),this}arcToSvg(r,i,l,p,m,y,v){this._tick++;const _=this._transform;return this._activePath.arcToSvg(r,i,l,p,m,_.a*y+_.c*v+_.tx,_.b*y+_.d*v+_.ty),this}bezierCurveTo(r,i,l,p,m,y,v){this._tick++;const _=this._transform;return this._activePath.bezierCurveTo(_.a*r+_.c*i+_.tx,_.b*r+_.d*i+_.ty,_.a*l+_.c*p+_.tx,_.b*l+_.d*p+_.ty,_.a*m+_.c*y+_.tx,_.b*m+_.d*y+_.ty,v),this}closePath(){return this._tick++,this._activePath?.closePath(),this}ellipse(r,i,l,p){return this._tick++,this._activePath.ellipse(r,i,l,p,this._transform.clone()),this}circle(r,i,l){return this._tick++,this._activePath.circle(r,i,l,this._transform.clone()),this}path(r){return this._tick++,this._activePath.addPath(r,this._transform.clone()),this}lineTo(r,i){this._tick++;const l=this._transform;return this._activePath.lineTo(l.a*r+l.c*i+l.tx,l.b*r+l.d*i+l.ty),this}moveTo(r,i){this._tick++;const l=this._transform,p=this._activePath.instructions,m=l.a*r+l.c*i+l.tx,y=l.b*r+l.d*i+l.ty;return 1===p.length&&"moveTo"===p[0].action?(p[0].data[0]=m,p[0].data[1]=y,this):(this._activePath.moveTo(m,y),this)}quadraticCurveTo(r,i,l,p,m){this._tick++;const y=this._transform;return this._activePath.quadraticCurveTo(y.a*r+y.c*i+y.tx,y.b*r+y.d*i+y.ty,y.a*l+y.c*p+y.tx,y.b*l+y.d*p+y.ty,m),this}rect(r,i,l,p){return this._tick++,this._activePath.rect(r,i,l,p,this._transform.clone()),this}roundRect(r,i,l,p,m){return this._tick++,this._activePath.roundRect(r,i,l,p,m,this._transform.clone()),this}poly(r,i){return this._tick++,this._activePath.poly(r,i,this._transform.clone()),this}regularPoly(r,i,l,p,m=0,y){return this._tick++,this._activePath.regularPoly(r,i,l,p,m,y),this}roundPoly(r,i,l,p,m,y){return this._tick++,this._activePath.roundPoly(r,i,l,p,m,y),this}roundShape(r,i,l,p){return this._tick++,this._activePath.roundShape(r,i,l,p),this}filletRect(r,i,l,p,m){return this._tick++,this._activePath.filletRect(r,i,l,p,m),this}chamferRect(r,i,l,p,m,y){return this._tick++,this._activePath.chamferRect(r,i,l,p,m,y),this}star(r,i,l,p,m=0,y=0){return this._tick++,this._activePath.star(r,i,l,p,m,y,this._transform.clone()),this}svg(r){return this._tick++,SVGParser(r,this),this}restore(){const r=this._stateStack.pop();return r&&(this._transform=r.transform,this._fillStyle=r.fillStyle,this._strokeStyle=r.strokeStyle),this}save(){return this._stateStack.push({transform:this._transform.clone(),fillStyle:{...this._fillStyle},strokeStyle:{...this._strokeStyle}}),this}getTransform(){return this._transform}resetTransform(){return this._transform.identity(),this}rotate(r){return this._transform.rotate(r),this}scale(r,i=r){return this._transform.scale(r,i),this}setTransform(r,i,l,p,m,y){return r instanceof Matrix?(this._transform.set(r.a,r.b,r.c,r.d,r.tx,r.ty),this):(this._transform.set(r,i,l,p,m,y),this)}transform(r,i,l,p,m,y){return r instanceof Matrix?(this._transform.append(r),this):(Fn.set(r,i,l,p,m,y),this._transform.append(Fn),this)}translate(r,i=r){return this._transform.translate(r,i),this}clear(){return this._activePath.clear(),this.instructions.length=0,this.resetTransform(),this.onUpdate(),this}onUpdate(){this._boundsDirty=!0,this.dirty||(this.emit("update",this,16),this.dirty=!0)}get bounds(){if(!this._boundsDirty)return this._bounds;this._boundsDirty=!1;const r=this._bounds;r.clear();for(let i=0;i<this.instructions.length;i++){const l=this.instructions[i],p=l.action;if("fill"===p){const i=l.data;r.addBounds(i.path.bounds)}else if("texture"===p){const i=l.data;r.addFrame(i.dx,i.dy,i.dx+i.dw,i.dy+i.dh,i.transform)}if("stroke"===p){const i=l.data,p=i.style.alignment,m=i.style.width*(1-p),y=i.path.bounds;r.addFrame(y.minX-m,y.minY-m,y.maxX+m,y.maxY+m)}}return r}containsPoint(r){if(!this.bounds.containsPoint(r.x,r.y))return!1;const i=this.instructions;let l=!1;for(let p=0;p<i.length;p++){const m=i[p],y=m.data,v=y.path;if(!m.action||!v)continue;const _=y.style,x=v.shapePath.shapePrimitives;for(let i=0;i<x.length;i++){const p=x[i].shape;if(!_||!p)continue;const v=x[i].transform,S=v?v.applyInverse(r,Rn):r;if("fill"===m.action)l=p.contains(S.x,S.y);else{const r=_;l=p.strokeContains(S.x,S.y,r.width,r.alignment)}const k=y.hole;if(k){const r=k.shapePath?.shapePrimitives;if(r)for(let i=0;i<r.length;i++)r[i].shape.contains(S.x,S.y)&&(l=!1)}if(l)return!0}}return l}unload(){this.emit("unload",this);for(const r in this._gpuData)this._gpuData[r]?.destroy();this._gpuData=Object.create(null)}destroy(r=!1){if(this.destroyed)return;this.destroyed=!0,this._stateStack.length=0,this._transform=null,this.unload(),this.emit("destroy",this),this.removeAllListeners();if("boolean"==typeof r?r:r?.texture){const i="boolean"==typeof r?r:r?.textureSource;this._fillStyle.texture&&(this._fillStyle.fill&&"uid"in this._fillStyle.fill?this._fillStyle.fill.destroy():this._fillStyle.texture.destroy(i)),this._strokeStyle.texture&&(this._strokeStyle.fill&&"uid"in this._strokeStyle.fill?this._strokeStyle.fill.destroy():this._strokeStyle.texture.destroy(i))}this._fillStyle=null,this._strokeStyle=null,this.instructions=null,this._activePath=null,this._bounds=null,this._stateStack=null,this.customShader=null,this._transform=null}};On.defaultFillStyle={color:16777215,alpha:1,texture:Texture.WHITE,matrix:null,fill:null,textureSpace:"local"},On.defaultStrokeStyle={width:1,color:16777215,alpha:1,alignment:.5,miterLimit:10,cap:"butt",join:"miter",texture:Texture.WHITE,matrix:null,fill:null,textureSpace:"local",pixelLine:!1};let Ln=On;var Dn="\nstruct GlobalFilterUniforms {\n  uInputSize:vec4<f32>,\n  uInputPixel:vec4<f32>,\n  uInputClamp:vec4<f32>,\n  uOutputFrame:vec4<f32>,\n  uGlobalFrame:vec4<f32>,\n  uOutputTexture:vec4<f32>,\n};\n\nstruct DisplacementUniforms {\n  uFilterMatrix:mat3x3<f32>,\n  uScale:vec2<f32>,\n  uRotation:mat2x2<f32>\n};\n\n\n\n@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;\n@group(0) @binding(1) var uTexture: texture_2d<f32>;\n@group(0) @binding(2) var uSampler : sampler;\n\n@group(1) @binding(0) var<uniform> filterUniforms : DisplacementUniforms;\n@group(1) @binding(1) var uMapTexture: texture_2d<f32>;\n@group(1) @binding(2) var uMapSampler : sampler;\n\nstruct VSOutput {\n    @builtin(position) position: vec4<f32>,\n    @location(0) uv : vec2<f32>,\n    @location(1) filterUv : vec2<f32>,\n  };\n\nfn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>\n{\n    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;\n\n    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;\n    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;\n\n    return vec4(position, 0.0, 1.0);\n}\n\nfn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>\n{\n    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);\n}\n\nfn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>\n{\n  return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);  \n}\n\nfn getFilterCoord(aPosition:vec2<f32> ) -> vec2<f32>\n{\n  return ( filterUniforms.uFilterMatrix * vec3( filterTextureCoord(aPosition), 1.0)  ).xy;\n}\n\nfn getSize() -> vec2<f32>\n{\n\n  \n  return gfu.uGlobalFrame.zw;\n}\n  \n@vertex\nfn mainVertex(\n  @location(0) aPosition : vec2<f32>, \n) -> VSOutput {\n  return VSOutput(\n   filterVertexPosition(aPosition),\n   filterTextureCoord(aPosition),\n   getFilterCoord(aPosition)\n  );\n}\n\n@fragment\nfn mainFragment(\n  @location(0) uv: vec2<f32>,\n  @location(1) filterUv: vec2<f32>,\n  @builtin(position) position: vec4<f32>\n) -> @location(0) vec4<f32> {\n\n    var map = textureSample(uMapTexture, uMapSampler, filterUv);\n\n    var offset =  gfu.uInputSize.zw * (filterUniforms.uRotation * (map.xy - 0.5)) * filterUniforms.uScale; \n   \n    return textureSample(uTexture, uSampler, clamp(uv + offset, gfu.uInputClamp.xy, gfu.uInputClamp.zw));\n}";class DisplacementFilter extends fr{constructor(...r){let i=r[0];i instanceof Sprite&&(r[1]&&deprecation(0,"DisplacementFilter now uses options object instead of params. {sprite, scale}"),i={sprite:i,scale:r[1]});const{sprite:l,scale:p,...m}=i;let y=p??20;"number"==typeof y&&(y=new Point(y,y));const v=new or({uFilterMatrix:{value:new Matrix,type:"mat3x3<f32>"},uScale:{value:y,type:"vec2<f32>"},uRotation:{value:new Float32Array([0,0,0,0]),type:"mat2x2<f32>"}}),_=Zt.from({vertex:"in vec2 aPosition;\nout vec2 vTextureCoord;\nout vec2 vFilterUv;\n\n\nuniform vec4 uInputSize;\nuniform vec4 uOutputFrame;\nuniform vec4 uOutputTexture;\n\nuniform mat3 uFilterMatrix;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;\n    \n    position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;\n    position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;\n\n    return vec4(position, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aPosition * (uOutputFrame.zw * uInputSize.zw);\n}\n\nvec2 getFilterCoord( void )\n{\n  return ( uFilterMatrix * vec3( filterTextureCoord(), 1.0)  ).xy;\n}\n\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n    vFilterUv = getFilterCoord();\n}\n",fragment:"\nin vec2 vTextureCoord;\nin vec2 vFilterUv;\n\nout vec4 finalColor;\n\nuniform sampler2D uTexture;\nuniform sampler2D uMapTexture;\n\nuniform vec4 uInputClamp;\nuniform highp vec4 uInputSize;\nuniform mat2 uRotation;\nuniform vec2 uScale;\n\nvoid main()\n{\n    vec4 map = texture(uMapTexture, vFilterUv);\n    \n    vec2 offset = uInputSize.zw * (uRotation * (map.xy - 0.5)) * uScale; \n\n    finalColor = texture(uTexture, clamp(vTextureCoord + offset, uInputClamp.xy, uInputClamp.zw));\n}\n",name:"displacement-filter"}),x=GpuProgram.from({vertex:{source:Dn,entryPoint:"mainVertex"},fragment:{source:Dn,entryPoint:"mainFragment"}}),S=l.texture.source;super({...m,gpuProgram:x,glProgram:_,resources:{filterUniforms:v,uMapTexture:S,uMapSampler:S.style}}),this._sprite=i.sprite,this._sprite.renderable=!1}apply(r,i,l,p){const m=this.resources.filterUniforms.uniforms;r.calculateSpriteMatrix(m.uFilterMatrix,this._sprite);const y=this._sprite.worldTransform,v=Math.sqrt(y.a*y.a+y.b*y.b),_=Math.sqrt(y.c*y.c+y.d*y.d);0!==v&&0!==_&&(m.uRotation[0]=y.a/v,m.uRotation[1]=y.b/v,m.uRotation[2]=y.c/_,m.uRotation[3]=y.d/_),this.resources.uMapTexture=this._sprite.texture.source,r.applyFilter(this,i,l,p)}get scale(){return this.resources.filterUniforms.uniforms.uScale}}class CanvasGraphicsContext{constructor(){this.isBatchable=!1}reset(){this.isBatchable=!1,this.context=null,this.graphicsData&&(this.graphicsData.destroy(),this.graphicsData=null)}destroy(){this.reset()}}class CanvasGraphicsContextRenderData{constructor(){this.instructions=new InstructionSet}init(){this.instructions.reset()}destroy(){this.instructions.destroy(),this.instructions=null}}const Nn=class _CanvasGraphicsContextSystem2{constructor(r){this._renderer=r,this._managedContexts=new GCManagedHash({renderer:r,type:"resource",name:"graphicsContext"})}init(r){_CanvasGraphicsContextSystem2.defaultOptions.bezierSmoothness=r?.bezierSmoothness??_CanvasGraphicsContextSystem2.defaultOptions.bezierSmoothness}getContextRenderData(r){return this.getGpuContext(r).graphicsData||this._initContextRenderData(r)}updateGpuContext(r){const i=r._gpuData,l=!!i[this._renderer.uid],p=i[this._renderer.uid]||this._initContext(r);return!r.dirty&&l||(l&&p.reset(),p.isBatchable=!1,r.dirty=!1),p}getGpuContext(r){return r._gpuData[this._renderer.uid]||this._initContext(r)}_initContextRenderData(r){const i=new CanvasGraphicsContextRenderData;return this.getGpuContext(r).graphicsData=i,i.init(),i}_initContext(r){const i=new CanvasGraphicsContext;return i.context=r,r._gpuData[this._renderer.uid]=i,this._managedContexts.add(r),i}destroy(){this._managedContexts.destroy(),this._renderer=null}};Nn.extension={type:[oe.CanvasSystem],name:"graphicsContext"},Nn.defaultOptions={bezierSmoothness:.5};let Hn=Nn;class CanvasGraphicsPipe{constructor(r,i){this.state=dr.for2d(),this.renderer=r,this._adaptor=i,this.renderer.runners.contextChange.add(this),this._managedGraphics=new GCManagedHash({renderer:r,type:"renderable",priority:-1,name:"graphics"})}contextChange(){this._adaptor.contextChange(this.renderer)}validateRenderable(r){return!1}addRenderable(r,i){this._managedGraphics.add(r),this.renderer.renderPipes.batch.break(i),i.add(r)}updateRenderable(r){}execute(r){r.isRenderable&&this._adaptor.execute(this,r)}destroy(){this._managedGraphics.destroy(),this.renderer=null,this._adaptor.destroy(),this._adaptor=null}}function color32BitToUniform(r,i,l){const p=(r>>24&255)/255;i[l++]=(255&r)/255*p,i[l++]=(r>>8&255)/255*p,i[l++]=(r>>16&255)/255*p,i[l++]=p}CanvasGraphicsPipe.extension={type:[oe.CanvasPipes],name:"graphics"};class GraphicsGpuData{constructor(){this.batches=[],this.batched=!1}destroy(){this.batches.forEach(r=>{Je.return(r)}),this.batches.length=0}}class GraphicsPipe{constructor(r,i){this.state=dr.for2d(),this.renderer=r,this._adaptor=i,this.renderer.runners.contextChange.add(this),this._managedGraphics=new GCManagedHash({renderer:r,type:"renderable",priority:-1,name:"graphics"})}contextChange(){this._adaptor.contextChange(this.renderer)}validateRenderable(r){const i=r.context,l=!!r._gpuData,p=this.renderer.graphicsContext.updateGpuContext(i);return!(!p.isBatchable&&l===p.isBatchable)}addRenderable(r,i){const l=this.renderer.graphicsContext.updateGpuContext(r.context);r.didViewUpdate&&this._rebuild(r),l.isBatchable?this._addToBatcher(r,i):(this.renderer.renderPipes.batch.break(i),i.add(r))}updateRenderable(r){const i=this._getGpuDataForRenderable(r).batches;for(let l=0;l<i.length;l++){const r=i[l];r._batcher.updateElement(r)}}execute(r){if(!r.isRenderable)return;const i=this.renderer,l=r.context;if(!i.graphicsContext.getGpuContext(l).batches.length)return;const p=l.customShader||this._adaptor.shader;this.state.blendMode=r.groupBlendMode;const m=p.resources.localUniforms.uniforms;m.uTransformMatrix=r.groupTransform,m.uRound=i._roundPixels|r._roundPixels,color32BitToUniform(r.groupColorAlpha,m.uColor,0),this._adaptor.execute(this,r)}_rebuild(r){const i=this._getGpuDataForRenderable(r),l=this.renderer.graphicsContext.updateGpuContext(r.context);i.destroy(),l.isBatchable&&this._updateBatchesForRenderable(r,i)}_addToBatcher(r,i){const l=this.renderer.renderPipes.batch,p=this._getGpuDataForRenderable(r).batches;for(let m=0;m<p.length;m++){const r=p[m];l.addToBatch(r,i)}}_getGpuDataForRenderable(r){return r._gpuData[this.renderer.uid]||this._initGpuDataForRenderable(r)}_initGpuDataForRenderable(r){const i=new GraphicsGpuData;return r._gpuData[this.renderer.uid]=i,this._managedGraphics.add(r),i}_updateBatchesForRenderable(r,i){const l=r.context,p=this.renderer.graphicsContext.getGpuContext(l),m=this.renderer._roundPixels|r._roundPixels;i.batches=p.batches.map(i=>{const l=Je.get(BatchableGraphics);return i.copyTo(l),l.renderable=r,l.roundPixels=m,l})}destroy(){this._managedGraphics.destroy(),this.renderer=null,this._adaptor.destroy(),this._adaptor=null,this.state=null}}GraphicsPipe.extension={type:[oe.WebGLPipes,oe.WebGPUPipes],name:"graphics"},le.add(CanvasGraphicsPipe),le.add(GraphicsPipe),le.add(Hn),le.add(Cn);class Graphics extends ViewContainer{constructor(r){r instanceof Ln&&(r={context:r});const{context:i,roundPixels:l,...p}=r||{};super({label:"Graphics",...p}),this.renderPipeId="graphics",i?this.context=i:(this.context=this._ownedContext=new Ln,this.context.autoGarbageCollect=this.autoGarbageCollect),this.didViewUpdate=!0,this.allowChildren=!1,this.roundPixels=l??!1}set context(r){r!==this._context&&(this._context&&(this._context.off("update",this.onViewUpdate,this),this._context.off("unload",this.unload,this)),this._context=r,this._context.on("update",this.onViewUpdate,this),this._context.on("unload",this.unload,this),this.onViewUpdate())}get context(){return this._context}get bounds(){return this._context.bounds}updateBounds(){}containsPoint(r){return this._context.containsPoint(r)}destroy(r){this._ownedContext&&!r?this._ownedContext.destroy(r):!0!==r&&!0!==r?.context||this._context.destroy(r),this._ownedContext=null,this._context=null,super.destroy(r)}_onTouch(r){this._gcLastUsed=r,this._context._gcLastUsed=r}_callContextMethod(r,i){return this.context[r](...i),this}setFillStyle(...r){return this._callContextMethod("setFillStyle",r)}setStrokeStyle(...r){return this._callContextMethod("setStrokeStyle",r)}fill(...r){return this._callContextMethod("fill",r)}stroke(...r){return this._callContextMethod("stroke",r)}texture(...r){return this._callContextMethod("texture",r)}beginPath(){return this._callContextMethod("beginPath",[])}cut(){return this._callContextMethod("cut",[])}arc(...r){return this._callContextMethod("arc",r)}arcTo(...r){return this._callContextMethod("arcTo",r)}arcToSvg(...r){return this._callContextMethod("arcToSvg",r)}bezierCurveTo(...r){return this._callContextMethod("bezierCurveTo",r)}closePath(){return this._callContextMethod("closePath",[])}ellipse(...r){return this._callContextMethod("ellipse",r)}circle(...r){return this._callContextMethod("circle",r)}path(...r){return this._callContextMethod("path",r)}lineTo(...r){return this._callContextMethod("lineTo",r)}moveTo(...r){return this._callContextMethod("moveTo",r)}quadraticCurveTo(...r){return this._callContextMethod("quadraticCurveTo",r)}rect(...r){return this._callContextMethod("rect",r)}roundRect(...r){return this._callContextMethod("roundRect",r)}poly(...r){return this._callContextMethod("poly",r)}regularPoly(...r){return this._callContextMethod("regularPoly",r)}roundPoly(...r){return this._callContextMethod("roundPoly",r)}roundShape(...r){return this._callContextMethod("roundShape",r)}filletRect(...r){return this._callContextMethod("filletRect",r)}chamferRect(...r){return this._callContextMethod("chamferRect",r)}star(...r){return this._callContextMethod("star",r)}svg(...r){return this._callContextMethod("svg",r)}restore(...r){return this._callContextMethod("restore",r)}save(){return this._callContextMethod("save",[])}getTransform(){return this.context.getTransform()}resetTransform(){return this._callContextMethod("resetTransform",[])}rotateTransform(...r){return this._callContextMethod("rotate",r)}scaleTransform(...r){return this._callContextMethod("scale",r)}setTransform(...r){return this._callContextMethod("setTransform",r)}transform(...r){return this._callContextMethod("transform",r)}translateTransform(...r){return this._callContextMethod("translate",r)}clear(){return this._callContextMethod("clear",[])}get fillStyle(){return this._context.fillStyle}set fillStyle(r){this._context.fillStyle=r}get strokeStyle(){return this._context.strokeStyle}set strokeStyle(r){this._context.strokeStyle=r}clone(r=!1){if(r)return new Graphics(this._context.clone());this._ownedContext=null;return new Graphics(this._context)}lineStyle(r,i,l){deprecation(0,"Graphics#lineStyle is no longer needed. Use Graphics#setStrokeStyle to set the stroke style.");const p={};return r&&(p.width=r),i&&(p.color=i),l&&(p.alpha=l),this.context.strokeStyle=p,this}beginFill(r,i){deprecation(0,"Graphics#beginFill is no longer needed. Use Graphics#fill to fill the shape with the desired style.");const l={};return void 0!==r&&(l.color=r),void 0!==i&&(l.alpha=i),this.context.fillStyle=l,this}endFill(){deprecation(0,"Graphics#endFill is no longer needed. Use Graphics#fill to fill the shape with the desired style."),this.context.fill();const r=this.context.strokeStyle;return r.width===Ln.defaultStrokeStyle.width&&r.color===Ln.defaultStrokeStyle.color&&r.alpha===Ln.defaultStrokeStyle.alpha||this.context.stroke(),this}drawCircle(...r){return deprecation(0,"Graphics#drawCircle has been renamed to Graphics#circle"),this._callContextMethod("circle",r)}drawEllipse(...r){return deprecation(0,"Graphics#drawEllipse has been renamed to Graphics#ellipse"),this._callContextMethod("ellipse",r)}drawPolygon(...r){return deprecation(0,"Graphics#drawPolygon has been renamed to Graphics#poly"),this._callContextMethod("poly",r)}drawRect(...r){return deprecation(0,"Graphics#drawRect has been renamed to Graphics#rect"),this._callContextMethod("rect",r)}drawRoundedRect(...r){return deprecation(0,"Graphics#drawRoundedRect has been renamed to Graphics#roundRect"),this._callContextMethod("roundRect",r)}drawStar(...r){return deprecation(0,"Graphics#drawStar has been renamed to Graphics#star"),this._callContextMethod("star",r)}}le.add(ue,ce);let zn=null,Bn=null;const Un="canvas-container";const createDisplacementTexture=()=>{const r=document.createElement("canvas");r.width=256,r.height=256;const i=r.getContext("2d",{willReadFrequently:!0});if(!i)return r;for(let l=0;l<r.height;l++)for(let p=0;p<r.width;p++){const r=Math.sin(p/10)*Math.cos(l/10)*128+128;i.fillStyle=`rgb(${r}, ${r}, ${r})`,i.fillRect(p,l,1,1)}return r},createMouseDistortionTexture=()=>{const r=document.createElement("canvas");r.width=256,r.height=256;const i=r.getContext("2d",{willReadFrequently:!0});if(!i)return r;const l=i.createRadialGradient(r.width/2,r.height/2,0,r.width/2,r.height/2,r.width/2);l.addColorStop(0,"rgba(255, 255, 255, 1)"),l.addColorStop(.3,"rgba(160, 160, 255, 0.8)"),l.addColorStop(.7,"rgba(100, 100, 255, 0.4)"),l.addColorStop(1,"rgba(0, 0, 0, 0)"),i.fillStyle=l,i.fillRect(0,0,r.width,r.height);for(let p=0;p<r.height;p++)for(let l=0;l<r.width;l++){const m=l-r.width/2,y=p-r.height/2;if(Math.sqrt(m*m+y*y)<r.width/2){const r=Math.sin(l/5)*Math.cos(p/5)*20,m=i.getImageData(l,p,1,1),y=m.data,v=y[0],_=y[1],x=y[2];void 0!==v&&void 0!==_&&void 0!==x&&(y[0]=Math.min(255,Math.max(0,v+r)),y[1]=Math.min(255,Math.max(0,_+r)),y[2]=Math.min(255,Math.max(0,x+r))),i.putImageData(m,l,p)}}return r},Gn=C.memo(()=>{const{0:r,1:i}=k.useState(!1);return k.useEffect(()=>{if(r)return async function(){const r={width:window.innerWidth,height:window.innerHeight,backgroundColor:0,resolution:window.devicePixelRatio||1,antialias:!0};if(zn=new Pr,await zn.init(r),zn){const r=document.getElementById(Un);r&&(Bn=r.appendChild(zn.canvas))}const i=new Container;zn.stage.addChild(i);const l=new Container;zn.stage.addChild(l);const p=function createNebulaTexture(){const r=document.createElement("canvas");r.width=512,r.height=512;const i=r.getContext("2d",{willReadFrequently:!0});if(!i)return;const l=i.createRadialGradient(r.width/2,r.height/2,0,r.width/2,r.height/2,r.width/2);l.addColorStop(0,"#1a237e"),l.addColorStop(.4,"#283593"),l.addColorStop(.6,"#303f9f"),l.addColorStop(.8,"#3949ab"),l.addColorStop(1,"#000000"),i.fillStyle=l,i.fillRect(0,0,r.width,r.height);for(let p=0;p<5e3;p++){const l=Math.random()*r.width,p=Math.random()*r.height,m=2*Math.random(),y=.5*Math.random();i.beginPath(),i.arc(l,p,m,0,2*Math.PI),i.closePath();const v=Math.floor(100*Math.random())+155,_=Math.floor(50*Math.random()),x=Math.floor(100*Math.random())+155;i.fillStyle=`rgba(${v}, ${_}, ${x}, ${y})`,i.fill()}return Texture.from(r)}(),m=new Sprite(p);m.width=1.2*window.innerWidth,m.height=1.2*window.innerHeight,m.x=.1*-window.innerWidth,m.y=.1*-window.innerHeight,m.alpha=.8,i.addChild(m);const y=Sprite.from(createDisplacementTexture());y.texture.source.addressMode="repeat",y.scale.set(2),zn.stage.addChild(y);const v=new DisplacementFilter(y);v.scale.set(100),i.filters=[v],function addStars(r=10){for(let i=0;i<r;i++){const r=new Graphics,i=2*Math.random()+.5,p=.5*Math.random()+.5;r.circle(0,0,i).fill({color:16777215,alpha:p}),r.x=Math.random()*window.innerWidth,r.y=Math.random()*window.innerHeight,r.alpha=Math.random(),l.addChild(r)}}(200);let _=window.innerWidth/2,x=window.innerHeight/2,S=_,k=x,C=0;const P=new Container;zn.stage.addChild(P);const E=Sprite.from(createMouseDistortionTexture());E.anchor.set(.5),E.scale.set(.5),E.alpha=.7,E.blendMode="screen",P.addChild(E);const T=new DisplacementFilter(E);T.scale.set(30),i.filters=[v,T],window.addEventListener("mousemove",r=>{S=_,k=x,_=r.clientX,x=r.clientY;const i=_-S,l=x-k;C=Math.sqrt(i*i+l*l),C=Math.min(C,30)}),zn.ticker.add(()=>{if(!zn)return;y.x+=1,y.y+=.5;const r=.01*(window.innerWidth/2-_),i=.01*(window.innerHeight/2-x);m.x+=.02*(r-m.x),m.y+=.02*(i-m.y),E.x=_,E.y=x,E.rotation+=.01,T.scale.x=30+2*C,T.scale.y=30+2*C;const p=.5+.1*Math.sin(zn.ticker.lastTime/200);E.scale.set(p+.01*C),function animateStars(){const r=.5;for(let i=0;i<l.children.length;i++){const p=l.children[i];p&&(p.alpha+=.05*(Math.random()-.5),p.alpha=Math.max(.2,Math.min(1,p.alpha)),p.x+=(Math.random()-.5)*r,p.y+=(Math.random()-.5)*r,p.x<0&&(p.x=window.innerWidth),p.x>window.innerWidth&&(p.x=0),p.y<0&&(p.y=window.innerHeight),p.y>window.innerHeight&&(p.y=0))}}()}),window.addEventListener("resize",()=>{zn&&(zn.renderer.resize(window.innerWidth,window.innerHeight),m.width=1.2*window.innerWidth,m.height=1.2*window.innerHeight)})}(),()=>{zn&&zn.destroy(!0),Bn&&Bn.firstChild&&Bn.removeChild(Bn.firstChild)}},[r]),k.useEffect(()=>{i(!0)},[]),_.jsx("div",{id:Un})},()=>!0);U.createRoot(document.getElementById("root")).render(_.jsxs(C.StrictMode,{children:[_.jsx(Gn,{}),_.jsx(FPSCounter,{}),_.jsx(App,{})]}));export{getGlobalBounds as $,Sr as A,Buffer as B,Qe as C,Tt as D,fe as E,vn as F,Graphics as G,yr as H,Ne as I,or as J,compileHighShaderGpuProgram as K,Xr as L,Matrix as M,Jr as N,generateTextureBatchBit as O,Point as P,Shader as Q,lr as R,Rr as S,Texture as T,At as U,fr as V,TextureMatrix as W,GpuProgram as X,Zt as Y,sn as Z,Je as _,Br as a,Bounds as a0,vt as a1,FilterEffect as a2,Sprite as a3,RenderGroup as a4,multiplyColors as a5,Ct as a6,wt as a7,kt as a8,Le as a9,Rectangle as aa,getLocalBounds as ab,color32BitToUniform as ac,kr as ad,deprecation as ae,Ie as af,RendererInitHook as ag,SystemRunner as ah,Geometry as ai,checkMaxIfStatementsInShader as aj,compileHighShaderGlProgram as ak,Qr as al,en as am,generateTextureBatchBitGl as an,getBatchSamplersUniformGroup as ao,uid as b,Ee as c,bgr2rgb as d,oe as e,generateTextureMatrix as f,getAttributeInfoFromFormat as g,buildLine as h,FillPattern as i,CanvasSource as j,le as k,Rt as l,multiplyHexColors as m,Container as n,nextPow2 as o,Ze as p,getTextureBatchBindGroup as q,removeItems as r,xn as s,dr as t,unsafeEvalSupported as u,GCManagedHash as v,warn as w,fastCopy as x,BindGroup as y,createIdFromString as z};
